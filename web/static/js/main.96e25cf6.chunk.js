(this["webpackJsonpreact-control-panel"]=this["webpackJsonpreact-control-panel"]||[]).push([[0],Array(63).concat([function(e,t,a){},,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(299)},,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),l=a.n(r),o=a(2),s=a(85),i=a(32),u=a(1),m={focusedElement:"",activeElement:"",adminMenuTabs:["/list/user/","/list/web/","/list/dns/","/list/mail/","/list/db/","/list/cron/","/list/backup/","/list/package/","/list/ip/","/list/rrd/","/list/stats/","/list/log/","/list/updates/","/list/firewall/","/list/directory/","/softaculous/","/list/server/"],userMenuTabs:["/list/user/","/list/web/","/list/dns/","/list/mail/","/list/db/","/list/cron/","/list/backup/","/list/stats/","/list/log/","/list/directory/","/softaculous/"]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FOCUSED_ELEMENT":case"REMOVE_FOCUSED_ELEMENT":return Object(u.a)(Object(u.a)({},e),{},{focusedElement:t.value});case"ADD_ACTIVE_ELEMENT":case"REMOVE_ACTIVE_ELEMENT":return Object(u.a)(Object(u.a)({},e),{},{activeElement:t.value});default:return e}},E={controlPanelFocusedElement:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CPANEL_FOCUSED_ELEMENT":return Object(u.a)(Object(u.a)({},e),{},{controlPanelFocusedElement:t.value});case"REMOVE_CPANEL_FOCUSED_ELEMENT":return Object(u.a)(Object(u.a)({},e),{},{controlPanelFocusedElement:""});default:return e}},v={notifications:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATIONS":case"REMOVE_NOTIFICATIONS":return Object(u.a)(Object(u.a)({},e),{},{notifications:t.value});default:return e}},b={user:{}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_COUNTERS":return Object(u.a)(Object(u.a)({},e),{},{user:t.value.user});default:return e}},h={token:"",error:"",session:{},i18n:{},userName:"",panel:{}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"LOGOUT":case"LOGGED_OUT_AS":case"CHECK_AUTH":return Object(u.a)(Object(u.a)({},e),{},{token:t.value.token,session:t.value.session,userName:t.value.userName,i18n:t.value.i18n||{},panel:t.value.panel,error:t.value.error});default:return e}},N=Object(i.combineReducers)({mainNavigation:d,controlPanelContent:p,notifications:f,menuCounters:g,session:O}),j=a(86);a(103);var k=a(21),y=a(4),_=a(23),S=a.n(_),w=a(15),M=a(30),A=a(18),C=a(19),D=a(22),F=a(20),x=a(9),T=(a(105),function(){return c.a.createElement("div",{className:"spinner-wrapper"},c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})))}),L=(a(106),function(e){var t,a=Object(o.d)((function(e){return e.session})).i18n,n=function(e,t,a){a.isActive&&a.changeSorting(e,t)},r=function(e){return"Type"===e?a.type:"Size"===e?a.size:"Date"===e?a.date:"Name"===e?a.name:void 0};return c.a.createElement("div",{class:"btn-group"},(t=e.sorting,"descending"===e.order?c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r(t),c.a.createElement("span",{className:"arrow-down"},"\u2193")):c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r(t),c.a.createElement("span",null,"\u2191"))),c.a.createElement("div",{class:"dropdown-menu"},c.a.createElement("ul",{className:"dropdown-list"},c.a.createElement("li",null,c.a.createElement("span",{className:"Type"===e.sorting&&"descending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Type","descending",e)}},a.type,c.a.createElement("span",{className:"arrow-down"},"\u2193")),c.a.createElement("span",{className:"Type"===e.sorting&&"ascending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Type","ascending",e)}},c.a.createElement("span",null,"\u2191"))),c.a.createElement("li",null,c.a.createElement("span",{className:"Size"===e.sorting&&"descending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Size","descending",e)}},a.size,c.a.createElement("span",{className:"arrow-down"},"\u2193")),c.a.createElement("span",{className:"Size"===e.sorting&&"ascending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Size","ascending",e)}},c.a.createElement("span",null,"\u2191"))),c.a.createElement("li",null,c.a.createElement("span",{className:"Date"===e.sorting&&"descending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Date","descending",e)}},a.date,c.a.createElement("span",{className:"arrow-down"},"\u2193")),c.a.createElement("span",{className:"Date"===e.sorting&&"ascending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Date","ascending",e)}},c.a.createElement("span",null,"\u2191"))),c.a.createElement("li",null,c.a.createElement("span",{className:"Name"===e.sorting&&"descending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Name","descending",e)}},a.name,c.a.createElement("span",{className:"arrow-down"},"\u2193")),c.a.createElement("span",{className:"Name"===e.sorting&&"ascending"===e.order?"dropdown-item active":"dropdown-item",onClick:function(){return n("Name","ascending",e)}},c.a.createElement("span",null,"\u2191"))))))}),U=(a(107),function(e){var t=e.path,a=e.isActive,n=e.className,r=e.openDirectory,l=e.changeSorting,s=e.sorting,i=e.order,u=Object(o.d)((function(e){return e.menuCounters})).user,m=function(e){var n=t.split("/");if(a&&void 0!==e){var c=n.splice(0,e+4).join("/");r(c)}};return c.a.createElement("div",{className:n},c.a.createElement("div",{className:"clickable-wrapper"},c.a.createElement("span",{className:"clickable-path"},c.a.createElement("span",{className:"clickable",onClick:function(){return r(u.HOME)}},u.HOME),function(){var e=t.split("/");if(e.splice(0,3),t!==u.HOME)return e.map((function(e,t){return c.a.createElement("span",{className:"clickable",key:t,onClick:function(){return m(t)}},"\xa0/\xa0",e)}))}())),c.a.createElement(L,{changeSorting:l,sorting:s,order:i,isActive:a}))}),I=a(16),P=a(3),R=a(37),V=(a(110),function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){document.addEventListener("keydown",e.openOnEnter)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.openOnEnter)},e.openOnEnter=function(t){var a=e.props,n=a.activeRow,c=a.data,r=c.name,l=c.type,o=a.isActiveList,s=a.modalVisible,i=a.openDirectory,u=a.cursor,m=a.download,d=a.path;!s&&n&&o&&13===t.keyCode&&(e.isArchive(r)||"l"===l?m():e.isFile(l)&&0!==u?e.changePath(d,r):i(r))},e.openItem=function(){var t=e.props,a=t.data,n=a.type,c=a.name,r=t.openDirectory,l=t.download,o=t.path;if(t.isActiveList)return e.isArchive(c)||"l"===n||c.match(".mp4")?l():e.isFile(n)?e.changePath(o,c):"d"===n?r(c):void 0},e.changePath=function(t,a){e.props.history.push({pathname:"/list/directory/preview/",search:"?path=".concat(t,"/").concat(a)})},e.selectRow=function(t){var a=e.props,n=a.data,c=n.name,r=n.permissions,l=n.type,o=a.selectMultiple,s=a.selectOnClick,i=a.cursor,u=a.activeRow;t.ctrlKey&&0!==i&&o(),u||s(i,c,r,l)},e.className=function(){var t=e.props,a=t.activeRow,n=t.selected;if(t.isActiveList){var c=a?"active":"";return c.length?c:n?"selected":""}var r=a?"inactive":"";return r.length?r:n?"inactive-selected":""},e.sizeFormatter=function(t,a){if(void 0===t||"d"===e.props.data.type)return null;if("0"===t)return c.a.createElement("span",{className:"value"},"0 ",c.a.createElement("span",{className:"unit"},"b"));var n=a<=0?0:a||2,r=Math.floor(Math.log(t)/Math.log(1024));return c.a.createElement("span",{className:"value"},parseFloat((t/Math.pow(1024,r)).toFixed(n))," ",c.a.createElement("span",{className:"unit"},["b","kb","Mb","GB"][r]))},e.dateFormatter=function(t){if(void 0===t)return null;var a=new Date(t),n=a.getDate(),r=e.props.session.i18n[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]];return c.a.createElement("span",{className:"date"},r," ",n)},e.glyph=function(){var t=e.props.data,a=t.type,n=t.name;return"d"===a?c.a.createElement(P.a,{icon:"folder-open",className:"folder-open"}):e.isFile(a)?e.isArchive(n)?c.a.createElement(P.a,{icon:"book",className:"archive"}):n.match(/png|jpg|jpeg|gif/g)?c.a.createElement(P.a,{icon:"image",className:"image"}):null!==n.match(".mp4")?c.a.createElement(P.a,{icon:"download",className:"download"}):n.match(".txt")?c.a.createElement(P.a,{icon:"file-alt",className:"file-alt"}):n.match(".js")?c.a.createElement(P.a,{icon:R.c,className:"js"}):n.match(".html")?c.a.createElement(P.a,{icon:R.b,className:"html5"}):n.match(".php")?c.a.createElement(P.a,{icon:R.d,className:"php"}):n.match(/.scss/i)?c.a.createElement(P.a,{icon:R.e,className:"sass"}):n.match(/.css/i)?c.a.createElement(P.a,{icon:R.a,className:"css3"}):c.a.createElement(P.a,{icon:"file",className:"file"}):"l"===a?c.a.createElement(P.a,{icon:"download",className:"download"}):void 0},e}return Object(C.a)(a,[{key:"isArchive",value:function(e){return e.match(/zip|tgz|tar.gz|gzip|tbz|tar.bz|gz|zip|tar|rar/g)}},{key:"isFile",value:function(e){return"f"===e}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.name,n=t.owner,r=t.permissions,l=t.size,o=t.date,s=t.time;return c.a.createElement("li",{className:this.className(),onClick:this.selectRow},c.a.createElement("span",{className:"marker"}),this.glyph(),c.a.createElement("span",{className:"fName"},c.a.createElement("span",{className:"name",onClick:function(t){return e.openItem(t)}},0===this.props.cursor?"..":a)),c.a.createElement("span",{className:"fPermissions"},r),c.a.createElement("span",{className:"fOwner"},n),c.a.createElement("span",{className:"fSize"},this.sizeFormatter(l)),c.a.createElement("span",{className:"fDate"},this.dateFormatter(o)),c.a.createElement("span",{className:"fTime"},s))}}]),a}(n.Component));var B=Object(o.b)((function(e){return{session:e.session}}))(Object(I.j)(V)),W=(a(112),function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={orderType:"descending",sortingType:"Type",itemsSelected:[],cursor:0},e.UNSAFE_componentWillMount=function(){localStorage.getItem("".concat(e.props.list,"Sorting"))&&localStorage.getItem("".concat(e.props.list,"Order"))&&e.setState({sortingType:localStorage.getItem("".concat(e.props.list,"Sorting")),orderType:localStorage.getItem("".concat(e.props.list,"Order"))})},e.componentDidMount=function(){document.addEventListener("keydown",e.handleLiSelection),document.addEventListener("keydown",e.moveBackOnButton)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleLiSelection),document.removeEventListener("keydown",e.moveBackOnButton)},e.cacheSorting=function(){localStorage.setItem("".concat(e.props.list,"Sorting"),e.state.sortingType),localStorage.setItem("".concat(e.props.list,"Order"),e.state.orderType)},e.moveBackOnButton=function(t){8===t.keyCode&&!e.props.modalVisible&&e.props.isActive&&e.moveBack()},e.moveBack=function(){e.isHomeDirectory()||e.props.moveBack()},e.isHomeDirectory=function(){return e.props.path===e.props.rootDir},e.toggleActiveList=function(){var t=e.props,a=t.history,n=t.path,c=t.list,r=t.onClick,l=t.changePathAfterToggle;t.isActive||(r(c),l(n),a.push({pathname:"/list/directory/",search:"?path=".concat(n)}),e.cacheActiveWindowAndPaths(),e.passData())},e.cacheActiveWindowAndPaths=function(){localStorage.setItem("activeWindow",e.props.list),localStorage.setItem("".concat(e.props.list,"ListPath"),e.props.path),localStorage.setItem("".concat(e.props.list,"ListPath"),e.props.path)},e.isSelected=function(t){return-1!==e.state.itemsSelected.indexOf(t)},e.handleLiSelection=function(t){var a=e.props,n=a.data,c=a.isActive,r=a.modalVisible,l=a.changePath,o=a.path,s=e.state.cursor;if(c&&!r){if(40===t.keyCode){if(s===n.listing.length-1)return;if(t.shiftKey){var i=n.listing[s].name;e.addToSelection(i)}e.setState({cursor:s+1}),e.passData(),l(o)}if(38===t.keyCode){if(0===s)return;if(t.shiftKey){var u=n.listing[s].name;e.addToSelection(u)}e.setState({cursor:s-1}),e.passData(),l(o)}}},e.resetData=function(){e.setState({cursor:0,itemsSelected:[]})},e.passData=function(){var t=e.props,a=t.data,n=t.passData,c=a.listing[e.state.cursor],r=c.name,l=c.permissions,o=c.type;n(e.state.cursor,r,l,o)},e.openDirectory=function(t){var a=e.props,n=a.history,c=a.path,r=a.addToPath,l=a.openDirectory;n.push({pathname:"/list/directory/",search:"?path=".concat(c,"/").concat(t)}),r(t),l(),e.setState({cursor:0})},e.openCertainDirectory=function(t){var a=e.props,n=a.history,c=a.openCertainDirectory,r=a.changePath;e.isHomeDirectory()||(n.push({pathname:"/list/directory/",search:"?path=".concat(t)}),r(t),c())},e.changeSorting=function(t,a){e.setState({sortingType:t,orderType:a},(function(){return e.cacheSorting()}))},e.sortByType=function(t,a){return"descending"===e.state.orderType&&""!==t.name?t.type.localeCompare(a.type):"ascending"===e.state.orderType&&""!==a.name?a.type.localeCompare(t.type):void 0},e.sortBySize=function(t,a){return"descending"===e.state.orderType&&""!==t.name?t.size-a.size:"ascending"===e.state.orderType&&""!==a.name?a.size-t.size:void 0},e.sortByDate=function(t,a){return"descending"===e.state.orderType&&""!==t.name?new Date(t.date)-new Date(a.date):"ascending"===e.state.orderType&&""!==t.name?new Date(a.date)-new Date(t.date):void 0},e.sortByName=function(t,a){return"descending"===e.state.orderType&&""!==t.name?t.name.localeCompare(a.name):"ascending"===e.state.orderType&&""!==a.name?a.name.localeCompare(t.name):void 0},e.sortData=function(t,a){switch(e.state.sortingType){case"Type":return e.sortByType(t,a);case"Size":if("d"!==t.type&&"d"!==a.type)return e.sortBySize(t,a);break;case"Date":return e.sortByDate(t,a);case"Name":return e.sortByName(t,a);default:return e.sortByType(t,a)}},e.rows=function(){var t=e.props,a=t.isActive,n=t.modalVisible,r=t.path,l=t.download,o=e.state.cursor,s=Object(u.a)({},e.props.data);if(0!==s.listing.length){var i=s.listing.sort((function(t,a){return e.sortData(t,a)}));return i.map((function(t,s){return""!==t.name&&0!==i.length?c.a.createElement(B,{key:s,selectOnClick:function(t,a,n,c){e.setState({cursor:t}),e.props.passData(t,a,n,c)},selectMultiple:function(){return e.addToSelection(t.name)},selected:e.isSelected(t.name),openDirectory:e.openDirectory,modalVisible:n,activeRow:s===o,isActiveList:a,download:l,cursor:s,data:t,path:r}):c.a.createElement(B,{key:s,selectOnClick:function(t,a,n,c){e.setState({cursor:t}),e.props.passData(t,a,n,c)},openDirectory:e.moveBack,modalVisible:n,activeRow:s===o,isActiveList:a,cursor:s,data:t,path:r})}))}},e}return Object(C.a)(a,[{key:"addToSelection",value:function(e){var t=this.state.itemsSelected,a=Object(x.a)(t),n=t.indexOf(e);if(-1!==n)a.splice(n,1);else{if(""===e)return;a.push(e)}this.setState({itemsSelected:a}),this.props.passSelection(a)}},{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.path,n=e.loading;return c.a.createElement("div",{className:t?"list active":"list",onClick:this.toggleActiveList},c.a.createElement(U,{className:t?"active-path":"path",openDirectory:this.openCertainDirectory,changeSorting:this.changeSorting,sorting:this.state.sortingType,order:this.state.orderType,isActive:t,path:a}),c.a.createElement("div",{className:"list-container"},c.a.createElement("ul",null,n&&t?c.a.createElement(T,null):this.rows())))}}]),a}(n.Component)),H=(a(113),function(e){return c.a.createElement("div",{class:"progress"},c.a.createElement("div",{class:"progress-bar",role:"progressbar",style:{width:"".concat(e.progress,"%")},"aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}))}),q=a(35),J=(a(114),function(e){var t=Object(o.d)((function(e){return e.session})).i18n;Object(n.useEffect)((function(){return window.addEventListener("keyup",a),function(){return window.removeEventListener("keyup",a)}}),[e.reference]);var a=function(t){var a=document.querySelector("input:focus")||document.querySelector("textarea:focus");72!==t.keyCode||a||e.toggleHotkeys()};return c.a.createElement("div",{className:"hotkeys-list hide",ref:e.reference},c.a.createElement("div",{className:"head"},c.a.createElement("div",{className:"name"},t.Shortcuts),c.a.createElement("div",{className:"close",onClick:function(){return e.toggleHotkeys()}},c.a.createElement(P.a,{icon:"times"}))),c.a.createElement("div",{className:"body"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"u"),c.a.createElement("span",{className:"description"},t.Upload)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"n"),c.a.createElement("span",{className:"description"},t["New Fille"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F7"),c.a.createElement("span",{className:"description"},t["New Folder"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"d"),c.a.createElement("span",{className:"description"},t.Download)),c.a.createElement("li",{className:"space-top"},c.a.createElement("span",{className:"name"},"F2 / Shift + F6"),c.a.createElement("span",{className:"description"},t.Rename)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"m"),c.a.createElement("span",{className:"description"},t.Move)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F5"),c.a.createElement("span",{className:"description"},t.Copy)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F5"),c.a.createElement("span",{className:"description"},t.Copy)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F8 / Del"),c.a.createElement("span",{className:"description"},t.Delete)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F2"),c.a.createElement("span",{className:"description"},t["Save File (in text editor)"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"h"),c.a.createElement("span",{className:"description"},t["Display/Close shortcuts"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Esc"),c.a.createElement("span",{className:"description"},t["Close Popup / Cancel"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F10"),c.a.createElement("span",{className:"description"},t["Close Preview / Editor"]))),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2191"),c.a.createElement("span",{className:"description"},t["Move Cursor Up"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2193"),c.a.createElement("span",{className:"description"},t["Move Cursor Down"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2190"),c.a.createElement("span",{className:"description"},t["Switch to Left Tab"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2192"),c.a.createElement("span",{className:"description"},t["Switch to Right Tab"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"a"),c.a.createElement("span",{className:"description"},t.Archive)),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Enter"),c.a.createElement("span",{className:"description"},t["Open File / Enter Directory"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"F4"),c.a.createElement("span",{className:"description"},t["Edit File"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Backspace"),c.a.createElement("span",{className:"description"},t["Go to Parent Directory"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Ctr + Click"),c.a.createElement("span",{className:"description"},t["Add File to the Current Selection"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Shift + Cursor up/down"),c.a.createElement("span",{className:"description"},t["Select Bunch of Files"])))))}),K=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h3",{className:"modal-title"},t["Create file"])),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Create)))},z=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h3",{className:"modal-title directory"},t["Create directory"])),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",ref:e.reference,autoFocus:!0})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Create)))},Y=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content rename"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h3",{className:"modal-title rename"},t.Rename," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"'))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.fName,onChange:e.onChange,ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Rename)))},G=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content delete"},c.a.createElement("div",{className:"modal-header"},e.items>0?c.a.createElement("h3",null,t["Delete items"]," ",c.a.createElement("span",{className:"quot"},"(",e.items,")")," ?"):c.a.createElement("h3",null,t["Are you sure you want to delete"]," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"'),"?")),c.a.createElement("div",{className:"modal-footer lower"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save,autoFocus:!0},t.Delete)))},Q=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content nothing-selected"},c.a.createElement("div",{className:"header"},e.notAvailable?c.a.createElement("h3",null,t["Directory download not available in current version"]):c.a.createElement("h3",null,t["No file selected"])),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Close)))},X=a(45),Z=a.n(X),$={owner:{read:0,write:0,execute:0},group:{read:0,write:0,execute:0},others:{read:0,write:0,execute:0}},ee=function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).decodeSingleNumber=function(e){var t=parseInt(e,0);return{read:n.inArray(t,[4,5,6,7])?4:0,write:n.inArray(t,[2,3,6,7])?2:0,execute:n.inArray(t,[1,3,5,7])?1:0}},n.onChangeForm=function(e){var t=e.target,a=t.name.split("_"),c=Object(y.a)(a,2),r=c[0],l=c[1];n.setState({permissions:Object(u.a)(Object(u.a)({},n.state.permissions),{},Object(w.a)({},r,Object(u.a)(Object(u.a)({},n.state.permissions[r]),{},Object(w.a)({},l,t.checked?t.value:0))))},(function(e){n.inputRef.value=n.encode(),n.props.changePermissions(n.inputRef.value)}))},n.handleInputChange=function(e){var t=e.target.value;if(!n.isValid(t))return n.setState({inputInvalid:!0});n.setState({permissions:n.decode(t),inputInvalid:!1}),n.props.changePermissions(n.inputRef.value)},n.state={permissions:n.decode(n.props.permissions)||$,inputInvalid:!1},n}return Object(C.a)(a,[{key:"inArray",value:function(e,t){return!!~t.indexOf(e)}},{key:"isValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 3===e.length&&"000"!==e&&!e.match(/[A-Za-z]/)&&void 0===e.split("").find((function(e){return parseInt(e,0)<0||parseInt(e,0)>7}))}},{key:"decode",value:function(e){if(!this.isValid(e))return null;var t=e.split("").map(this.decodeSingleNumber);return{owner:t[0],group:t[1],others:t[2]}}},{key:"encode",value:function(){var e=this;return["owner","group","others"].reduce((function(t,a){var n,c=e.state.permissions[a];return t+(n=c,Object.values(n).map((function(e){return parseInt(e,0)})).reduce((function(e,t){return e+t}),0))}),"")}},{key:"render",value:function(){var e=this,t=this.props.session.i18n,a=this.state.inputInvalid,n=this.props,r=n.close,l=n.save,o=n.fName,s=Z()({"form-control total":!0,error:a});return c.a.createElement("div",{className:"modal-content permissions"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h3",{className:"modal-title perms"},t["Change Rights"]," ",c.a.createElement("span",{className:"quot"},'"',o,'"'))),c.a.createElement("form",{name:"form",onChange:this.onChangeForm},c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"owner_read",value:"4",checked:!!this.state.permissions.owner.read,id:"read"}),t["read by owner"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"owner_write",value:"2",checked:!!this.state.permissions.owner.write}),t["write by owner"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"owner_execute",value:"1",checked:!!this.state.permissions.owner.execute}),t["execute/search by owner"])),c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"group_read",value:"4",checked:!!this.state.permissions.group.read,id:"read"}),t["read by group"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"group_write",value:"2",checked:!!this.state.permissions.group.write}),t["write by group"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"group_execute",value:"1",checked:!!this.state.permissions.group.execute}),t["execute/search by group"])),c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"others_read",value:"4",checked:!!this.state.permissions.others.read,id:"read"}),t["read by others"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"others_write",value:"2",checked:!!this.state.permissions.others.write}),t["write by others"]),c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",name:"others_execute",value:"1",checked:!!this.state.permissions.others.execute}),t["execute/search by others"]))),c.a.createElement("input",{type:"text",className:s,defaultValue:this.encode(),ref:function(t){return e.inputRef=t},onChange:this.handleInputChange,maxLength:"3"}),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:r},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:l,disabled:a},t.OK)))}}]),a}(n.Component);var te=Object(o.b)((function(e){return{session:e.session}}))(ee),ae=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},e.items>0?c.a.createElement("h3",{className:"modal-title"},t["Move files"]," ",c.a.createElement("span",{className:"quot"},"(",e.items,")")," ",t.into,":"):c.a.createElement("h3",{className:"modal-title rename"},t.Move," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"')," ",t.into,":")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.path,onChange:e.onChange,ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Move)))},ne=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},e.items>0?c.a.createElement("h3",{className:"modal-title"},t.Compress," ",c.a.createElement("span",{className:"quot"},"(",e.items,")"),"?"):c.a.createElement("h3",{className:"modal-title rename"},t.Compress," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"'),"?")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:"".concat(e.path,"/").concat(e.fName,".tar.gz"),onBlur:e.onChange,ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Compress),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Compress)))},ce=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h3",{className:"modal-title rename"},t.Extract," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"'),t.into)),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.path,onBlur:e.onChange,ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Extract)))},re=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},e.items>0?c.a.createElement("h3",{className:"modal-title"},t["Copy files"]," ",c.a.createElement("span",{className:"quot"},"(",e.items,")")," ",t.into,":"):c.a.createElement("h3",{className:"modal-title rename"},t.Copy," ",c.a.createElement("span",{className:"quot"},'"',e.fName,'"')," ",t.into,":")),c.a.createElement("div",{className:"modal-body"},c.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.path,onChange:e.onChange,ref:e.reference})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:e.close},t.Cancel),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.save},t.Copy)))},le=(a(115),function(e){return c.a.createElement("div",{className:"modal-content replace"},c.a.createElement("div",{className:"modal-header"},e.files.length>1?c.a.createElement("div",null,c.a.createElement("h3",null,"These files already exist"),e.files.map((function(e){return c.a.createElement("span",{className:"quot"},'"',e.name,'" ')}))):c.a.createElement("div",null,c.a.createElement("h3",null,"This file already exists"),c.a.createElement("span",{className:"quot"},'"',e.files[0].name,'"'))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary mr-auto",onClick:e.close},"Cancel"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.replace(e.files)}},"Overwrite")))}),oe=function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){window.addEventListener("click",e.closeOutside),document.addEventListener("keydown",e.hotkeys)},e.componentWillUnmount=function(){window.removeEventListener("click",e.closeOutside),document.removeEventListener("keydown",e.hotkeys)},e.hotkeys=function(t){27===t.keyCode?e.closeModal():13===t.keyCode&&e.saveAndClose()},e.saveAndClose=function(){e.props.onClick(),e.props.onClose()},e.changePermissions=function(t){e.props.onChangePermissions(t)},e.replace=function(t){e.props.onClick(t),e.props.onClose()},e.onChange=function(t){e.props.onChangeValue(t.target.value)},e.closeModal=function(){e.props.onClose()},e.closeOutside=function(t){var a=document.getElementById("modal");t.target===a&&e.props.onClose()},e.content=function(){var t=e.props,a=t.type,n=t.reference,r=t.fName,l=t.permissions,o=t.items,s=t.path,i=t.files,u=t.notAvailable;switch(a){case"Copy":return c.a.createElement(re,{close:e.closeModal,save:e.saveAndClose,reference:n,onChange:e.onChange,name:a,fName:r,items:o,path:s});case"Move":return c.a.createElement(ae,{close:e.closeModal,save:e.saveAndClose,reference:n,onChange:e.onChange,name:a,fName:r,items:o,path:s});case"Permissions":return c.a.createElement(te,{close:e.closeModal,save:e.saveAndClose,changePermissions:e.changePermissions,fName:r,permissions:l});case"Extract":return c.a.createElement(ce,{close:e.closeModal,save:e.saveAndClose,reference:n,onChange:e.onChange,name:a,fName:r,path:s});case"Archive":return c.a.createElement(ne,{close:e.closeModal,save:e.saveAndClose,reference:n,onChange:e.onChange,items:o,name:a,fName:r,path:s});case"Rename":return c.a.createElement(Y,{close:e.closeModal,save:e.saveAndClose,reference:n,onChange:e.onChange,name:a,fName:r});case"Add directory":return c.a.createElement(z,{close:e.closeModal,save:e.saveAndClose,reference:n});case"Delete":return c.a.createElement(G,{close:e.closeModal,save:e.saveAndClose,fName:r,items:o});case"Add file":return c.a.createElement(K,{close:e.closeModal,save:e.saveAndClose,reference:n});case"Replace":return c.a.createElement(le,{close:e.closeModal,replace:function(t){return e.replace(t)},files:i});case"Nothing selected":return c.a.createElement(Q,{close:e.closeModal,notAvailable:u})}},e}return Object(C.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"modal",id:"modal"},this.content()))}}]),a}(n.Component),se=(a(116),a(117),a(5)),ie=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.createRef)();Object(n.useEffect)((function(){return document.addEventListener("keydown",f),function(){return document.removeEventListener("keydown",f)}}),[]);var r=function(){e.openModal("Add file")},l=function(){e.openModal("Add directory")},s=function(){var t=e.selection,a=e.openModal,n=e.cursor;0===t.length?a(0===n?"Nothing selected":"Delete"):a("Delete",t.length)},i=function(){0===e.cursor?e.openModal("Nothing selected"):e.openModal("Rename")},u=function(){0===e.cursor?e.openModal("Nothing selected"):e.openModal("Permissions")},m=function(){var t=e.selection,a=e.openModal,n=e.cursor;0===t.length?a(0===n?"Nothing selected":"Move"):a("Move",t.length)},d=function(){var t=e.selection,a=e.openModal,n=e.cursor;0===t.length?a(0===n?"Nothing selected":"Archive"):a("Archive",t.length)},E=function(){0===e.cursor?e.openModal("Nothing selected"):e.openModal("Extract")},p=function(){var t=e.selection,a=e.openModal,n=e.cursor;0===t.length?a(0===n?"Nothing selected":"Copy"):a("Copy",t.length)},v=function(){0===e.cursor?e.openModal("Nothing selected"):"d"===e.itemType?e.openModal("Nothing selected",null,!0):e.download()},f=function(t){if(!e.modalVisible)switch(t.shiftKey&&117===t.keyCode&&i(),t.keyCode){case 46:return s();case 65:return d();case 68:return v();case 77:return m();case 78:return r();case 85:return a.click();case 113:return i();case 115:return u();case 116:return p();case 118:return l();case 119:return s()}},b=e.name.match(/.zip|.tgz|.tar.gz|.gzip|.tbz|.tar.bz|.gz|.zip|.tar|.rar/g);return c.a.createElement("div",{className:"menu"},c.a.createElement("div",{className:"logo"},c.a.createElement(se.b,{to:"/"},c.a.createElement("img",{src:"../../images/logo.png",alt:"Logo"}))),c.a.createElement("div",{className:"btn-group",role:"group","aria-label":"First group"},c.a.createElement("input",{type:"file",className:"upload",multiple:!0,onChange:function(t){0!==t.target.files.length&&e.upload(t.target.files)},ref:a}),c.a.createElement("button",{type:"button",className:"btn btn-light",id:"upload",onClick:function(){return a.current.click()}},t.UPLOAD),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:r},t["NEW FILE"]),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:r,title:t["NEW FILE"]},c.a.createElement(P.a,{icon:"file",className:"icon file"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:l},t["NEW DIR"]),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:l,title:t["NEW DIR"]},c.a.createElement(P.a,{icon:"folder",className:"icon folder-close"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:v},t.DOWNLOAD),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:v,title:t.DOWNLOAD},c.a.createElement(P.a,{icon:"download",className:"icon download"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:i},t.RENAME),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:i,title:t.RENAME},c.a.createElement(P.a,{icon:"italic",className:"icon italic"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:u},t.RIGHTS),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:u,title:t.RIGHTS},c.a.createElement(P.a,{icon:"user",className:"icon user"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:p},t.COPY),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:p,title:t.COPY},c.a.createElement(P.a,{icon:"copy",className:"icon copy"})),c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:m},t.MOVE),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:m,title:t.MOVE},c.a.createElement(P.a,{icon:"paste",className:"icon paste"})),b?null:c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:d},t.ARCHIVE),b?null:c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:d,title:t.ARCHIVE},c.a.createElement(P.a,{icon:"book",className:"icon book"})),b?c.a.createElement("button",{type:"button",className:"btn btn-light big",onClick:E},t.EXTRACT):null,b?c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:E,title:t.EXTRACT},c.a.createElement(P.a,{icon:"box-open",className:"icon open"})):null,c.a.createElement("button",{type:"button",className:"btn btn-light big delete",onClick:s},t.DELETE),c.a.createElement("button",{type:"button",className:"btn btn-light small",onClick:s,title:t.DELETE},c.a.createElement(P.a,{icon:"trash",className:"icon trash"}))))},ue=a(7),me=a.n(ue),de=a(13),Ee=a.n(de),pe=window.location.origin+"/file_manager/fm_api.php?";function ve(e){return me.a.get(e)}function fe(e){return me.a.get("".concat(pe,"dir=%2F").concat(e,"&action=cd"))}function be(e){return e.split("/").join("%2F")}function ge(e,t,a){if(!a.length)return!1;var n=a.map((function(a){return ve("".concat(e,"item=").concat(t,"%2F").concat(a,"&dir=").concat(t,"&action=delete_files")).then((function(){}))}));return Promise.all(n)}function he(e,t,a,n){if(!n.length)return!1;var c=n.map((function(n){return ve("".concat(e,"item=").concat(t,"%2F").concat(n,"&target_name=").concat(a,"&action=move_file")).then((function(){}))}));return Promise.all(c)}function Oe(e,t,a,n){if(!n.length)return!1;var c=n.map((function(n){return ve("".concat(e,"item=").concat(t,"%2F").concat(n,"&filename=").concat(n,"&dir=").concat(t,"&dir_target=").concat(a,"&action=copy_file")).then((function(){}))}));return Promise.all(c)}var Ne=a(8),je=(a(63),window.location.origin+"/file_manager/fm_api.php?"),ke=function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).UNSAFE_componentWillMount=function(){!function(e,t,a){var n=Ee.a.parse(t.location.search,{ignoreQueryPrefix:!0});if(n.path)return localStorage.setItem("activeWindow","left"),localStorage.setItem("leftListPath",n.path),void localStorage.setItem("rightListPath",n.path);if(null===localStorage.getItem("lastUser")||e!==localStorage.getItem("lastUser"))return localStorage.setItem("lastUser",e),localStorage.setItem("activeWindow","left"),localStorage.setItem("leftListPath",a),void localStorage.setItem("rightListPath",a);if(null===localStorage.getItem("activeWindow")||null===localStorage.getItem("leftListPath")||null===localStorage.getItem("rightListPath")){var c=t.location.search.substring(6).split("/");localStorage.setItem("activeWindow","left"),localStorage.setItem("leftListPath",c),localStorage.setItem("rightListPath",a)}}(n.state.currentUser,n.props.history,n.props.menuCounters.user.HOME);var e="left"===localStorage.getItem("activeWindow")?localStorage.getItem("leftListPath"):"right"===localStorage.getItem("activeWindow")?localStorage.getItem("rightListPath"):void 0;n.setState({currentPath:e}),n.changeDirectoryOnLoading()},n.componentDidMount=function(){localStorage.getItem("token")&&n.props.session.userName||n.props.history.push("/login/"),window.addEventListener("keydown",n.switchActiveList),window.addEventListener("keydown",n.toggleActiveListOnTab),document.addEventListener("keydown",n.hotkeysListener),localStorage.getItem("activeWindow")&&n.setState({activeWindow:localStorage.getItem("activeWindow")})},n.componentWillUnmount=function(){window.removeEventListener("keydown",n.switchActiveList),window.removeEventListener("keydown",n.toggleActiveListOnTab),document.removeEventListener("keydown",n.hotkeysListener)},n.cachePaths=function(){localStorage.setItem("activeWindow",n.state.activeWindow),localStorage.setItem("leftListPath",n.state.leftList.path),localStorage.setItem("rightListPath",n.state.rightList.path)},n.setStateAsync=function(e){return new Promise((function(t){return n.setState(e,t)}))},n.changeDirectoryOnLoading=Object(M.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return["leftList","rightList"].map(function(){var e=Object(M.a)(S.a.mark((function e(t){var a,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l=je,o="".concat(t,"Path"),me.a.get("".concat(l,"dir=").concat(be(localStorage.getItem(o)),"&action=cd"));case 2:return a=e.sent,c=localStorage.getItem("".concat(t,"Path")),r=a.data.listing,e.next=7,n.setStateAsync(Object(w.a)({},t,{files:{listing:r},path:c}));case 7:case"end":return e.stop()}var l,o}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,n.setStateAsync({loading:!1});case 3:case"end":return e.stop()}}),e)}))),n.changeDirectory=function(){var e,t,a=n.state,c=a.activeWindow,r=a.currentPath;(e=je,t=r,me.a.get("".concat(e,"dir=").concat(be(t),"&action=cd"))).then((function(e){var t=e.data.listing;n.state.leftList.path===n.state.rightList.path?(n.setState({leftList:{files:{listing:t},path:r},rightList:{files:{listing:t},path:r},loading:!1}),n.leftList.resetData(),n.rightList.resetData()):"left"===c?(n.setState({leftList:{files:{listing:t},path:r},loading:!1}),n.leftList.resetData()):(n.setState({rightList:{files:{listing:t},path:r},loading:!1}),n.rightList.resetData())}))},n.toggleActiveListOnTab=function(e){var t=n.state,a=t.activeWindow,c=t.rightList,r=t.leftList,l=t.currentPath;n.state.modalVisible||9===e.keyCode&&(e.preventDefault(),"left"===a?(n.setState({activeWindow:"right",currentPath:c.path}),n.rightList.passData()):(n.setState({activeWindow:"left",currentPath:r.path}),n.leftList.passData()),n.changeQuery(l),n.cachePaths())},n.passSelection=function(e){n.setState({itemsSelected:e})},n.toggleActiveList=function(e){n.setState({activeWindow:e})},n.switchActiveList=function(e){n.state.modalVisible||(39===e.keyCode?(n.setState({activeWindow:"right",currentPath:n.state.rightList.path}),n.changeQuery(n.state.currentPath),n.rightList.passData(),n.cachePaths()):37===e.keyCode&&(n.setState({activeWindow:"left",currentPath:n.state.leftList.path}),n.changeQuery(n.state.currentPath),n.leftList.passData(),n.cachePaths()))},n.validateAction=function(){var e=Object(M.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setStateAsync({loading:!0});case 2:return e.next=4,ve(t);case 4:(a=e.sent).data.result?n.changeDirectory():n.showError(a.data.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showError=function(e){q.b.error(e,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),n.setState({loading:!1})},n.download=function(){var e=n.state,t=e.cursor,a=e.currentPath,c=e.itemName;0!==t&&window.open("/download/file/?path="+a+"/"+c)},n.checkExistingFileName=function(e){var t=n.state,a=t.activeWindow,c=t.leftList,r=t.rightList,l=function(e,t,a,n){for(var c=[],r=[],l=[],o=0;o<e.length;o++)c.push(e[o]);if("left"===t)for(var s=0;s<c.length;s++)a.map((function(e){return e.name})).includes(c[s].name)?r.push(c[s]):l.push(c[s]);else for(var i=0;i<c.length;i++)n.map((function(e){return e.name})).includes(c[i].name)?r.push(c[i]):l.push(c[i]);return{existingFileNames:r,newFiles:l}}(e,a,c.files.listing,r.files.listing),o=l.existingFileNames,s=l.newFiles;0!==o.length?(n.modal("Replace",o),n.upload(s)):n.upload(e)},n.replaceFiles=function(e){for(var t=0;t<e.length;t++)n.validateAction("".concat(je,"item=").concat(be(n.state.currentPath),"%2F").concat(e[t].name,"&dir=").concat(be(n.state.currentPath),"&action=delete_files"));n.upload(e)},n.upload=function(e){var t=new FormData;if(0!==e.length){for(var a=0;a<e.length;a++)t.append("files[]",e[a],e[a].name);n.setState({loading:!0},(function(){me.a.post("".concat(window.location.origin,"/upload/?dir=").concat(n.state.currentPath),t,{onUploadProgress:function(e){var t=Math.round(e.loaded/e.total*100);n.setState({uploadPercent:t})}}).then((function(){n.setState({uploadPercent:"0"}),n.changeDirectory()}))}))}},n.onDelete=Object(M.a)(S.a.mark((function e(){var t,a,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.itemsSelected,c=t.itemName,r=t.currentPath,!(a.length>0)){e.next=9;break}return e.next=4,n.setStateAsync({loading:!0});case 4:return e.next=6,ge(je,be(r),a);case 6:n.changeDirectory(),e.next=10;break;case 9:n.validateAction("".concat(je,"item=").concat(be(r),"%2F").concat(c,"&dir=").concat(be(r),"&action=delete_files"));case 10:case"end":return e.stop()}}),e)}))),n.newFile=function(){var e=n.inputElement.value;n.validateAction("".concat(je,"filename=").concat(e,"&dir=").concat(be(n.state.currentPath),"&action=create_file"))},n.newDir=function(){var e=n.inputElement.value;n.validateAction("".concat(je,"dirname=").concat(e,"&dir=").concat(be(n.state.currentPath),"&action=create_dir"))},n.onRename=function(){var e=n.state,t=e.modalInputValue,a=e.itemType,c=e.itemName,r=e.currentPath,l=t;"f"===a?n.validateAction("".concat(je,"item=").concat(c,"&target_name=").concat(l,"&dir=").concat(be(r),"&action=rename_file")):"d"===a&&n.validateAction("".concat(je,"item=").concat(c,"&target_name=").concat(l,"&dir=").concat(be(r),"%2F&action=rename_directory"))},n.onChangePermissions=function(){var e=n.state.modalInputValue;n.validateAction("".concat(je,"dir=").concat(be(n.state.currentPath),"%2F&item=").concat(n.state.itemName,"&permissions=").concat(e,"&action=chmod_item")),n.setState({itemPermissions:e})},n.archiveItem=function(){var e=n.inputElement.value;n.state.itemsSelected.length>0?n.setState({loading:!0},(function(){for(var t=[],a=0;a<n.state.itemsSelected.length;a++){var c="".concat(n.state.currentPath,"/");t.push(c+=n.state.itemsSelected[a])}n.validateAction("".concat(je,"items=").concat(t,"&dst_item=").concat(be(e),"&action=pack_item")),n.setState({itemsSelected:[]})})):n.validateAction("".concat(je,"items=").concat(be(n.state.currentPath),"%2F").concat(n.state.itemName,"&dst_item=").concat(be(e),"&action=pack_item"))},n.extractItem=function(){var e=n.inputElement.value;n.validateAction("".concat(je,"item=").concat(be(n.state.currentPath),"%2F").concat(n.state.itemName,"&filename=").concat(n.state.itemName,"&dir=").concat(be(n.state.currentPath),"&dir_target=").concat(e,"&action=unpack_item"))},n.moveItem=Object(M.a)(S.a.mark((function e(){var t,a,c,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.currentPath,c=t.itemsSelected,r=t.itemName,l=n.inputElement.value,!(c.length>0)){e.next=12;break}return e.next=5,n.setStateAsync({loading:!0});case 5:return e.next=7,he(je,be(a),l,c);case 7:return e.next=9,n.setStateAsync({itemsSelected:[]});case 9:n.changeDirectory(),e.next=13;break;case 12:n.validateAction("".concat(je,"item=").concat(a,"%2F").concat(r,"&target_name=").concat(l,"&action=move_file"));case 13:case"end":return e.stop()}}),e)}))),n.copyItem=Object(M.a)(S.a.mark((function e(){var t,a,c,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.currentPath,c=t.itemsSelected,r=t.itemName,l=n.inputElement.value,!(c.length>0)){e.next=12;break}return e.next=5,n.setStateAsync({loading:!0});case 5:return e.next=7,Oe(je,be(a),l,c);case 7:return e.next=9,n.setStateAsync({itemsSelected:[]});case 9:n.changeDirectory(),e.next=13;break;case 12:n.validateAction("".concat(je,"item=").concat(a,"%2F").concat(r,"&filename=").concat(r,"&dir=").concat(a,"&dir_target=").concat(l,"&action=copy_file"));case 13:case"end":return e.stop()}}),e)}))),n.changeQuery=function(e){n.props.history.push({pathname:"/list/directory/",search:"?path=".concat(e)})},n.openDirectory=function(){n.setState({loading:!0},(function(){n.changeDirectory(),n.cachePaths()}))},n.openCertainDirectory=function(){n.setState({loading:!0},(function(){n.changeDirectory(),n.cachePaths()}))},n.moveBack=function(){var e,t=n.state.activeWindow,a=Object(u.a)({},n.state["".concat(t,"List")]);a.path=a.path.substring(0,a.path.lastIndexOf("/")),n.setState((e={},Object(w.a)(e,"".concat(t,"List"),a),Object(w.a)(e,"currentPath",a.path),e)),n.props.history.push({search:"?path=".concat(a.path)}),n.openDirectory()},n.addToPath=function(e){var t,a=n.state.activeWindow,c=Object(u.a)({},n.state["".concat(a,"List")]),r=c.path;c.path="".concat(r,"/").concat(e),n.setState((t={},Object(w.a)(t,"".concat(a,"List"),c),Object(w.a)(t,"currentPath",c.path),t))},n.changeInputValue=function(e){n.setState({modalInputValue:e})},n.changePathAfterToggle=function(e){n.setState({currentPath:e})},n.changePath=function(e){"left"===n.state.activeWindow?n.setState({leftList:{files:Object(u.a)({},n.state.leftList.files),path:e},currentPath:e}):n.setState({rightList:{files:Object(u.a)({},n.state.rightList.files),path:e},currentPath:e})},n.passData=function(e,t,a,c){n.setState({cursor:e,itemName:t,itemPermissions:a,itemType:c})},n.closeModal=function(){n.setState({modalVisible:!1})},n.hotkeysListener=function(e){n.state.modalVisible||72===e.keyCode&&n.hotkeys()},n.hotkeys=function(){"inactive"===n.state.hotkeysPanel?n.setState({hotkeysPanel:"active"}):n.setState({hotkeysPanel:"inactive"})},n.modal=function(e,t,a){var r=n.state,l=r.modalVisible,o=r.itemName,s=r.itemPermissions,i=r.currentPath;switch(e){case"Copy":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,path:i,onClick:n.copyItem,items:t,onClose:n.closeModal,onChangeValue:n.changeInputValue,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Move":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,path:i,onClick:n.moveItem,items:t,onClose:n.closeModal,onChangeValue:n.changeInputValue,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Extract":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,onClick:n.extractItem,onClose:n.closeModal,onChangeValue:n.changeInputValue,path:i,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Archive":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,onClick:n.archiveItem,items:t,onClose:n.closeModal,onChangeValue:n.changeInputValue,path:i,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Permissions":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,onClick:n.onChangePermissions,onClose:n.closeModal,onChangePermissions:n.changeInputValue,permissions:s}),modalVisible:!0});case"Rename":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,onChangeValue:n.changeInputValue,onClick:n.onRename,onClose:n.closeModal,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Add directory":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,onClick:n.newDir,onClose:n.closeModal,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Add file":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,onClick:n.newFile,onClose:n.closeModal,reference:function(e){return n.inputElement=e}}),modalVisible:!0});case"Delete":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,fName:o,onClick:n.onDelete,onClose:n.closeModal,items:t}),modalVisible:!0});case"Nothing selected":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,notAvailable:a,type:e,onClose:n.closeModal,onClick:n.closeModal}),modalVisible:!0});case"Replace":return n.setState({modalWindow:c.a.createElement(oe,{modalVisible:l,type:e,files:t,onClick:function(e){return n.replaceFiles(e)},onClose:n.closeModal}),modalVisible:!0})}},n.state={leftList:{path:n.props.menuCounters.user.HOME,files:{listing:[]}},rightList:{path:n.props.menuCounters.user.HOME,files:{listing:[]}},currentPath:n.props.menuCounters.user.HOME,currentUser:n.props.menuCounters.user.HOME,activeWindow:"left",modalWindow:null,modalVisible:!1,cursor:0,itemName:"",itemPermissions:"",itemType:"",itemsSelected:[],modalInputValue:"",uploadPercent:"0",loading:!1},n}return Object(C.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.activeWindow,n=t.modalWindow,r=t.modalVisible,l=t.itemsSelected,o=t.itemName,s=t.loading,i=t.uploadPercent,u=t.itemType,m=["left","right"].map((function(t){return c.a.createElement(W,{changePathAfterToggle:e.changePathAfterToggle,openCertainDirectory:e.openCertainDirectory,isActive:a===t,openDirectory:e.openDirectory,passSelection:e.passSelection,data:e.state["".concat(t,"List")].files,onClick:e.toggleActiveList,changePath:e.changePath,modalVisible:r,addToPath:e.addToPath,cursor:e.state.cursor,passData:e.passData,rootDir:e.props.menuCounters.user.HOME,ref:function(a){return e["".concat(t,"List")]=a},download:e.download,moveBack:e.moveBack,path:e.state["".concat(t,"List")].path,history:e.props.history,loading:s,list:t})}));return c.a.createElement("div",{className:"window"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,this.props.session.i18n["File Manager"])),"0"!==i?c.a.createElement(H,{progress:i}):null,c.a.createElement(q.a,null),c.a.createElement(ie,{onDelete:this.onDeleteFileHandler,modalVisible:r,download:this.download,openModal:this.modal,selection:l,itemType:u,upload:this.checkExistingFileName,cursor:this.state.cursor,name:o}),c.a.createElement("div",{className:"lists-container"},m,c.a.createElement("div",{className:"fixed-buttons fm"},c.a.createElement("div",{className:"hotkey-button"},c.a.createElement("button",{onClick:function(){return e.hotkeysList.classList.toggle("hide")}},c.a.createElement(P.a,{icon:"ellipsis-h"})))),c.a.createElement(J,{reference:function(t){return e.hotkeysList=t},toggleHotkeys:function(){return e.hotkeysList.classList.toggle("hide")}})),r&&n)}}]),a}(n.Component);var ye=Object(o.b)((function(e){return{session:e.session,menuCounters:e.menuCounters}}))(Object(I.j)(ke)),_e=a(92),Se=a.n(_e),we=(a(145),a(146),a(65),a(147),a(149),a(68),a(67),function(e){var t=e.close,a=e.name,r=Object(o.d)((function(e){return e.session})).i18n,l=Object(I.g)(),s=Object(n.useState)({code:"",loading:!1}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){document.addEventListener("keydown",v);var e="".concat(l.location.search.substring(6,l.location.search.lastIndexOf("/")),"/").concat(a);return d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),E(e).then((function(t){t.data.result?me.a.get("".concat(window.location.origin,"/api/v1/edit/file/?path=").concat(p(e))).then((function(e){if(e.data.error)return b(t.data.error);d(Object(u.a)(Object(u.a)({},m),{},{code:e.data.content,loading:!1}))})).catch((function(e){return console.error(e)})):console.error("Something went wrong with file type!")})).catch((function(e){return console.error(e)})),function(){document.removeEventListener("keydown",v)}}),[]);var E=function(e){return me.a.get("".concat(window.location.origin,"/file_manager/fm_api.php?dir=").concat(e,"&action=check_file_type"))},p=function(e){return e.split("/").join("%2F")},v=function(e){113===e.keyCode&&f()},f=function(){var e=new FormData,t=l.location.search.substring(6,l.location.search.lastIndexOf("/"));e.append("save","Save"),e.append("contents",m.code),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.post("".concat(window.location.origin,"/api/v1/edit/file/?path=").concat(t,"%2F").concat(a),e).then((function(e){e.data.error?b(e.data.error):b("Saved successfully!"),d(Object(u.a)(Object(u.a)({},m),{},{loading:!1}))})).catch((function(e){return console.error(e)}))},b=function(e){q.b.success(e,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},g={mode:function(){switch(a.split(".").pop()){case"js":case"jsx":return"javascript";case"php":return"php";case"css":case"scss":return"css";case"html":return"htmlmixed";default:return"markdown"}}(),lineNumbers:!0};return c.a.createElement("div",{className:"editor"},c.a.createElement(q.a,null),c.a.createElement("div",{className:"panel-editor"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:f},r.Save),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:t},r.Close)),m.loading?c.a.createElement(T,null):c.a.createElement(Se.a,{value:m.code,onChange:function(e){d(Object(u.a)(Object(u.a)({},m),{},{code:e}))},options:g,autoFocus:!0}))}),Me=(a(151),function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeSlide:0,photoGallery:[],loading:!1},e.imgClass=function(e){return e.match(/.gif/i)?"gif":"img"},e.encodePath=function(e){var t=e.split("/");return t.splice(t.length-1,1),t.splice(0,1),t.join("%2F")},e.formatPath=function(e){var t=e.split("/");return t.splice(t.length-1,1),t.join("/")},e.carouselIndicators=function(){return e.state.photoGallery.map((function(t,a){var n=Z()({"control-photo":!0,active:a===e.state.activeSlide});return c.a.createElement("div",{"data-target":"#photoGallery","data-slide-to":a,key:a,className:"indicator"},c.a.createElement("img",{src:"".concat(window.location.origin,"/api/v1/view/file/").concat(e.formatPath(e.props.path),"/").concat(t,"&raw=true"),alt:a,className:n}))}))},e.carouselPhotos=function(){return(e.state.photoGallery||[]).map((function(t,a){return c.a.createElement("div",{className:a===e.state.activeSlide?"carousel-item active":"carousel-item",key:a},c.a.createElement("div",{className:"d-flex align-items-center justify-content-center min-vh-100"},c.a.createElement("img",{className:e.imgClass(t),src:"".concat(window.location.origin,"/api/v1/view/file/").concat(e.formatPath(e.props.path),"/").concat(t,"&raw=true"),alt:a})))}))},e.setStateAsync=function(t){return new Promise((function(a){return e.setState(t,a)}))},e.setPhotoGallery=Object(M.a)(S.a.mark((function t(){var a,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setStateAsync({loading:!0});case 2:return t.next=4,fe(e.encodePath(e.props.path));case 4:return a=t.sent,n=Object(x.a)(e.state.photoGallery),a.data.listing.filter((function(e){return e.name.match(/.png|.jpg|.jpeg|.gif/g)&&!e.name.match(/.zip|.tgz|.tar.gz|.gzip|.tbz|.tar.bz|.gz|.zip|.tar|.rar/g)?n.push(e.name):null})),t.next=9,e.setStateAsync({photoGallery:n,loading:!1});case 9:e.setActiveImage();case 10:case"end":return t.stop()}}),t)}))),e.setActiveImage=function(){var t=e.props.activeImage,a=e.state.photoGallery.indexOf(t);e.setState({activeSlide:a})},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){this.setPhotoGallery()}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.loading?c.a.createElement(T,null):c.a.createElement("div",{id:"photoGallery",className:"carousel slide","data-ride":"carousel"},c.a.createElement("span",{className:"close",onClick:this.props.close},"\xd7"),c.a.createElement("div",{className:"carousel-inner"},this.carouselPhotos()),c.a.createElement("div",{className:"carousel-indicators"},this.carouselIndicators()),c.a.createElement("a",{className:"carousel-control-prev",href:"#photoGallery",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement("a",{className:"carousel-control-next",href:"#photoGallery",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))))}}]),a}(n.Component)),Ae=(a(152),function(e){return c.a.createElement("div",{className:"video-preview"},c.a.createElement("span",{className:"close",onClick:e.closeModal},"\xd7"),c.a.createElement("video",{className:"video",autoPlay:!0,loop:!0,controls:!0},c.a.createElement("source",{src:"",type:"video/mp4"})))}),Ce=function(e){var t=Object(o.d)((function(e){return e.session})),a=Object(I.g)();Object(n.useEffect)((function(){return t.userName||a.push("/login"),document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[]);var r=function(t){121===t.keyCode&&e.onClose()},l=function(){var e=a.location.search.substring(6,a.location.search.lastIndexOf("/"));a.push({pathname:"/list/directory",search:"?path=".concat(e)})};return c.a.createElement("div",null,function(){var e=a.location.search.split("/"),t=e[e.length-1];if("/list/directory/preview/"===a.location.pathname)return t.match(".mp4")?c.a.createElement(Ae,{closeModal:l}):t.match(/png|jpg|jpeg|gif/g)?c.a.createElement(Me,{closeModal:l,close:l,path:a.location.search,activeImage:t}):c.a.createElement(we,{close:l,name:t})}())},De=a(42),Fe=a(12),xe=(a(153),a(154),function(e){return{type:"ADD_FOCUSED_ELEMENT",value:e}}),Te=function(e){return{type:"ADD_ACTIVE_ELEMENT",value:e}},Le=a(11),Ue=function(e){return localStorage.setItem("token",e)},Ie=function(){return localStorage.getItem("token")},Pe=window.location.origin,Re=function(){return me.a.get(Pe+"/api/v1/list/ip/index.php")},Ve=function(e){var t=e.options,a=void 0===t?[]:t,n=e.id,r=e.name,l=e.title,s=e.optionalTitle,i=void 0===s?"":s,u=e.selected,m=void 0===u?"":u,d=e.onChange,E=void 0===d?function(){}:d,p=e.disabled,v=void 0!==p&&p,f=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"form-group select-group"},c.a.createElement("label",{className:"label-wrapper",htmlFor:n},l,c.a.createElement("span",null,i)),c.a.createElement("select",{className:"form-control",id:n,name:r,disabled:v,onChange:function(e){return E(e.target.value)}},v&&c.a.createElement("input",{type:"hidden",name:r,value:m||a[0]}),a.map((function(e,t){return c.a.createElement("option",{key:t,selected:m===e,value:e===f["Disable and Cancel Licence"]?"cancel":e},e)})))):null)},Be=function(e){var t=e.id,a=e.name,r=e.title,l=e.optionalTitle,o=void 0===l?"":l,s=e.type,i=void 0===s?"text":s,u=e.onChange,m=void 0===u?function(){}:u,d=e.value,E=void 0===d?"":d,p=e.disabled,v=void 0!==p&&p,f=Object(n.useState)(""),b=Object(y.a)(f,2),g=b[0],h=b[1];Object(n.useEffect)((function(){E&&h(E)}),[E]);return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"label-wrapper",htmlFor:t},r,c.a.createElement("span",null,o)),c.a.createElement("input",{type:i,name:a,id:t,onChange:function(e){h(e.target.value),m(e)},readOnly:v,value:g,className:"form-control"}))},We=function(e){var t=e.name,a=e.id,r=e.title,l=e.defaultChecked,o=void 0!==l&&l,s=e.onChange,i=void 0===s?function(){}:s,u=e.checked,m=Object(n.useState)(o),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){p(u)}),[u]);return c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:t,id:a,checked:E,onChange:function(e){p(e.target.checked),i(e.target.checked)},defaultChecked:o}),c.a.createElement("label",{htmlFor:a},r)))},He=(a(157),function(e){return c.a.createElement("div",{className:e.className},e.children)}),qe=(a(69),function(e){var t=e.date,a=void 0===t?"":t,n=e.time,r=void 0===n?"":n,l=e.status,o=void 0===l?"":l,s=e.children;return c.a.createElement("div",{className:"edit-item"},c.a.createElement(He,{className:"l-col w-14"},function(){if(a.length>0){var e=new Date(a),t=e.getDate(),n=e.getMonth(),r=e.getFullYear();return c.a.createElement("div",{className:"date"},t," \xa0 ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]," \xa0 ",r)}}(),c.a.createElement("div",{className:"time"},r),c.a.createElement("div",{className:"status uppercase"},o)),s)}),Je=(a(158),function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={toolbarHeight:205},e.handleToolbar=function(){document.documentElement.clientWidth<900?e.setState({toolbarHeight:115}):e.setState({toolbarHeight:205})},e.changeToolbarHeight=function(){if(document.documentElement.clientWidth>900){var t=window.scrollY,a=Math.max(115,205-t);e.setState({toolbarHeight:a})}},e.className=function(){var t=e.props.className;return"justify-right"===t?115===e.state.toolbarHeight?"toolbar t-shadow "+t:"toolbar "+t:115===e.state.toolbarHeight?"toolbar t-shadow":"toolbar"},e.style=function(){if(!e.props.mobile)return document.documentElement.clientWidth>900?{marginTop:e.state.toolbarHeight}:{marginTop:145}},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleToolbar),document.addEventListener("scroll",this.changeToolbarHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleToolbar),document.removeEventListener("scroll",this.changeToolbarHeight)}},{key:"render",value:function(){return c.a.createElement("div",{className:this.className(),style:this.style()},this.props.children)}}]),a}(n.Component)),Ke=(a(159),window.location.origin),ze=function(){var e="/api/v1/login/index.php",t=Ie();return t&&(e+="?token=".concat(t)),me.a.get("".concat(Ke).concat(e))},Ye=function(){return function(e,t){return new Promise((function(t,a){ze().then((function(a){var n=a.data,c=n.data,r=n.token;r&&Ue(r),e({type:"REFRESH_COUNTERS",value:{user:c}}),t(r)})).catch((function(e){a(),console.error(e)}))}))}},Ge=a(10),Qe=a.n(Ge),Xe=function(){var e=localStorage.getItem("token"),t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({data:{},loading:!1,dedicated:!1,errorMessage:"",okMessage:""}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){var e=Ee.a.parse(a.location.search,{ignoreQueryPrefix:!0}).ip;r(Te("/list/ip/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),function(e){return me.a.get(Pe+"/api/v1/edit/ip/index.php",{params:{ip:e,token:Ie()}})}(e).then((function(e){m(Object(u.a)(Object(u.a)({},i),{},{data:e.data,dedicated:!e.data.dedicated,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var d=function(t){t.preventDefault();var a,n={},c=Object(Le.a)(new FormData(t.target).entries());try{for(c.s();!(a=c.n()).done;){var l=Object(y.a)(a.value,2),o=l[0],s=l[1];n[o]=s}}catch(d){c.e(d)}finally{c.f()}n.token=e,n.save="save",n.v_ip=i.data.database,0!==Object.keys(n).length&&n.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(Pe+"/api/v1/edit/ip/index.php",a,{params:{ip:t,token:Ie()}})}(n,i.data.ip).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?m(Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:n,loading:!1})):r(Ye()).then((function(){m(Object(u.a)(Object(u.a)({},i),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-ip"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.IP))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Editing IP Address"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))))),c.a.createElement(qe,{date:i.data.date,time:i.data.time,status:i.data.status},i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return d(e)},id:"edit-ip"},c.a.createElement(Be,{id:"type",name:"v_ip",title:t["IP address"],value:i.data.ip,disabled:!0}),c.a.createElement(Be,{id:"type",name:"v_netmask",title:t.Netmask,value:i.data.netmask,disabled:!0}),c.a.createElement(Be,{id:"type",name:"v_interface",title:t.Interface,value:i.data.interface,disabled:!0}),c.a.createElement(We,{onChange:function(e){m(Object(u.a)(Object(u.a)({},i),{},{dedicated:e}))},name:"v_shared",id:"shared",title:t.Shared,defaultChecked:i.dedicated}),!i.dedicated&&c.a.createElement("div",{className:"dedicated-form-group"},c.a.createElement(Ve,{options:i.data.users,selected:i.data.owner,title:t["Assigned user"],name:"v_owner",id:"owner"})),c.a.createElement(Be,{id:"type",name:"v_name",title:t["Assigned domain"],value:i.data.name,optionalTitle:t.optional}),c.a.createElement(Be,{id:"type",name:"v_nat",title:t["NAT IP association"],value:i.data.nat,optionalTitle:t.optional}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/ip/")}},t.Back)))))},Ze=(a(202),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(o.d)((function(e){return e.session})),l=Object(o.c)(),s=Object(I.g)(),i=Object(n.useState)({loading:!1,dedicated:!0,okMessage:"",errorMessage:"",interfaces:[],users:[]}),m=Object(y.a)(i,2),d=m[0],E=m[1];Object(n.useEffect)((function(){l(Te("/list/ip/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),E(Object(u.a)(Object(u.a)({},d),{},{loading:!0})),v()}),[]);var p=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(E(Object(u.a)(Object(u.a)({},d),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(Pe+"/api/v1/add/ip/index.php",t)}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?E(Object(u.a)(Object(u.a)({},d),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){E(Object(u.a)(Object(u.a)({},d),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},v=function(){me.a.get(Pe+"/api/v1/add/ip/index.php").then((function(e){E(Object(u.a)(Object(u.a)({},d),{},{interfaces:e.data.interfaces,users:e.data.users,loading:!1}))})).catch((function(e){return console.error(e)}))};return c.a.createElement("div",{className:"edit-template add-ip"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.IP))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Adding Package"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},d.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",d.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},d.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(d.okMessage))))),c.a.createElement(qe,null,d.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return p(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"v_owner",value:r.userName}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{name:"v_ip",id:"ipAddress",title:a["IP address"]}),c.a.createElement(Be,{name:"v_netmask",id:"netmask",title:a.Netmask}),c.a.createElement(Ve,{options:d.interfaces,name:"v_interface",id:"interfaces",title:a.Interface}),c.a.createElement(We,{onChange:function(e){E(Object(u.a)(Object(u.a)({},d),{},{dedicated:e}))},name:"v_shared",id:"shared",title:a.Shared,defaultChecked:d.dedicated}),d.dedicated?null:c.a.createElement("div",{className:"assigned-user"},c.a.createElement(Ve,{options:d.users,name:"v_owner",id:"users",title:a["Assigned user"]})),c.a.createElement(Be,{name:"v_name",id:"name",title:a["Assigned domain"],optionalTitle:a.optional}),c.a.createElement(Be,{name:"v_nat",id:"nat",title:a["NAT IP association"],optionalTitle:a.optional}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return s.push("/list/ip/")}},a.Back)))))}),$e=function(e){var t=e.id,a=e.name,n=e.defaultValue,r=void 0===n?"":n,l=e.title,o=e.optionalTitle,s=void 0===o?"":o,i=e.rows,u=void 0===i?"3":i,m=e.disabled,d=void 0!==m&&m;return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"label-wrapper",htmlFor:t},l,c.a.createElement("span",null,s)),c.a.createElement("textarea",{className:"form-control",id:t,rows:u,name:a,disabled:d,defaultValue:r}))},et=window.location.origin,tt=function(e){return me.a.get(et+e,{params:{token:Ie()}})},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(et+"/api/v1/edit/server/".concat(t,"/index.php"),a,{params:{token:Ie()}})},nt=function(e){return me.a.get("".concat(et,"/api/v1/edit/server/").concat(e,"/index.php"))},ct=["apache2","clamd","cron","crond","exim","exim4","fail2ban","iptables","mariadb","mysqld","named","php-fpm","php5-fpm","proftpd","spamassassin","spamd","vsftpd"],rt=(a(203),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,basicOptions:!0,advancedOptions:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){l(Te("/list/server/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),nt("nginx").then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var E=function(){d(Object(u.a)(Object(u.a)({},m),{},{advancedOptions:!m.advancedOptions,basicOptions:!m.basicOptions}))};return c.a.createElement("div",{className:"edit-template edit-nginx"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Configuring Server"]," / ",m.data.service_name),c.a.createElement("div",{className:"link"},c.a.createElement(se.b,{to:"/edit/server/php"},a.Configure," php.ini")),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),at(a,"/nginx").then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;d(a?Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},m),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},m),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-mail"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),!m.basicOptions&&c.a.createElement("button",{type:"button",onClick:function(){return E()}},a["Basic options"],m.basicOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),m.basicOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{id:"worker_processes",title:"worker_processes",name:"v_worker_processes",value:m.data.worker_processes}),c.a.createElement(Be,{id:"worker_connections",title:"worker_connections",name:"v_worker_connections",value:m.data.worker_connections}),c.a.createElement(Be,{id:"client_max_body_size",title:"client_max_body_size",name:"v_client_max_body_size",value:m.data.client_max_body_size}),c.a.createElement(Be,{id:"send_timeout",title:"send_timeout",name:"v_send_timeout",value:m.data.send_timeout}),c.a.createElement(Be,{id:"proxy_connect_timeout",title:"proxy_connect_timeout",name:"v_proxy_connect_timeout",value:m.data.proxy_connect_timeout}),c.a.createElement(Be,{id:"proxy_send_timeout",title:"proxy_send_timeout",name:"v_proxy_send_timeout",value:m.data.proxy_send_timeout}),c.a.createElement(Be,{id:"proxy_read_timeout",title:"proxy_read_timeout",name:"v_proxy_read_timeout",value:m.data.proxy_read_timeout}),c.a.createElement(Be,{id:"gzip",title:"gzip",name:"v_gzip",value:m.data.gzip}),c.a.createElement(Be,{id:"gzip_comp_level",title:"gzip_comp_level",name:"v_gzip_comp_level",value:m.data.gzip_comp_level}),c.a.createElement(Be,{id:"charset",title:"charset",name:"v_charset",value:m.data.charset})),!m.advancedOptions&&c.a.createElement("button",{type:"button",onClick:function(){return E()}},a["Advanced options"],m.advancedOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement("br",null),c.a.createElement("br",null),m.advancedOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement($e,{defaultValue:m.data.config,title:m.data.config_path,name:"v_config",id:"v_config",rows:"25"}),c.a.createElement("br",null),c.a.createElement(We,{title:a.restart,defaultChecked:!0,name:"v_restart",id:"restart"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/server/")}},a.Back)))))}),lt=(a(204),function(){var e=localStorage.getItem("token"),t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){r(Te("/list/server/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),nt("postgresql").then((function(e){e.data.config||a.push("/list/server"),m(Object(u.a)(Object(u.a)({},i),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);return c.a.createElement("div",{className:"edit-template edit-pgsql"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Configuring Server"]," / ",i.data.service_name),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))))),c.a.createElement(qe,null,i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),at(a,"/postgresql").then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;m(a?Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},i),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},i),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-pgsql"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:e}),c.a.createElement($e,{defaultValue:i.data.options,title:i.data.options_path,name:"v_options",id:"v_options",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config,title:i.data.config_path,name:"v_config",id:"v_config",rows:"10"}),c.a.createElement("br",null),c.a.createElement(We,{title:t.restart,defaultChecked:!0,name:"v_restart",id:"restart"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/server/")}},t.Back)))))}),ot=window.location.origin,st=(a(205),function(){var e=localStorage.getItem("token"),t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){r(Te("/list/backup/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),me.a.get(ot+"".concat("/api/v1/edit/backup/exclusions/index.php")).then((function(e){m(Object(u.a)(Object(u.a)({},i),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var d=function(t){t.preventDefault();var a,n={},c=Object(Le.a)(new FormData(t.target).entries());try{for(c.s();!(a=c.n()).done;){var r=Object(y.a)(a.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}n.token=e,n.save="save",0!==Object.keys(n).length&&n.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(ot+"/api/v1/edit/backup/exclusions/index.php",t,{params:{token:Ie()}})}(n).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;m(a?Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},i),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},i),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-backup-exclusions"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.BACKUP))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Editing Backup Exclusions"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))))),c.a.createElement(qe,null,i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return d(e)},id:"edit-backup-exclusions"},c.a.createElement($e,{title:t["Web Domains"],defaultValue:i.data.web,name:"v_web",id:"v_web"}),c.a.createElement($e,{title:t["Mail Domains"],defaultValue:i.data.mail,name:"v_mail",id:"v_mail"}),c.a.createElement($e,{title:t.Databases,defaultValue:i.data.db,name:"v_db",id:"v_db"}),c.a.createElement($e,{title:t["User Directories"],defaultValue:i.data.userdir,name:"v_userdir",id:"v_userdir"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/backup/exclusions")}},t.Back)))))}),it=function(e){return{type:"ADD_CPANEL_FOCUSED_ELEMENT",value:e}},ut=(a(206),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a={usersList:[t.Date,t.Username,t.Disk,t.Bandwidth,t.Starred],webList:[t.Date,t.Domain,t["IP Addresses"],t.Disk,t.Bandwidth,t.Starred],dnsList:[t.Date,t.Expire,t.Domain,t["IP Addresses"],t.Records,t.Starred],mailList:[t.Date,t.Domain,t.Accounts,t.Disk,t.Starred],mailAccountList:[t.Date,t.Accounts,t.Disk,t.Starred],dbList:[t.Date,t.Database,t.Disk,t.User,t.Host,t.Starred],cronList:[t.Date,t.Command,t.Starred],packagesList:[t.Date,t["Package Name"],t.Starred],internetProtocolsList:[t.Date,t.IP,t.Netmask,t.Interface,t.Domain,t.Owner,t.Starred],firewallList:[t.Action,t.Protocol,t.Port,t["IP Addresses"],t.Comment,t.Starred],searchList:[t.Date,t.Name,t.Starred]},n=function(t,a){e.changeSorting(t,a)},r=function(t,a){return e.sorting===t&&e.order===a?"dropdown-item active":"dropdown-item"};return c.a.createElement("div",{className:"btn-group"},c.a.createElement("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t["sort by"],": ",c.a.createElement("b",null,e.sorting),"descending"===e.order?c.a.createElement("span",{className:"arrow-down"},"\u2193"):c.a.createElement("span",null,"\u2191")),c.a.createElement("div",{className:"dropdown-menu"},c.a.createElement("ul",{className:"dropdown-list"},function(){var t=e.list;return a[t].map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("span",{className:r(e,"descending"),onClick:function(){return n(e,"descending")}},e,c.a.createElement("span",{className:"arrow-down"},"\u2193")),c.a.createElement("span",{className:r(e,"ascending"),onClick:function(){return n(e,"ascending")}},c.a.createElement("span",null,"\u2191")))}))}())))}),mt=(a(207),function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),r=a[0],l=a[1],o=Object(n.useRef)(null),s=function(){if(r&&""!==r)return e.handleSearchTerm(r)};Object(n.useEffect)((function(){return window.addEventListener("keyup",i),function(){return window.removeEventListener("keyup",i)}}),[]);var i=function(e){if(70===e.keyCode)return o.current.focus()};return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r&&s()}},c.a.createElement("div",{className:"search-input-form"},c.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return l(e.target.value)},ref:o}),c.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",onClick:function(){return s()}},c.a.createElement(P.a,{icon:"search"}))))}),dt=window.location.origin,Et=function(e,t){return me.a.get(dt+"/api/v1/add/favorite/index.php",{params:{v_unit_id:e,v_section:t}})},pt=function(e,t){return me.a.get(dt+"/api/v1/delete/favorite/index.php",{params:{v_unit_id:e,v_section:t}})},vt=(a(208),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)({starred:!1}),r=Object(y.a)(a,2),l=r[0],s=r[1];Object(n.useEffect)((function(){e.hasOwnProperty("starred")&&s(Object(u.a)(Object(u.a)({},l),{},{starred:Boolean(e.starred)}))}),[e.starred]);var i=function(){e.checkItem()};return c.a.createElement("div",{className:function(){var t=l.starred,a="list-item";return e.checked&&(a+=" toggled"),t&&(a+=" starred"),e.outdated&&(a+=" outdated"),e.suspended&&(a+=" suspended"),e.stopped&&(a+=" stopped"),e.focused&&(a+=" focused"),e.sysInfo&&(a+=" sys-info"),a}(),id:e.id},c.a.createElement(He,{className:"l-col w-14"},function(e){if(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return c.a.createElement("div",{className:"date"},a," \xa0 ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n-1]," \xa0 ",r)}}(e.date),c.a.createElement("div",{className:"text-status"},c.a.createElement("div",{className:"checkbox"},c.a.createElement("input",{type:"checkbox",onChange:i,checked:e.checked})),e.leftNameText),c.a.createElement("div",{className:"star"},c.a.createElement("div",{className:"checkbox"},c.a.createElement("input",{type:"checkbox",onChange:i,checked:e.checked})),c.a.createElement("div",{onClick:function(){s(Object(u.a)(Object(u.a)({},l),{},{starred:!l.starred})),e.toggleFav(!l.starred)}},c.a.createElement(P.a,{icon:"star"}))),e.suspended&&c.a.createElement("div",{className:"suspended"},t.suspended)),e.children)}),ft=(a(209),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;localStorage.getItem("token");return c.a.createElement(vt,{id:t.NAME,focused:t.FOCUSED,checked:t.isChecked,date:t.DATE,starred:t.STARRED,toggleFav:function(a){a?e.toggleFav(t.NAME,"add"):e.toggleFav(t.NAME,"delete")},checkItem:function(){e.checkItem(t.NAME)}},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.NAME),c.a.createElement("br",null),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1 w-35"},c.a.createElement("div",{className:"ip"},c.a.createElement("span",{className:"stat"},t.NETMASK)),c.a.createElement("div",{className:"soa"},c.a.createElement("span",{className:"stat"},t.INTERFACE))),c.a.createElement(He,{className:"c-2 w-30"},c.a.createElement("div",null,a.Domains,": ",c.a.createElement("span",{className:"stat"},t.U_WEB_DOMAINS)),c.a.createElement("div",null,a.Status,": ",c.a.createElement("span",{className:"stat"},t.STATUS))),c.a.createElement(He,{className:"c-3 w-35"},c.a.createElement("div",null,a.Owner,": ",c.a.createElement("span",{className:"stat"},t.OWNER)),c.a.createElement("div",null,a.Users,": ",c.a.createElement("span",{className:"stat"},t.U_SYS_USERS.replace(",",", ")))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/ip/?ip=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/ip/?ip=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}),bt=(a(210),function(e){var t=e.showLeftMenu,a=e.list,n=e.name,r=e.href,l=e.onClick,o=void 0===l?function(){}:l,s=function(){return"server"===a?c.a.createElement(P.a,{icon:"cog"}):"backup-details"===a?c.a.createElement(P.a,{icon:"play"}):c.a.createElement(P.a,{icon:"plus"})};return c.a.createElement("div",{className:t?"server"===a?"l-menu server-icon":"backup-details"===a?"l-menu backup-details-icon":"l-menu":"l-menu none"},r?c.a.createElement(se.b,{to:r},s(),c.a.createElement("span",{className:"add"},n)):c.a.createElement("button",{onClick:o},s(),c.a.createElement("span",{className:"add"},n)))});a(211);var gt=function(e){var t=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("div",{className:"input-group-text"},c.a.createElement("input",{type:"checkbox",onChange:function(t){return function(e,t){e.toggleAll(t.target.checked)}(e,t)},"aria-label":"Checkbox for following text input",id:"checkbox",checked:e.toggled})),c.a.createElement("span",{className:"input-group-text"},c.a.createElement("label",{htmlFor:"checkbox"},t["toggle all"])))},ht=(a(212),function(e){var t=e.cronReports,a=Object(k.a)(e,["cronReports"]),r=Object(o.d)((function(e){return e.session})).i18n,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{usersList:[{value:"rebuild",name:e.rebuild},{value:"rebuild web",name:e["rebuild web"]},{value:"rebuild dns",name:e["rebuild dns"]},{value:"rebuild mail",name:e["rebuild mail"]},{value:"rebuild db",name:e["rebuild db"]},{value:"rebuild cron",name:e["rebuild cron"]},{value:"update counters",name:e["update counters"]},{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],webList:[{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],dnsList:[{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],mailList:[{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],dbList:[{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],cronList:[{value:"add-cron-reports",name:e["turn on notifications"]},{value:"delete-cron-reports",name:e["turn off notifications"]},{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],backupList:[{value:"delete",name:e.delete}],packagesList:[{value:"delete",name:e.delete}],internetProtocolsList:[{value:"reread IP",name:e["reread IP"]},{value:"delete",name:e.delete}],updatesList:[{value:"update",name:e.update}],firewallList:[{value:"suspend",name:e.suspend},{value:"unsuspend",name:e.unsuspend},{value:"delete",name:e.delete}],serverList:[{value:"stop",name:e.stop},{value:"start",name:e.start},{value:"restart",name:e.restart}],backupDetailList:[{value:"restore",name:e.restore}],banList:[{value:"delete",name:e.delete}]}}(r),s=Object(n.useState)({usersList:l.usersList,webList:l.webList,dnsList:l.dnsList,mailList:l.mailList,dbList:l.dbList,cronList:l.cronList,backupList:l.backupList,packagesList:l.packagesList,internetProtocolsList:l.internetProtocolsList,statisticsList:[],updatesList:l.updatesList,firewallList:l.firewallList,serverList:l.serverList,backupDetailList:l.backupDetailList,banList:l.banList,selected:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e=a.list;d(Object(u.a)(Object(u.a)({},m),{},{list:e}))}),[]);var E=function(){return"statisticsList"===a.list?r["show per user"]:r["apply to selected"]};return c.a.createElement("div",{className:"select-wrapper"},c.a.createElement("select",{className:"custom-select",id:"inputGroupSelect04",onChange:function(e){d(Object(u.a)(Object(u.a)({},m),{},{selected:e.target.value}))}},c.a.createElement("option",{defaultValue:E(),value:E()},"statisticsList"===a.list?r["show per user"]:r["apply to selected"]),function(){var e=a.list,n=m[e];return"cronList"===e&&(n=t?n.filter((function(e,t){return 0!==t})):n.filter((function(e,t){return 1!==t}))),"statisticsList"===e?a.users.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})):n.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)}))}()),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){a.bulkAction(m.selected),d(Object(u.a)(Object(u.a)({},m),{},{selected:""}))}},c.a.createElement(P.a,{icon:"angle-right"}))))}),Ot=(a(213),function(e){var t=e.show,a=e.text,n=e.onSave,r=e.onCancel,l=e.showSaveButton,s=void 0===l||l,i=e.showCancelButton,u=void 0===i||i,m=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",null,c.a.createElement("div",{className:"modal fade ".concat(t?"show":""),id:"c-panel-modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:t?"block":"none"}},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},m.Confirmation),c.a.createElement("button",{type:"button",onClick:function(){return r()},className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},a),c.a.createElement("div",{className:"modal-footer"},u?c.a.createElement("button",{onClick:function(){return r()},type:"button",className:"btn btn-secondary","data-dismiss":"modal"},m.Cancel):"",s?c.a.createElement("button",{onClick:function(){return n()},type:"button",className:"btn btn-primary"},m.OK):"")))))}),Nt=(a(214),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({internetProtocols:[],ipFav:[],toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/ip/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),A().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.internetProtocols]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.internetProtocols);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.internetProtocols);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return M();case 13:return w()}},w=function(){e.history.push("/edit/ip/?ip=".concat(a))},M=function(){var e=h.internetProtocols.filter((function(e){return e.NAME===a}))[0];P(e.delete_conf,"/api/v1/delete/ip/?ip=".concat(a))},A=function(){return d(!0),new Promise((function(e,t){Re().then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:C(t.data.data),ipFav:t.data.ipFav,selection:[],totalAmount:t.data.totalAmount,toggledAll:!1})),e()})).catch((function(e){return console.error(e)}))}))},C=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},D=function(e){var t=h.selection,a=h.internetProtocols,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:c,selection:n}))},F=function(e){var t=h.order,a=h.sorting,n=L(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},L=function(e){var a=t.Date,n=t.IP,c=t.Domains,r=t.Netmask,l=t.Interface,o=t.Owner,s=t.Starred;switch(e){case a:return"DATE";case n:return"IP";case r:return"NETMASK";case l:return"INTERFACE";case c:return"U_WEB_DOMAINS";case o:return"OWNER";case s:return"STARRED"}},U=function(e,t){var a=h.ipFav;"add"===t?(a[e]=1,Et(e,"ip").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{ipFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"ip").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{ipFav:a}))})).catch((function(e){console.error(e)})))},I=function(e){var t=Object(x.a)(h.internetProtocols);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{internetProtocols:c,selection:[],toggledAll:e}))}},P=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},R=function(){l(Ye()).then((function(){return d(!1)}))},V=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"internetProtocols"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.IP))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add IP"],href:"/add/ip/",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:I,toggled:h.toggledAll}),c.a.createElement(ht,{list:"internetProtocolsList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("ip[]",e)})),me.a.post(Pe+"/api/v1/bulk/ip/",a)}(e,t).then((function(e){200===e.status&&(I(!1),A().then((function(){return R()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"internetProtocolsList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"ip-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.internetProtocols,t=Object(u.a)({},h.ipFav),n=[];return e.forEach((function(e){e.FOCUSED=a===e.NAME,t[e.NAME]?e.STARRED=t[e.NAME]:e.STARRED=0,n.push(e)})),F(n).map((function(e,t){return c.a.createElement(ft,{data:e,key:t,toggleFav:U,checkItem:D,handleModal:P})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return V();var e;V(),d(!0),(e=v.actionUrl,me.a.get(Pe+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return d(!1),P(e.data.error,"");A().then((function(){return R()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:V,show:v.visible,text:v.text}))}),jt=window.location.origin,kt=function(e){var t=e.defaultValue,a=e.onChange,r=void 0===a?function(){}:a,l=e.id,s=e.name,i=e.title,m=e.showGenerationButton,d=void 0===m||m,E=Object(k.a)(e,["defaultValue","onChange","id","name","title","showGenerationButton"]),p=Object(o.d)((function(e){return e.session})).i18n,v=Object(n.useState)({hidePassword:!1,generatedPassword:""}),f=Object(y.a)(v,2),b=f[0],g=f[1];Object(n.useEffect)((function(){t&&!b.generatedPassword&&g(Object(u.a)(Object(u.a)({},b),{},{generatedPassword:t}))}),[t]);var h=function(e){g(Object(u.a)(Object(u.a)({},b),{},{generatedPassword:e})),r(e)};return c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password"},i||p.Password,d&&c.a.createElement(c.a.Fragment,null," / ",c.a.createElement("button",{type:"button",className:"generate-password",onClick:function(){return function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",t="",a=0;a<10;a++){var n=Math.floor(Math.random()*e.length);t+=e.substr(n,1)}g(Object(u.a)(Object(u.a)({},b),{},{generatedPassword:t}))}()}},p.Generate))),c.a.createElement("div",{className:"password-wrapper"},c.a.createElement("input",Object.assign({type:b.hidePassword?"password":"text",className:"form-control",id:"password_".concat(l),name:s,value:b.generatedPassword,onChange:function(e){return h(e.target.value)}},E)),c.a.createElement("button",{type:"button",onClick:function(){g(Object(u.a)(Object(u.a)({},b),{},{hidePassword:!b.hidePassword}))}},b.hidePassword?c.a.createElement("span",{className:"eye-slash"},c.a.createElement(P.a,{icon:"eye-slash"})):c.a.createElement("span",{className:"eye"},c.a.createElement(P.a,{icon:"eye"})))))},yt=(a(215),function(e){e.domain;var t=e.data,a=void 0===t?{}:t,r=e.onDeleteAdditionalFtp,l=e.prefixI18N,s=e.prePath,i=e.checked,m=(Object(k.a)(e,["domain","data","onDeleteAdditionalFtp","prefixI18N","prePath","checked"]),Object(o.d)((function(e){return e.session}))),d=m.i18n,E=m.userName,p=Object(n.useState)({username:a.v_ftp_user||"",path:""}),v=Object(y.a)(p,2),f=v[0],b=v[1];return function(){var e;return a.deleted?0===a.is_new?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][delete]"),value:"1"}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][is_new]"),value:a.is_new}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][v_ftp_user]"),value:a.v_ftp_user}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][v_ftp_password]"),value:a.v_ftp_password}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][v_ftp_path]"),value:a.v_ftp_path}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][v_ftp_pre_path]"),value:s})):c.a.createElement(c.a.Fragment,null):i?c.a.createElement("div",{className:"additional-ftp"},c.a.createElement("div",{className:"title"},c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][delete]"),value:"0"}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][is_new]"),value:"1"}),c.a.createElement("span",{className:"data.indexed-name"},d.FTP," #",a.id+1),c.a.createElement("span",null,"\xa0",c.a.createElement("button",{type:"button",onClick:function(){return r(a.id)}},"(",null!==(e=d.Delete)&&void 0!==e?e:"Delete",")"))),c.a.createElement("div",{className:"form-transform"},c.a.createElement("div",{className:"form-group username"},c.a.createElement("label",{htmlFor:"ftp_user_".concat(a.id)},d.Username),c.a.createElement("span",{className:"prefix-note"},l),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{defaultValue:f.username,onChange:function(e){return b(Object(u.a)(Object(u.a)({},f),{},{username:e.target.value}))},type:"text",disabled:a.v_ftp_user,className:"form-control",id:"ftp_user_".concat(a.id),name:"v_ftp_user[".concat(a.id,"][v_ftp_user]")}),c.a.createElement("span",null,a.v_ftp_user?a.v_ftp_user:"".concat(E,"_").concat(f.username)))),c.a.createElement(kt,{name:"v_ftp_user[".concat(a.id,"][v_ftp_password]"),id:a.id}),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"hidden",name:"v_ftp_pre_path",value:s}),c.a.createElement("input",{type:"hidden",name:"v_ftp_user[".concat(a.id,"][v_ftp_path_prev]"),value:"/"!==a.v_ftp_path?"/":""}),c.a.createElement("label",{htmlFor:"path".concat(a.id)},d.Path),c.a.createElement("input",{type:"text",value:f.path,onChange:function(e){return b(Object(u.a)(Object(u.a)({},f),{},{path:e.target.value}))},className:"form-control",id:"path".concat(a.id),name:"v_ftp_user[".concat(a.id,"][v_ftp_path]")}),c.a.createElement("span",{className:"path-note"},s)),1===a.is_new&&c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"sendLoginCredentialsToEmailAddress_".concat(a.id)},d["Send login credentials to email address"]),c.a.createElement("input",{type:"email",className:"form-control",id:"sendLoginCredentialsToEmailAddress_".concat(a.id),defaultValue:a.v_ftp_email,name:"v_ftp_user[".concat(a.id,"][v_ftp_email]")})))):c.a.createElement(c.a.Fragment,null)}()}),_t=(a(216),function(e){var t,a=e.checked,r=e.ftps,l=e.unCheckAdditionalFtpBox,s=e.prefixI18N,i=e.ftpUserPrePath,m=e.domain,d=(Object(k.a)(e,["checked","ftps","unCheckAdditionalFtpBox","prefixI18N","ftpUserPrePath","domain"]),Object(o.d)((function(e){return e.session})).i18n),E=Object(n.useState)({additionalFtp:[]}),p=Object(y.a)(E,2),v=p[0],f=p[1];Object(n.useEffect)((function(){if(r){var e=r.map((function(e,t){return e.deleted=!a,e.id=t,e}));f(Object(u.a)(Object(u.a)({},v),{},{additionalFtp:e}))}}),[a,r]);var b=function(e){var t=[];v.additionalFtp.forEach((function(a){a.id===e&&(a.deleted=!0),t.push(a)})),t.length||l(),f(Object(u.a)(Object(u.a)({},v),{},{additionalFtp:t}))};return c.a.createElement("div",null,v.additionalFtp.map((function(e){return c.a.createElement(yt,{key:e.id,prefixI18N:s,data:e,checked:a,prePath:i,domain:m,onDeleteAdditionalFtp:function(e){return b(e)}})})),a&&c.a.createElement("button",{type:"button",onClick:function(){return function(){var e=v.additionalFtp.length,t=Object(x.a)(v.additionalFtp);t.push({id:e,deleted:!1,is_new:1}),f(Object(u.a)(Object(u.a)({},v),{},{additionalFtp:t}))}()}},null!==(t=d["Add one more FTP Account"])&&void 0!==t?t:"Add"))}),St=(a(217),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)(!1),r=Object(y.a)(a,2),l=r[0],s=r[1];return c.a.createElement("div",{className:"ssl-support"},c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_letsencrypt",id:"lets-encrypt",checked:l,onChange:function(){return s(!l)}}),c.a.createElement("label",{htmlFor:"lets-encrypt"},t["Lets Encrypt Support"])),c.a.createElement("span",{className:"lets-encrypt-span"},l?t["Your certificate will be automatically issued in 5 minutes"]:null)),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"package"},t["SSL Home Directory"]),c.a.createElement("select",{class:"form-control",id:"ssl_home",name:"v_ssl_home"},c.a.createElement("option",{value:"same"},"public_html"),c.a.createElement("option",{value:"single"},"public_shtml"))),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"aliases"},t["SSL Certificate"]),c.a.createElement("textarea",{class:"form-control",id:"aliases",rows:"3",name:"v_ssl_crt",disabled:l})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"aliases"},t["SSL Key"]),c.a.createElement("textarea",{class:"form-control",id:"aliases",rows:"3",name:"v_ssl_key",disabled:l})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"aliases"},t["SSL Certificate Authority / Intermediate"]),c.a.createElement("textarea",{class:"form-control",id:"aliases",rows:"3",name:"v_ssl_ca",disabled:l})))}),wt=(a(218),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)({sslSupport:!1,additionalFtp:!1,statisticsAuthCheckbox:!1,statisticsAuth:!1,aliases:""}),r=Object(y.a)(a,2),l=r[0],s=r[1];Object(n.useEffect)((function(){var t="www.".concat(e.domain);s(Object(u.a)(Object(u.a)({},l),{},{aliases:t}))}),[e.domain]);return c.a.createElement("div",null,c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"aliases"},t.Aliases),c.a.createElement("textarea",{class:"form-control",id:"aliases",rows:"3",name:"v_aliases",onChange:function(e){return t=e.target.value,void s(Object(u.a)(Object(u.a)({},l),{},{aliases:t}));var t},value:l.aliases})),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_ssl",id:"ssl-support",checked:l.sslSupport,onChange:function(){return s(Object(u.a)(Object(u.a)({},l),{},{sslSupport:!l.sslSupport}))}}),c.a.createElement("label",{htmlFor:"ssl-support"},t["SSL Support"]))),function(){if(l.sslSupport)return c.a.createElement(St,null)}(),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"web-stats"},t["Web Statistics"]),c.a.createElement("select",{class:"form-control",id:"web-stats",name:"v_stats",onChange:function(e){return t=e.target.value,void s("none"!==t?Object(u.a)(Object(u.a)({},l),{},{statisticsAuth:!0}):Object(u.a)(Object(u.a)({},l),{},{statisticsAuth:!1,statisticsAuthCheckbox:!1}));var t}},e.webStats.map((function(e){return c.a.createElement("option",{value:e},e)})))),c.a.createElement("div",{className:"form-group statistics-authorization ".concat(l.statisticsAuth?"show":"hide")},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_stats_auth",id:"stats-auth",checked:l.statisticsAuthCheckbox,onChange:function(){return s(Object(u.a)(Object(u.a)({},l),{},{statisticsAuthCheckbox:!l.statisticsAuthCheckbox}))}}),c.a.createElement("label",{htmlFor:"stats-auth"},t["Statistics Authorization"]))),c.a.createElement("div",{className:l.statisticsAuthCheckbox?"show web-stats-wrapper":"hide"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"stats-user"},t.Username),c.a.createElement("input",{type:"text",className:"form-control",id:"stats-user",name:"v_stats_user"})),c.a.createElement(kt,{name:"v_stats_password"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_ftp",id:"additional-ftp",checked:l.additionalFtp,onChange:function(){return s(Object(u.a)(Object(u.a)({},l),{},{additionalFtp:!l.additionalFtp}))}}),c.a.createElement("label",{htmlFor:"additional-ftp"},t["Additional FTP Account"]))),function(){if(l.additionalFtp)return c.a.createElement(_t,{prefixI18N:e.prefixI18N,domain:e.domain,unCheckAdditionalFtpBox:function(){return s(Object(u.a)(Object(u.a)({},l),{},{additionalFtp:!1}))}})}())}),Mt=(a(219),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.c)(),r=localStorage.getItem("token"),l=Object(I.g)(),s=Object(n.useState)({loading:!1,dnsSupport:!0,mailSupport:!0,showAdvancedOptions:!1,okMessage:"",domain:"",errorMessage:"",webStats:[],prefixI18N:"",internetProtocols:[]}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){a(Te("/list/web/")),a({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),Promise.all([me.a.get(jt+"/api/v1/web-stats.php"),Re()]).then((function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1],c=E(n.data.data);d(Object(u.a)(Object(u.a)({},m),{},{webStats:a.data.data,internetProtocols:c,prefixI18N:a.data.prefixI18N,loading:!1}))}))}),[]);var E=function(e){var t=[];for(var a in e)t.push(a);return t},p=function(e){e.preventDefault();var t,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var r=Object(y.a)(t.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}0!==Object.keys(n).length&&n.constructor===Object&&(d({loading:!0}),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(jt+"/api/v1/add/web/index.php",t)}(n).then((function(e){if(200===e.status){var t=e.data,n=t.error_msg,c=t.ok_msg;n?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:n,okMessage:c,loading:!1})):a(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:c,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-web"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.WEB))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding Domain"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return p(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:r}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"domain"},t.Domain),c.a.createElement("input",{type:"text",className:"form-control",id:"domain",required:!0,name:"v_domain",onBlur:function(e){return t=e.target.value,void d(Object(u.a)(Object(u.a)({},m),{},{domain:t}));var t}})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"package"},t["IP Address"]),c.a.createElement("select",{class:"form-control",id:"ip",name:"v_ip"},m.internetProtocols.map((function(e){return c.a.createElement("option",{value:e},e)})))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_dns",id:"dns-support",checked:m.dnsSupport}),c.a.createElement("label",{htmlFor:"dns-support"},t["DNS Support"]))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_mail",id:"mail-support",checked:m.mailSupport}),c.a.createElement("label",{htmlFor:"mail-support"},t["Mail Support"]))),c.a.createElement("div",{className:"form-group advanced-options-button"},c.a.createElement("button",{type:"button",onClick:function(){d(Object(u.a)(Object(u.a)({},m),{},{showAdvancedOptions:!m.showAdvancedOptions}))}},t["Advanced options"],m.showAdvancedOptions?c.a.createElement(P.a,{icon:"caret-down"}):c.a.createElement(P.a,{icon:"caret-up"}))),function(){if(m.showAdvancedOptions)return c.a.createElement(wt,{prefixI18N:m.prefixI18N,domain:m.domain,webStats:m.webStats})}(),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/web/")}},t.Back)))))}),At=(a(220),function(e){var t=e.id,a=e.title,r=e.name,l=e.defaultValue,o=void 0===l?"":l,s=e.optionalTitle,i=void 0===s?"":s,u=e.disabled,m=void 0!==u&&u,d=Object(n.useState)(""),E=Object(y.a)(d,2),p=E[0],v=E[1];return Object(n.useEffect)((function(){o&&v(o)}),[o]),c.a.createElement("div",{className:"form-group text-on-the-right"},c.a.createElement("label",{className:"label-wrapper",htmlFor:t},a,c.a.createElement("span",null,i||"")),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{defaultValue:"admin_".concat(o),type:"text",className:"form-control",id:t,value:p,onChange:function(e){return v(e.target.value)},disabled:m,name:r}),c.a.createElement("span",null,c.a.createElement("i",null,"".concat(p)))))}),Ct=window.location.origin,Dt=["big5","dec8","cp850","hp8","koi8r","latin1","latin2","swe7","ascii","ujis","sjis","hebrew","tis620","euckr","koi8u","gb2312","greek","cp1250","gbk","latin5","armscii8","utf8","ucs2","cp866","keybcs2","macce","macroman","cp852","latin7","cp1251","cp1256","cp1257","binary","geostd8","cp932","eucjpms"],Ft=(a(221),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})),r=a.i18n,l=a.userName,s=Object(I.g)(),i=Object(o.c)(),m=Object(n.useState)({data:{},loading:!1,databaseUserInputValue:"",errorMessage:"",okMessage:""}),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){var e=Ee.a.parse(s.location.search,{ignoreQueryPrefix:!0}).database;i(Te("/list/db/")),i({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),function(e){return me.a.get(Ct+"/api/v1/edit/db/index.php",{params:{database:e,token:Ie()}})}(e).then((function(e){p(Object(u.a)(Object(u.a)({},E),{},{data:e.data,databaseUserInputValue:e.data.dbuser.split("_").splice(1).join("_"),errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var v=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}a.v_database=E.data.database,a.v_dbuser="".concat(l,"_").concat(E.databaseUserInputValue),0!==Object.keys(a).length&&a.constructor===Object&&(p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(Ct+"/api/v1/edit/db/index.php",a,{params:{database:t,token:Ie()}})}(a,E.data.database).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?p(Object(u.a)(Object(u.a)({},E),{},{errorMessage:a,okMessage:n,loading:!1})):i(Ye()).then((function(){p(Object(u.a)(Object(u.a)({},E),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-db"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(r.DB))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},r["Editing Database"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},E.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",E.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},E.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(E.okMessage))))),c.a.createElement(qe,{date:E.data.date,time:E.data.time,status:E.data.status},E.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return v(e)},id:"edit-db"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(At,{id:"database",name:"v_database",title:r.Database,defaultValue:E.data.database,disabled:!0}),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"label-wrapper"},c.a.createElement("label",{htmlFor:"user"},r.User)),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",className:"form-control",id:"user",value:E.databaseUserInputValue,onChange:function(e){return t=e.target.value,void p(Object(u.a)(Object(u.a)({},E),{},{databaseUserInputValue:t}));var t},name:"v_dbuser"}),c.a.createElement("span",{className:"italic"},c.a.createElement("i",null,"".concat(l,"_").concat(E.databaseUserInputValue))))),c.a.createElement(kt,{name:"v_password",defaultValue:E.data.password}),c.a.createElement(Be,{id:"type",name:"v_type",title:r.Type,value:E.data.type,disabled:!0}),c.a.createElement(Be,{id:"host",name:"v_host",title:r.Host,value:E.data.host,disabled:!0}),c.a.createElement(Be,{id:"charset",name:"v_charset",title:r.Charset,value:E.data.charset,disabled:!0}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},r.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return s.push("/list/db/")}},r.Back)))))}),xt=window.location.origin,Tt="/api/v1/add/firewall/banlist/index.php",Lt=function(e,t,a){var n=new FormData;return n.append("action",e),n.append("token",Ie()),t.forEach((function(e){var t=a.find((function(t){return t.NAME===e}));n.append("ipchain[]","".concat(e,":").concat(t.CHAIN))})),me.a.post(xt+"/api/v1/bulk/firewall/banlist/",n)},Ut=function(e){return me.a.get(xt+e,{params:{token:Ie()}})},It=(a(222),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).rule;l(Te("/list/firewall/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&E(e)}),[]);var E=function(e){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){return me.a.get(xt+"/api/v1/edit/firewall/index.php",{params:{rule:e,token:Ie()}})}(e).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))},p=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(xt+"/api/v1/edit/firewall/index.php",a,{params:{rule:t,token:Ie()}})}(a,m.data.rule).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;d(a?Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}})).then((function(){return E(m.data.rule)})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-firewall"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.FIREWALL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing Firewall Rule"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return p(e)},id:"edit-firewall"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Ve,{options:m.data.actions,selected:m.data.action,title:a.Action,name:"v_action",id:"action"}),c.a.createElement(Ve,{options:m.data.protocols,selected:m.data.protocol,title:a.Protocol,name:"v_protocol",id:"protocol"}),c.a.createElement(Be,{optionalTitle:a["ranges are acceptable"],value:m.data.port,title:a.Port,name:"v_port",id:"port"}),c.a.createElement(Be,{optionalTitle:a["CIDR format is supported"],value:m.data.ip,title:a["IP address"],name:"v_ip",id:"ip"}),c.a.createElement(Be,{optionalTitle:a.optional,value:m.data.comment,title:a.Comment,name:"v_comment",id:"comment"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/firewall/")}},a.Back)))))}),Pt=(a(223),function(e){var t=Object(o.d)((function(e){return e.session})).i18n;Object(n.useEffect)((function(){return window.addEventListener("keyup",a),function(){return window.removeEventListener("keyup",a)}}),[e.reference]);var a=function(t){var a=document.querySelector("input:focus")||document.querySelector("textarea:focus");72!==t.keyCode||a||e.toggleHotkeys()};return c.a.createElement("div",{className:"hotkeys-list hide",ref:e.reference},c.a.createElement("div",{className:"head"},c.a.createElement("div",{className:"name"},t.Shortcuts),c.a.createElement("div",{className:"close",onClick:function(){return e.toggleHotkeys()}},c.a.createElement(P.a,{icon:"times"}))),c.a.createElement("div",{className:"body"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"a"),c.a.createElement("span",{className:"description"},t["Add New object"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Ctrl + Open"),c.a.createElement("span",{className:"description"},t["Save Form"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Ctrl + Backspace"),c.a.createElement("span",{className:"description"},t["Cancel saving form"])),c.a.createElement("li",{className:"space-top"},c.a.createElement("span",{className:"name"},"1"),c.a.createElement("span",{className:"description"},t["Go to USER list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"2"),c.a.createElement("span",{className:"description"},t["Go to WEB list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"3"),c.a.createElement("span",{className:"description"},t["Go to DNS list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"4"),c.a.createElement("span",{className:"description"},t["Go to MAIL list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"5"),c.a.createElement("span",{className:"description"},t["Go to DB list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"6"),c.a.createElement("span",{className:"description"},t["Go to CRON list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"7"),c.a.createElement("span",{className:"description"},t["Go to BACKUP list"]))),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"f"),c.a.createElement("span",{className:"description"},t["Focus on search"])),c.a.createElement("li",{className:"space-top"},c.a.createElement("span",{className:"name"},"h"),c.a.createElement("span",{className:"description"},t["Display/Close shortcuts"])),c.a.createElement("li",{className:"space-top"},c.a.createElement("span",{className:"name"},"\u2190"),c.a.createElement("span",{className:"description"},t["Move backward through top menu"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2192"),c.a.createElement("span",{className:"description"},t["Move forward through top menu"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"Enter"),c.a.createElement("span",{className:"description"},t["Enter focused element"])),c.a.createElement("li",{className:"space-top"},c.a.createElement("span",{className:"name"},"\u2191"),c.a.createElement("span",{className:"description"},t["Move up through elements list"])),c.a.createElement("li",null,c.a.createElement("span",{className:"name"},"\u2193"),c.a.createElement("span",{className:"description"},t["Move down through elements list"])))))}),Rt=(a(224),Object(n.memo)((function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=localStorage.getItem("token"),r=Object(o.c)(),l=Object(I.g)(),s=Object(n.useState)({loading:!1,okMessage:"",errorMessage:"",dbTypes:[],dbHosts:[],dbCharsets:[],user:"",maxCharLength:"",databaseInputValue:"",databaseUserInputValue:"",prefixI18N:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){r(Te("/list/db/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.get(Ct+"/api/v1/add/db/index.php").then((function(e){200===e.status&&d(Object(u.a)(Object(u.a)({},m),{},{dbCharsets:Dt,user:e.data.user,dbTypes:e.data.dbTypes,prefixI18N:e.data.prefixI18N,maxCharLength:e.data.maxCharLength,dbHosts:e.data.dbHosts,loading:!1}))})).catch((function(e){return console.err(e)}))}),[]);var E=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),l=c[0],o=c[1];a[l]=o}}catch(s){n.e(s)}finally{n.f()}a.v_database=m.databaseInputValue,a.v_dbuser=m.databaseUserInputValue,0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(Ct+"/api/v1/add/db/index.php",t)}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:"",loading:!1})):r(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-db"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DB))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding database"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:a}),c.a.createElement("span",{className:"prefix"},Qe()(m.prefixI18N)),c.a.createElement("div",{className:"form-group database"},c.a.createElement("label",{htmlFor:"database"},t.Database),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",className:"form-control",id:"database",onChange:function(e){return t=e.target.value,void d(Object(u.a)(Object(u.a)({},m),{},{databaseInputValue:t}));var t},value:m.databaseInputValue,name:"v_database"}),c.a.createElement("span",{className:"italic"},"".concat(m.user,"_").concat(m.databaseInputValue)))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"label-wrapper"},c.a.createElement("label",{htmlFor:"user"},t.User),c.a.createElement("span",{className:"italic"},"(",m.maxCharLength,")")),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",className:"form-control",id:"user",value:m.databaseUserInputValue,onChange:function(e){return t=e.target.value,void d(Object(u.a)(Object(u.a)({},m),{},{databaseUserInputValue:t}));var t},name:"v_dbuser"}),c.a.createElement("span",{className:"italic"},"".concat(m.user,"_").concat(m.databaseUserInputValue)))),c.a.createElement(kt,{name:"v_password"}),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"dbTypes"},t.Type),c.a.createElement("select",{class:"form-control",id:"dbTypes",name:"v_type"},m.dbTypes.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})))),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"dbHosts"},t.Host),c.a.createElement("select",{class:"form-control",id:"dbHosts",name:"v_host"},m.dbHosts.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})))),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"dbCharset"},t.Charset),c.a.createElement("select",{class:"form-control",id:"dbCharset",name:"v_charset"},m.dbCharsets.map((function(e,t){return c.a.createElement("option",{key:t,value:e,selected:"utf8"===e},e)})))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"sendLoginCredentialsToEmailAddress"},t["Send login credentials to email address"]),c.a.createElement("input",{type:"email",className:"form-control",id:"sendLoginCredentialsToEmailAddress",name:"v_db_email"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/db/")}},t.Back)))))}))),Vt=(a(225),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(o.c)(),l=Object(I.g)(),s=Object(n.useState)({loading:!1,actions:[a.DROP,a.ACCEPT],protocols:[a.TCP,a.UDP,a.ICMP],okMessage:"",errorMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){r(Te("/list/firewall/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""})}),[]);var E=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),l=c[0],o=c[1];a[l]=o}}catch(s){n.e(s)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(xt+"/api/v1/add/firewall/index.php",t)}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):r(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-firewall"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.FIREWALL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Adding Firewall Rule"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,c.a.createElement("form",{onSubmit:function(e){return E(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Ve,{options:m.actions,name:"v_action",id:"action",title:a.Action}),c.a.createElement(Ve,{options:m.protocols,name:"v_protocol",id:"protocol",title:a.Protocol}),c.a.createElement(Be,{name:"v_port",id:"port",title:a.Port,optionalTitle:a["ranges are acceptable"]}),c.a.createElement(Be,{name:"v_ip",id:"ip",title:a["IP address"],optionalTitle:a["CIDR format is supported"]}),c.a.createElement(Be,{name:"v_comment",id:"comment",title:a.Comment,optionalTitle:a.optional}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/firewall/")}},a.Back)))))}),Bt=window.location.origin,Wt=function(e){return me.a.get(Bt+e,{params:{token:Ie()}})},Ht=function(e){var t,a,n,c,r,l,o,s,i,u,m,d,E,p,v,f,b,g,h,O,N,j,k,y,_,S,w,M,A,C,D,F;return{minutesRunCommandsOptions:[{name:null!==(t=e["every minute"])&&void 0!==t?t:"every minute",value:"*"},{name:null!==(a=e["every two minutes"])&&void 0!==a?a:"every two minutes",value:"*/2"},{name:"".concat(e.every||"every"," 5"),value:"*/5"},{name:"".concat(e.every||"every"," 10"),value:"*/10"},{name:"".concat(e.every||"every"," 15"),value:"*/15"},{name:"".concat(e.every||"every"," 30"),value:"*/30"}],hoursRunCommandsOptions:[{name:null!==(n=e["every hour"])&&void 0!==n?n:"every hour",value:"*"},{name:null!==(c=e["every two hours"])&&void 0!==c?c:"every two hours",value:"*/2"},{name:"".concat(e.every||"every"," 6"),value:"*/6"},{name:"".concat(e.every||"every"," 12"),value:"*/12"}],daysRunCommandsOptions:[{name:null!==(r=e["every day"])&&void 0!==r?r:"every day",value:"*"},{name:null!==(l=e["every odd day"])&&void 0!==l?l:"every odd day",value:"1-31/2"},{name:null!==(o=e["every even day"])&&void 0!==o?o:"every even day",value:"*/2"},{name:"".concat(e.every||"every"," 3"),value:"*/3"},{name:"".concat(e.every||"every"," 5"),value:"*/5"},{name:"".concat(e.every||"every"," 10"),value:"*/10"},{name:"".concat(e.every||"every"," 15"),value:"*/15"}],hoursOptions:[{name:"00",value:"0"},{name:"01",value:"1"},{name:"02",value:"2"},{name:"03",value:"3"},{name:"04",value:"4"},{name:"05",value:"5"},{name:"06",value:"6"},{name:"07",value:"7"},{name:"08",value:"8"},{name:"09",value:"9"},{name:"10",value:"10"},{name:"11",value:"11"},{name:"12",value:"12"},{name:"13",value:"13"},{name:"14",value:"14"},{name:"15",value:"15"},{name:"16",value:"16"},{name:"17",value:"17"},{name:"18",value:"18"},{name:"19",value:"19"},{name:"20",value:"20"},{name:"21",value:"21"},{name:"22",value:"22"},{name:"23",value:"23"}],hourlyMinutesOptions:[{name:"00",value:"0"},{name:"15",value:"15"},{name:"30",value:"30"},{name:"45",value:"45"}],dailyMinutesOptions:[{name:"00",value:"0"},{name:"01",value:"1"},{name:"02",value:"2"},{name:"05",value:"5"},{name:"10",value:"10"},{name:"15",value:"15"},{name:"20",value:"20"},{name:"25",value:"25"},{name:"30",value:"30"},{name:"35",value:"35"},{name:"40",value:"40"},{name:"45",value:"45"},{name:"50",value:"50"},{name:"55",value:"55"}],weeklyRunCommandOptions:[{name:null!==(s=e["every day"])&&void 0!==s?s:"every day",value:"*"},{name:null!==(i=e["weekdays (5 days)"])&&void 0!==i?i:"weekdays (5 days)",value:"1,2,3,4,5"},{name:null!==(u=e["weekend (2 days)"])&&void 0!==u?u:"weekend (2 days)",value:"0,6"},{name:null!==(m=e.Monday)&&void 0!==m?m:"Monday",value:"1"},{name:null!==(d=e.Tuesday)&&void 0!==d?d:"Tuesday",value:"2"},{name:null!==(E=e.Wednesday)&&void 0!==E?E:"Wednesday",value:"3"},{name:null!==(p=e.Thursday)&&void 0!==p?p:"Thursday",value:"4"},{name:null!==(v=e.Friday)&&void 0!==v?v:"Friday",value:"5"},{name:null!==(f=e.Saturday)&&void 0!==f?f:"Saturday",value:"6"},{name:null!==(b=e.Sunday)&&void 0!==b?b:"Sunday",value:"0"}],monthlyRunCommandOptions:[{name:null!==(g=e["every month"])&&void 0!==g?g:"every month",value:"*"},{name:null!==(h=e["every odd month"])&&void 0!==h?h:"every odd month",value:"1-11/2"},{name:null!==(O=e["every even month"])&&void 0!==O?O:"every even month",value:"*/2"},{name:"".concat(e.every||"every"," 3"),value:"*/3"},{name:"".concat(e.every||"every"," 6"),value:"*/6"},{name:null!==(N=e.Jan)&&void 0!==N?N:"Jan",value:"1"},{name:null!==(j=e.Feb)&&void 0!==j?j:"Feb",value:"2"},{name:null!==(k=e.Mar)&&void 0!==k?k:"Mar",value:"3"},{name:null!==(y=e.Apr)&&void 0!==y?y:"Apr",value:"4"},{name:null!==(_=e.May)&&void 0!==_?_:"May",value:"5"},{name:null!==(S=e.Jun)&&void 0!==S?S:"Jun",value:"6"},{name:null!==(w=e.Jul)&&void 0!==w?w:"Jul",value:"7"},{name:null!==(M=e.Aug)&&void 0!==M?M:"Aug",value:"8"},{name:null!==(A=e.Sep)&&void 0!==A?A:"Sep",value:"9"},{name:null!==(C=e.Oct)&&void 0!==C?C:"Oct",value:"10"},{name:null!==(D=e.Nov)&&void 0!==D?D:"Nov",value:"11"},{name:null!==(F=e.Dec)&&void 0!==F?F:"Dec",value:"12"}],dateOptions:[{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"},{name:"4",value:"4"},{name:"5",value:"5"},{name:"6",value:"6"},{name:"7",value:"7"},{name:"8",value:"8"},{name:"9",value:"9"},{name:"10",value:"10"},{name:"11",value:"11"},{name:"12",value:"12"},{name:"13",value:"13"},{name:"14",value:"14"},{name:"15",value:"15"},{name:"16",value:"16"},{name:"17",value:"17"},{name:"18",value:"18"},{name:"19",value:"19"},{name:"20",value:"20"},{name:"21",value:"21"},{name:"22",value:"22"},{name:"23",value:"23"},{name:"24",value:"24"},{name:"25",value:"25"},{name:"26",value:"26"},{name:"27",value:"27"},{name:"28",value:"28"},{name:"29",value:"29"},{name:"30",value:"30"},{name:"31",value:"31"}]}},qt=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)({activeTab:""}),r=Object(y.a)(a,2),l=r[0],s=r[1];Object(n.useEffect)((function(){s(Object(u.a)(Object(u.a)({},l),{},{activeTab:e.activeTab}))}),[e]);return c.a.createElement("div",{class:"form-group run-command"},c.a.createElement("label",{htmlFor:"run-command"},t["Run Command"],":"),c.a.createElement("select",{className:"form-control",name:function(){switch(l.activeTab){case"1":return"h_min";case"2":return"h_hour";case"3":return"h_day";case"4":return"h_wday";case"5":return"h_month"}}()},function(){var e=Ht(t),a=e.daysRunCommandsOptions,n=e.hoursRunCommandsOptions,r=e.minutesRunCommandsOptions,o=e.monthlyRunCommandOptions,s=e.weeklyRunCommandOptions;switch(l.activeTab){case"1":return r.map((function(e){return c.a.createElement("option",{value:e.value},e.name)}));case"2":return n.map((function(e){return c.a.createElement("option",{value:e.value},e.name)}));case"3":return a.map((function(e){return c.a.createElement("option",{value:e.value},e.name)}));case"4":return s.map((function(e){return c.a.createElement("option",{value:e.value},e.name)}));case"5":return o.map((function(e){return c.a.createElement("option",{value:e.value},e.name)}))}}()))};function Jt(){var e,t=Object(o.d)((function(e){return e.session})).i18n,a=Ht(t).hourlyMinutesOptions;return c.a.createElement("div",{className:"second-tab-selects"},c.a.createElement("input",{type:"hidden",name:"h_day",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_month",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_wday",value:"*"}),c.a.createElement("div",{className:"form-group minute"},c.a.createElement("label",{htmlFor:"run-command"},null!==(e=t.Minute)&&void 0!==e?e:"Minute",":"),c.a.createElement("select",{className:"form-control",name:"h_min"},a.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))))}function Kt(){var e,t,a=Object(o.d)((function(e){return e.session})).i18n,n=Ht(a),r=n.dailyMinutesOptions,l=n.hoursOptions;return c.a.createElement("div",{className:"third-tab-selects"},c.a.createElement("input",{type:"hidden",name:"h_month",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_wday",value:"*"}),c.a.createElement("div",{className:"form-group hour"},c.a.createElement("label",{htmlFor:"run-command"},null!==(e=a.Hour)&&void 0!==e?e:"Hour",":"),c.a.createElement("select",{className:"form-control",name:"h_hour"},l.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))),c.a.createElement("div",{className:"form-group minute"},c.a.createElement("label",{htmlFor:"run-command"},null!==(t=a.Minute)&&void 0!==t?t:"Minute",":"),c.a.createElement("select",{className:"form-control",name:"h_min"},r.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))))}function zt(){var e,t,a=Object(o.d)((function(e){return e.session})).i18n,n=Ht(a),r=n.dailyMinutesOptions,l=n.hoursOptions;return c.a.createElement("div",{className:"fourth-tab-selects"},c.a.createElement("input",{type:"hidden",name:"h_month",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_day",value:"*"}),c.a.createElement("div",{className:"form-group hour"},c.a.createElement("label",{htmlFor:"run-command"},null!==(e=a.Hour)&&void 0!==e?e:"Hour",":"),c.a.createElement("select",{className:"form-control",name:"h_hour"},l.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))),c.a.createElement("div",{className:"form-group minute"},c.a.createElement("label",{htmlFor:"run-command"},null!==(t=a.Minute)&&void 0!==t?t:"Minute",":"),c.a.createElement("select",{className:"form-control",name:"h_min"},r.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))))}function Yt(){var e,t,a,n=Object(o.d)((function(e){return e.session})).i18n,r=Ht(n),l=r.dailyMinutesOptions,s=r.hoursOptions,i=r.dateOptions;return c.a.createElement("div",{className:"fifth-tab-selects"},c.a.createElement("input",{type:"hidden",name:"h_wday",value:"*"}),c.a.createElement("div",{className:"form-group date"},c.a.createElement("label",{htmlFor:"run-command"},null!==(e=n.Date)&&void 0!==e?e:"Date",":"),c.a.createElement("select",{className:"form-control",name:"h_day"},i.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))),c.a.createElement("div",{className:"form-group hour"},c.a.createElement("label",{htmlFor:"run-command"},null!==(t=n.Hour)&&void 0!==t?t:"Hour",":"),c.a.createElement("select",{className:"form-control",name:"h_hour"},s.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))),c.a.createElement("div",{className:"form-group minute"},c.a.createElement("label",{htmlFor:"run-command"},null!==(a=n.Minute)&&void 0!==a?a:"Minute",":"),c.a.createElement("select",{className:"form-control",name:"h_min"},l.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.name)})))))}a(226);var Gt=function(e){var t=Object(n.useState)({activeTab:""}),a=Object(y.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(Object(u.a)(Object(u.a)({},r),{},{activeTab:e.activeTab}))}),[e.activeTab]);return c.a.createElement("div",{className:"tab-".concat(r.activeTab)},function(){switch(r.activeTab){case"1":return c.a.createElement("div",null,c.a.createElement("input",{type:"hidden",name:"h_hour",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_day",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_month",value:"*"}),c.a.createElement("input",{type:"hidden",name:"h_wday",value:"*"}));case"2":return c.a.createElement(Jt,null);case"3":return c.a.createElement(Kt,null);case"4":return c.a.createElement(zt,null);case"5":return c.a.createElement(Yt,null)}}())},Qt=(a(227),function(e){var t=Object(n.useRef)(null),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(n.useState)({activeTab:"1"}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).activeTab||"1";m(Object(u.a)(Object(u.a)({},i),{},{activeTab:e}))}),[r.location.search]);var d=function(e){return i.activeTab===e?"active":""},E=function(t){var a=e.job,n=e.mode;return"/".concat(n,"/cron/?").concat(a?"job=".concat(a,"&"):"","activeTab=").concat(t)};return c.a.createElement("div",{className:"cron-job-generator"},c.a.createElement("div",{className:"header"},c.a.createElement(se.b,{to:E("1"),className:d("1")},a.Minutes),c.a.createElement(se.b,{to:E("2"),className:d("2")},a.Hourly),c.a.createElement(se.b,{to:E("3"),className:d("3")},a.Daily),c.a.createElement(se.b,{to:E("4"),className:d("4")},a.Weekly),c.a.createElement(se.b,{to:E("5"),className:d("5")},a.Monthly)),c.a.createElement("div",{className:"body"},c.a.createElement("form",{ref:t},c.a.createElement(qt,{activeTab:i.activeTab}),c.a.createElement(Gt,{activeTab:i.activeTab}),c.a.createElement("div",{className:"form-actions"},c.a.createElement("button",{type:"button",onClick:function(){for(var a={},n=0;n<=4;n++){var c=t.current[n];a[c.name]=c.value}e.generatedCronJob(a)}},a.Generate)))))}),Xt=(a(228),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},errorMessage:"",okMessage:"",loading:!1,generatedCronJob:{h_min:"*",h_hour:"*",h_day:"*",h_wday:"*",h_month:"*"}}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).job;l(Te("/list/cron/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){return me.a.get(Bt+"/api/v1/edit/cron/index.php",{params:{job:e,token:Ie()}})}(e).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{generatedCronJob:Object(u.a)(Object(u.a)({},m.generatedCronJob),{},{h_min:e.data.min,h_hour:e.data.hour,h_day:e.data.day,h_wday:e.data.wday,h_month:e.data.month}),data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var E=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(Bt+"/api/v1/edit/cron/index.php",a,{params:{job:t,token:Ie()}})}(a,m.data.job).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},p=function(e){var t=Object(u.a)(Object(u.a)({},m.generatedCronJob),{},Object(w.a)({},e.id,e.value));d(Object(u.a)(Object(u.a)({},m),{},{generatedCronJob:t}))};return c.a.createElement("div",{className:"edit-template edit-cron"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.CRON))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing Cron Job"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)},id:"edit-cron"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{id:"command",name:"v_cmd",title:a.Command,value:m.data.cmd}),c.a.createElement("div",{className:"cron-form-body"},c.a.createElement("div",{className:"body-col-1"},c.a.createElement(Be,{value:m.generatedCronJob.h_min,onChange:p,title:a.Minute,name:"v_min",id:"h_min"}),c.a.createElement(Be,{value:m.generatedCronJob.h_hour,onChange:p,title:a.Hour,name:"v_hour",id:"h_hour"}),c.a.createElement(Be,{value:m.generatedCronJob.h_day,onChange:p,title:a.Day,name:"v_day",id:"h_day"}),c.a.createElement(Be,{value:m.generatedCronJob.h_month,onChange:p,title:a.Month,name:"v_month",id:"h_month"}),c.a.createElement(Be,{value:m.generatedCronJob.h_wday,title:a["Day of week"],onChange:p,name:"v_wday",id:"h_wday"})),c.a.createElement("div",{className:"body-col-2"},c.a.createElement(Qt,{mode:"edit",job:m.data.job,generatedCronJob:function(e){d(Object(u.a)(Object(u.a)({},m),{},{generatedCronJob:e}))}}))),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/cron/")}},a.Back)))))}),Zt=function(e){var t=Object(n.useState)({value:"",previousValue:""}),a=Object(y.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(Object(u.a)(Object(u.a)({},r),{},{value:e.value}))}),[e.value]),Object(n.useEffect)((function(){l(Object(u.a)(Object(u.a)({},r),{},{value:e.value,previousValue:e.value}))}),[]);return c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{className:"label-wrapper",htmlFor:e.id},e.title,c.a.createElement("span",{className:"lowercase"},e.optionalTitle?"(".concat(e.optionalTitle,")"):"")),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{type:"text",name:e.name,id:e.id,className:"form-control",onChange:function(e){var t=e.target.value;l(Object(u.a)(Object(u.a)({},r),{},{value:t,previousValue:t}))},value:r.value,readOnly:"unlimited"===r.value}),e.children))},$t=function(e){var t,a,r=Object(o.d)((function(e){return e.session})).i18n,l=Object(n.useState)({nameServersAmount:[],usersNS:[]}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){if(e.usersNS){var t=e.usersNS.map((function(e,t){return t+1}));m(Object(u.a)(Object(u.a)({},i),{},{usersNS:e.usersNS,nameServersAmount:t}))}}),[e.usersNS]);var d=function(e){var t=Object(x.a)(i.nameServersAmount);t.splice(e-1,1),m(Object(u.a)(Object(u.a)({},i),{},{nameServersAmount:t}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"form-group name-servers"},c.a.createElement("label",{htmlFor:"v_ns1"},null!==(t=r["Name servers"])&&void 0!==t?t:"Name servers"),i.nameServersAmount.map((function(e,t){var a;if(e<9)return c.a.createElement("div",{className:"name-server-input-wrapper",key:t},c.a.createElement("input",{type:"text",className:"form-control",id:"v_ns".concat(t+1),defaultValue:i.usersNS[t]||"",name:"v_ns".concat(t+1)}),c.a.createElement("button",{type:"button",className:t<2?"hide":"show delete",onClick:function(){return d(t)}},null!==(a=r.delete)&&void 0!==a?a:"Delete"))}))),c.a.createElement("button",{type:"button",className:8===i.nameServersAmount.length?"hide":"show optional",onClick:function(){return function(){var e=i.nameServersAmount.length,t=Object(x.a)(i.nameServersAmount);t.push(e+1),m(Object(u.a)(Object(u.a)({},i),{},{nameServersAmount:t}))}()}},null!==(a=r["Add one more Name Server"])&&void 0!==a?a:"Add one more Name Server"))},ea=window.location.origin,ta=function(){return me.a.get(ea+"/api/v1/list/package/index.php")},aa=(a(229),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e,t=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0});l(Te("/list/package/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),t.package&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),(e=t.package,me.a.get(ea+"/api/v1/edit/package/index.php",{params:{package:e,token:Ie()}})).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var E=function(e){var t,a=m.data[e];t="quota"===e||"bandwidth"===e?"1000":"1",d(Object(u.a)(Object(u.a)({},m),{},{data:Object(u.a)(Object(u.a)({},m.data),{},Object(w.a)({},e,"unlimited"!==a?"unlimited":t))}))};return c.a.createElement("div",{className:"edit-template edit-package"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.PACKAGE))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing Package"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(a=c.n()).done;){var r=Object(y.a)(a.value,2),o=r[0],s=r[1];n[o]=s}}catch(i){c.e(i)}finally{c.f()}n.token=t,n.save="save",n.v_package=m.data.package,0!==Object.keys(n).length&&n.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(ea+"/api/v1/edit/package/index.php",a,{params:{package:t}})}(n,m.data.package).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},id:"edit-package"},c.a.createElement(Be,{id:"domain",name:"v_domain",title:a["Package Name"],value:m.data.package,disabled:!0}),c.a.createElement(Ve,{optionalTitle:m.data.web_system,options:m.data.web_templates,selected:m.data.web_template,title:a["Web Template"],name:"v_web_template",id:"web-templates"}),m.data.web_backend&&c.a.createElement(Ve,{optionalTitle:m.data.web_backend,options:m.data.backend_templates,selected:m.data.backend_template,title:a["Backend Template"],name:"v_backend_template",id:"backend-templates"}),m.data.proxy_system&&c.a.createElement(Ve,{optionalTitle:m.data.proxy_system,options:m.data.proxy_templates,selected:m.data.proxy_template,title:a["Proxy Template"],name:"v_proxy_template",id:"proxy-templates"}),m.data.dns_system&&c.a.createElement(Ve,{optionalTitle:m.data.dns_system,options:m.data.dns_templates,selected:m.data.dns_template,title:a["DNS Template"],name:"v_dns_template",id:"dns-templates"}),c.a.createElement(Ve,{options:m.data.shells,selected:m.data.shell,title:a["SSH Access"],name:"v_shell",id:"ssh-access"}),c.a.createElement(Zt,{title:a["Web Domains"],id:"webDomains",name:"v_web_domains",value:m.data.web_domains},c.a.createElement("button",{type:"button",onClick:function(){return E("web_domains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Web Aliases"],optionalTitle:a["per domain"],id:"webAliases",name:"v_web_aliases",value:m.data.web_aliases},c.a.createElement("button",{type:"button",onClick:function(){return E("web_aliases")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["DNS Domains"],id:"dnsDomains",name:"v_dns_domains",value:m.data.dns_domains},c.a.createElement("button",{type:"button",onClick:function(){return E("dns_domains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["DNS records"],optionalTitle:a["per domain"],id:"dnsRecords",name:"v_dns_records",value:m.data.dns_records},c.a.createElement("button",{type:"button",onClick:function(){return E("dns_records")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Mail Domains"],id:"mailDomains",name:"v_mail_domains",value:m.data.mail_domains},c.a.createElement("button",{type:"button",onClick:function(){return E("mail_domains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Mail Accounts"],optionalTitle:a["per domain"],id:"mailAccounts",name:"v_mail_accounts",value:m.data.mail_accounts},c.a.createElement("button",{type:"button",onClick:function(){return E("mail_accounts")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a.Databases,id:"databases",name:"v_databases",value:m.data.databases},c.a.createElement("button",{type:"button",onClick:function(){return E("databases")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Cron Jobs"],id:"cronJobs",name:"v_cron_jobs",value:m.data.cron_jobs},c.a.createElement("button",{type:"button",onClick:function(){return E("cron_jobs")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Be,{name:"v_backups",id:"backups",value:m.data.backups,title:a.Backups}),c.a.createElement(Zt,{title:a.Quota,optionalTitle:a["in megabytes"],id:"quota",name:"v_disk_quota",value:m.data.disk_quota},c.a.createElement("button",{type:"button",onClick:function(){return E("disk_quota")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a.Bandwidth,optionalTitle:a["in megabytes"],id:"bandwidth",name:"v_bandwidth",value:m.data.bandwidth},c.a.createElement("button",{type:"button",onClick:function(){return E("bandwidth")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement($t,{usersNS:m.data.nameservers}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/package/")}},a.Back)))))}),na=(a(230),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){l(Te("/list/server/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),nt("httpd").then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);return c.a.createElement("div",{className:"edit-template edit-httpd"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},c.a.createElement(se.b,{to:"/edit/server/".concat(m.data.service_name)},a["Configuring Server"]," / ",m.data.service_name)),c.a.createElement("div",{className:"link"},c.a.createElement(se.b,{to:"/edit/server/php"},a.Configure," php.ini")),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),at(a,"/httpd").then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;d(a?Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},m),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},m),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-httpd"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement($e,{defaultValue:m.data.config,title:m.data.config_path,name:"v_config",id:"v_config",rows:"25"}),c.a.createElement("br",null),c.a.createElement(We,{title:a.restart,defaultChecked:!0,name:"v_restart",id:"restart"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/server/")}},a.Back)))))}),ca=(a(231),function(e){var t,a,r,l,s,i,m,d,E=Object(o.d)((function(e){return e.session})).i18n,p=localStorage.getItem("token"),v=Object(I.g)(),f=Object(o.c)(),b=Object(n.useState)({loading:!1,okMessage:"",errorMessage:"",generatedCronJob:{h_min:"*",h_hour:"*",h_day:"*",h_wday:"*",h_month:"*"}}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){f(Te("/list/cron/")),f({type:"REMOVE_FOCUSED_ELEMENT",value:""})}),[]);var N=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(O(Object(u.a)(Object(u.a)({},h),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(Bt+"/api/v1/add/cron/index.php",t)}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?O(Object(u.a)(Object(u.a)({},h),{},{errorMessage:a,okMessage:n,loading:!1})):f(Ye()).then((function(){O(Object(u.a)(Object(u.a)({},h),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},j=function(e){var t=Object(u.a)(Object(u.a)({},h.generatedCronJob),{},Object(w.a)({},e.id,e.value));O(Object(u.a)(Object(u.a)({},h),{},{generatedCronJob:t}))};return c.a.createElement("div",{className:"edit-template add-cron"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(E.CRON))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},E["Adding Cron Job"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},h.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",h.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},h.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(h.okMessage))))),c.a.createElement(qe,null,h.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return N(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:p}),c.a.createElement("div",{className:"form-group command"},c.a.createElement("label",{htmlFor:"command"},null!==(t=E.Command)&&void 0!==t?t:"Command"),c.a.createElement("input",{type:"text",className:"form-control",id:"command",name:"v_cmd"})),c.a.createElement("div",{className:"cron-form-body"},c.a.createElement("div",{className:"body-col-1"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"h_min"},null!==(a=E.Minute)&&void 0!==a?a:"Minute"),c.a.createElement("input",{type:"text",className:"form-control",id:"h_min",onChange:function(e){return j(e.target)},value:h.generatedCronJob.h_min,name:"v_min"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"h_hour"},null!==(r=E.Hour)&&void 0!==r?r:"Hour"),c.a.createElement("input",{type:"text",className:"form-control",id:"h_hour",onChange:function(e){return j(e.target)},value:h.generatedCronJob.h_hour,name:"v_hour"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"h_day"},null!==(l=E.Day)&&void 0!==l?l:"Day"),c.a.createElement("input",{type:"text",className:"form-control",id:"h_day",onChange:function(e){return j(e.target)},value:h.generatedCronJob.h_day,name:"v_day"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"h_month"},null!==(s=E.Month)&&void 0!==s?s:"Month"),c.a.createElement("input",{type:"text",className:"form-control",id:"h_month",onChange:function(e){return j(e.target)},value:h.generatedCronJob.h_month,name:"v_month"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"h_wday"},null!==(i=E["Day of week"])&&void 0!==i?i:"Days of week"),c.a.createElement("input",{type:"text",className:"form-control",id:"h_wday",onChange:function(e){return j(e.target)},value:h.generatedCronJob.h_wday,name:"v_wday"}))),c.a.createElement("div",{className:"body-col-2"},c.a.createElement(Qt,{mode:"add",generatedCronJob:function(e){O(Object(u.a)(Object(u.a)({},h),{},{generatedCronJob:e}))}}))),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},null!==(m=E.Add)&&void 0!==m?m:"Add"),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return v.push("/list/cron/")}},null!==(d=E.Back)&&void 0!==d?d:"Back")))))}),ra=(a(232),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(o.c)(),l=Object(I.g)(),s=Object(n.useState)({loading:!1,okMessage:"",errorMessage:"",webTemplates:[],webSystem:"",backendTemplates:[],backendSystem:"",proxySystem:"",proxyTemplates:[],dnsTemplates:[],dnsSystem:"",sshTemplates:[],usersNS:[],webDomains:"1",webAliases:"1",dnsDomains:"1",dnsRecords:"1",mailDomains:"1",mailAccounts:"1",databases:"1",cronJobs:"1",quota:"1000",bandwidth:"1000"}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){r(Te("/list/package/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),E()}),[]);var E=function(){me.a.get(ea+"/api/v1/add/package/index.php").then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{webTemplates:e.data.web_templates,webSystem:e.data.web_system,backendTemplates:e.data.backend_templates,backendSystem:e.data.web_backend,dnsTemplates:e.data.dns_templates,dnsSystem:e.data.dns_system,proxySystem:e.data.proxy_system,proxyTemplates:e.data.proxy_templates,sshTemplates:e.data.ssh_access,loading:!1}))})).catch((function(e){return console.err(e)}))},p=function(e){e.preventDefault();var a,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(a=c.n()).done;){var l=Object(y.a)(a.value,2),o=l[0],s=l[1];n[o]=s}}catch(i){c.e(i)}finally{c.f()}n.token=t,n.ok="Add",0!==Object.keys(n).length&&n.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(ea+"/api/v1/add/package/index.php",t)}(n).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):r(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},v=function(e){var t,a=m[e];t="quota"===e||"bandwidth"===e?"1000":"1",d("unlimited"!==a?Object(u.a)(Object(u.a)({},m),{},Object(w.a)({},e,"unlimited")):Object(u.a)(Object(u.a)({},m),{},Object(w.a)({},e,t)))};return c.a.createElement("div",{className:"edit-template add-package"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.PACKAGE))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Adding Package"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return p(e)}},c.a.createElement(Be,{name:"v_package",id:"packageName",title:a["Package Name"]}),c.a.createElement(Ve,{options:m.webTemplates,name:"v_web_template",id:"webTemplates",title:a["Web Template"],optionalTitle:m.webSystem}),c.a.createElement(Ve,{options:m.backendTemplates,name:"v_backend_template",id:"backendTemplates",title:a["Backend Template"],optionalTitle:m.backendSystem}),c.a.createElement(Ve,{options:m.proxyTemplates,name:"v_proxy_template",id:"proxyTemplates",title:a["Proxy Template"],optionalTitle:m.proxySystem}),c.a.createElement(Ve,{options:m.dnsTemplates,name:"v_dns_template",id:"dnsTemplates",title:a["DNS Template"],optionalTitle:m.dnsSystem}),c.a.createElement(Ve,{options:m.sshTemplates,name:"v_shell",id:"shells",title:a["SSH Access"]}),c.a.createElement(Zt,{title:a["Web Domains"],id:"webDomains",name:"v_web_domains",value:m.webDomains},c.a.createElement("button",{type:"button",onClick:function(){return v("webDomains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Web Aliases"],optionalTitle:a["per domain"],id:"webAliases",name:"v_web_aliases",value:m.webAliases},c.a.createElement("button",{type:"button",onClick:function(){return v("webAliases")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["DNS Domains"],id:"dnsDomains",name:"v_dns_domains",value:m.dnsDomains},c.a.createElement("button",{type:"button",onClick:function(){return v("dnsDomains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["DNS records"],optionalTitle:a["per domain"],id:"dnsRecords",name:"v_dns_records",value:m.dnsRecords},c.a.createElement("button",{type:"button",onClick:function(){return v("dnsRecords")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Mail Domains"],id:"mailDomains",name:"v_mail_domains",value:m.mailDomains},c.a.createElement("button",{type:"button",onClick:function(){return v("mailDomains")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Mail Accounts"],optionalTitle:a["per domain"],id:"mailAccounts",name:"v_mail_accounts",value:m.mailAccounts},c.a.createElement("button",{type:"button",onClick:function(){return v("mailAccounts")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a.Databases,id:"databases",name:"v_databases",value:m.databases},c.a.createElement("button",{type:"button",onClick:function(){return v("databases")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a["Cron Jobs"],id:"cronJobs",name:"v_cron_jobs",value:m.cronJobs},c.a.createElement("button",{type:"button",onClick:function(){return v("cronJobs")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Be,{name:"v_backups",id:"backups",value:"1",title:a.Backups}),c.a.createElement(Zt,{title:a.Quota,optionalTitle:a["in megabytes"],id:"quota",name:"v_disk_quota",value:m.quota},c.a.createElement("button",{type:"button",onClick:function(){return v("quota")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement(Zt,{title:a.Bandwidth,optionalTitle:a["in megabytes"],id:"bandwidth",name:"v_bandwidth",value:m.bandwidth},c.a.createElement("button",{type:"button",onClick:function(){return v("bandwidth")}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement($t,{usersNS:["ns1.example.ltd","ns2.example.ltd"]}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/package/")}},a.Back)))))}),la=function(e){var t=e.proxySystem,a=e.webSystem,n=e.webBackend,r=e.webBackendPool,l=e.visible,s=void 0!==l&&l,i=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"server-web-option",style:{display:"".concat(s?"block":"none")}},t&&c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(t)},i.configure),title:i["Proxy Server"]+" / ",name:"v_proxy_system",value:t,id:"proxy_system",disabled:!0}),a&&c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(a)},i.configure),title:i["Web Server"]+" / ",name:"v_web_system",value:a,id:"web_system",disabled:!0}),n&&c.a.createElement(Be,{title:i["Backend Server"],name:"v_web_backend",value:n,id:"web_backend",disabled:!0}),r&&c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(r)},i.configure),title:i["Backend Pool Mode"],name:"v_web_backend_pool",value:r,id:"web_backend_pool",disabled:!0}))},oa=function(e){var t=e.dnsSystem,a=e.selected,n=e.dnsCluster,r=e.visible,l=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"server-dns-option",style:{display:"".concat(r?"block":"none")}},c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(t)},l.configure),title:l["DNS Server"]+" / ",name:"v_dns_system",value:t,id:"dns_system",disabled:!0}),c.a.createElement(Ve,{title:l["DNS Cluster"],selected:a,options:[l.no,l.yes],name:"v_dns_cluster",id:"dns-cluster",disabled:!0}),"yes"===a&&c.a.createElement("div",{className:"hosts-wrapper"},n.map((function(e,t){return c.a.createElement(Be,{title:"".concat(l["DNS Server"]," #").concat(t+1),name:"v_dns_remote_host",id:"dns-remote-host",value:e,disabled:!0})}))))},sa=function(e){var t,a=e.data,r=e.visible,l=Object(o.d)((function(e){return e.session})).i18n,s=Object(n.useState)([]),i=Object(y.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)([]),E=Object(y.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)(!1),b=Object(y.a)(f,2),g=b[0],h=b[1],O=Object(n.useState)(!1),N=Object(y.a)(O,2),j=N[0],k=N[1],_=Object(n.useState)(!1),S=Object(y.a)(_,2),w=S[0],M=S[1];Object(n.useEffect)((function(){var e=[],t=[];a.sftpjail_key&&e.push(l["Disable and Cancel Licence"]),e.push(l.yes),a.fm_key&&t.push(l["Disable and Cancel Licence"]),t.push(l.yes),m(e),v(t),"sftp"!==a.lead&&"no"===a.sftpjail_key||h(!0),"filemanager"!==a.lead&&"no"===a.fm_key||k(!0),"softaculous"!==a.lead&&"no"===a.softaculous||M(!0)}),[]);return c.a.createElement("div",{className:"server-plugins-option",style:{display:"".concat(r?"block":"none")}},c.a.createElement(Be,{title:l.Version,value:a.version,name:"v_version",id:"version",disabled:!0}),c.a.createElement(Ve,{title:l["FileSystem Disk Quota"],selected:a.disk_quota,options:a.yes_no_options,name:"v_quota",id:"quota"}),c.a.createElement("br",null),c.a.createElement(Ve,{title:l.Firewall,selected:"iptables"===a.firewall_system?l.yes:"",options:a.yes_no_options,name:"v_firewall",id:"firewall"}),c.a.createElement(Ve,{title:l["Reseller Role"],options:[l.yes],name:"v_reseller",id:"reseller",disabled:!0}),c.a.createElement(Ve,{title:l["Backup Migration Manager"],options:[l.yes],name:"v_backup_manager",id:"backup_manager",disabled:!0}),c.a.createElement(Ve,{title:l["SFTP Chroot"],selected:"sftp"===a.lead||""!=a.sftpjail_key?l.yes:"",name:"v_backup_manager",options:u,onChange:function(e){e!==l.yes?h(!1):h(!0)},id:"backup_manager"}),g?c.a.createElement("div",{className:"sftp-module"},c.a.createElement("div",null,l["Restrict users so that they cannot use SSH and access only their home directory."]),c.a.createElement("div",{className:"license-description"},c.a.createElement("span",null,l["Licence Key"],":"),c.a.createElement(Be,{title:l.Version,value:a.version,name:"v_version",id:"version"}))):c.a.createElement("div",{className:"sftp-module"},c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,l["Restrict users so that they cannot use SSH and access only their home directory."]),c.a.createElement("span",null,l["This is a commercial module, you would need to purchace license key to enable it."])),c.a.createElement("div",{className:"license-description"},c.a.createElement("span",null,l["Enter License Key"],":"),c.a.createElement(Be,{title:l.Version,name:"v_sftp_licence",id:"sftp_licence"})),c.a.createElement("div",{className:"buy-license"},c.a.createElement("a",{href:"https://vestacp.com/checkout/2co.php?product_id=6&referer=".concat(a.http_host)},l["Buy Licence"]," 3$ ",l.month),c.a.createElement("a",{href:"https://vestacp.com/checkout/2co.php?product_id=9&referer=".concat(a.http_host)},l["Buy Lifetime License"]," 18$")),c.a.createElement("span",null,"2Checkout.com Inc. (Ohio, USA) is a payment facilitator for goods and services provided by vestacp.com.")),c.a.createElement("br",null),c.a.createElement(Ve,{title:l["File Manager"],selected:"filemanager"===a.lead||a.fm_key?l.yes:"",options:p,onChange:function(e){e!==l.yes?k(!1):k(!0)},name:"v_filemanager",id:"filemanager"}),j?c.a.createElement("div",{className:"fm-module"},c.a.createElement("div",null,l["Browse, copy, edit, view, and retrieve all of your web domain files using fully featured File Manager."]),c.a.createElement("div",{className:"license-description"},c.a.createElement("span",null,l["Licence Key"],":"),c.a.createElement(Be,{title:l.Version,value:a.fm_licence_key_option,name:"v_filemanager_licence",id:"filemanager_licence"}))):c.a.createElement("div",{className:"fm-module"},c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,l["Browse, copy, edit, view, and retrieve all of your web domain files using fully featured File Manager."]),c.a.createElement("span",null,l["This is a commercial module, you would need to purchace license key to enable it."])),c.a.createElement("div",{className:"license-description"},c.a.createElement("span",null,l["Enter License Key"],":"),c.a.createElement(Be,{title:l.Version,value:"",name:"v_filemanager_licence",id:"sftp_licence"})),c.a.createElement("div",{className:"buy-license"},c.a.createElement("a",{href:"https://vestacp.com/checkout/2co.php?product_id=7&referer=".concat(a.http_host),target:"_blank",rel:"noopener noreferrer"},l["Buy Licence"]," 3$ ",l.month),c.a.createElement("a",{href:"https://vestacp.com/checkout/2co.php?product_id=8&referer=".concat(a.http_host),target:"_blank",rel:"noopener noreferrer"},l["Buy Lifetime License"]," 28$")),c.a.createElement("span",null,"2Checkout.com Inc. (Ohio, USA) is a payment facilitator for goods and services provided by vestacp.com.")),c.a.createElement("br",null),c.a.createElement(Ve,{title:"Softaculous",selected:"softaculous"===a.lead||"yes"===a.softaculous?l.yes:"",options:[l.no,l.yes],onChange:function(e){e!==l.yes?M(!0):M(!1)},name:"v_softaculous",id:"softaculous"}),w&&c.a.createElement("div",{className:"soft-module"},c.a.createElement("div",null,c.a.createElement("span",{style:{fontWeight:"bolder"}},l["* plugin installation will run in background"]),c.a.createElement("span",null,"Softaculous is a great Auto Installer having 426 great scripts, 1115 PHP Classes and we are still adding more. Softaculous is ideal for Web Hosting companies and it could give a significant boost to your sales. These scripts cover most of the uses a customer could ever have. We have covered a wide array of Categories so that everyone could find the required script one would need to power their Web Site.")),c.a.createElement("div",{className:"buy-license"},c.a.createElement("a",{href:"https://www.softaculous.com/softaculous/",target:"_blank",rel:"noopener noreferrer"},null!==(t=l["Get Premium License"])&&void 0!==t?t:"Get Premium License"))))},ia=function(e){var t=e.data,a=e.visible,r=Object(o.d)((function(e){return e.session})).i18n,l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)([]),d=Object(y.a)(m,2),E=d[0],p=d[1];return Object(n.useEffect)((function(){var e=t.ssl_domains;p(e?[""].concat(Object(x.a)(e)):[""])}),[]),c.a.createElement("div",{className:"server-ssl-option",style:{display:"".concat(a?"block":"none")}},c.a.createElement(We,{onChange:function(e){return u(e)},title:r["Use Web Domain SSL Certificate"],defaultChecked:t.vesta_certificate,name:"v_web_ssl_domain_checkbox",id:"web_ssl_domain_checkbox",checked:i}),i&&c.a.createElement("div",{className:"domain-group"},c.a.createElement(Ve,{selected:t.vesta_certificate,name:"v_web_ssl_domain",title:r.Domain,options:E,id:"web_ssl_domain"})),c.a.createElement($e,{title:r["SSL Certificate"],defaultValue:t.sys_ssl_crt,name:"v_sys_ssl_crt",id:"sys_ssl_crt"}),c.a.createElement($e,{defaultValue:t.sys_ssl_key,id:"sys_ssl_key",name:"v_sys_ssl_key",title:r["SSL Key"]}),c.a.createElement("div",{className:"additional-info"},t.sys_ssl_subject&&c.a.createElement("div",null,c.a.createElement("span",null,r.SUBJECT,":"),c.a.createElement("span",null,t.sys_ssl_subject)),t.sys_ssl_aliases&&c.a.createElement("div",null,c.a.createElement("span",null,r.ALIASES,":"),c.a.createElement("span",null,t.sys_ssl_aliases)),t.sys_ssl_not_before&&c.a.createElement("div",null,c.a.createElement("span",null,r.NOT_BEFORE,":"),c.a.createElement("span",null,t.sys_ssl_not_before)),t.sys_ssl_not_after&&c.a.createElement("div",null,c.a.createElement("span",null,r.NOT_AFTER,":"),c.a.createElement("span",null,t.sys_ssl_not_after)),t.sys_ssl_signature&&c.a.createElement("div",null,c.a.createElement("span",null,r.SIGNATURE,":"),c.a.createElement("span",null,t.sys_ssl_signature)),t.sys_ssl_pub_key&&c.a.createElement("div",null,c.a.createElement("span",null,r.PUB_KEY,":"),c.a.createElement("span",null,t.sys_ssl_pub_key)),t.sys_ssl_issuer&&c.a.createElement("div",null,c.a.createElement("span",null,r.ISSUER,":"),c.a.createElement("span",null,t.sys_ssl_issuer))))},ua=function(e){var t=e.data,a=e.visible,n=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:"server-mail-option",style:{display:"".concat(a?"block":"none")}},c.a.createElement(Ve,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/mysql"},n.configure),title:n["MySQL Support"]+" / ",selected:t.mysql,options:[n.no,n.yes],name:"v_mysql",id:"mysql",disabled:!0}),"yes"===t.mysql&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{title:n["phpMyAdmin URL"],value:t.db_pma_url,name:"v_mysql_url",id:"mysql_url"}),function(){if(t.mysql_hosts.length)return t.mysql_hosts.map((function(e,t){return c.a.createElement("div",{className:"hosts"},c.a.createElement(Be,{title:"".concat(n.Host," #").concat(t+1),value:e.HOST,name:"v_mysql_host",id:"mysql_host",disabled:!0}),c.a.createElement(Be,{title:n.Password,name:"v_mysql_password",id:"mysql_password"}),c.a.createElement(Be,{title:n["Maximum Number Of Databases"],value:e.MAX_DB,name:"v_mysql_max",id:"mysql_max",disabled:!0}),c.a.createElement(Be,{title:n["Current Number Of Databases"],value:e.U_DB_BASES,name:"v_mysql_max",id:"current-databases",disabled:!0}))}))}()),c.a.createElement(Ve,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/postgresql"},n.configure),title:n["PostgreSQL Support"]+" / ",selected:t.pgsql,options:[n.no,n.yes],name:"v_pgsql",id:"pgsql",disabled:!0}),"yes"===t.pgsql&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{title:n["phpPgAdmin URL"],value:t.pgsql_url,name:"v_pgsql_url",id:"pgsql_url"}),t.pgsql_hosts.map((function(e,t){return c.a.createElement("div",{className:"hosts"},c.a.createElement(Be,{title:"".concat(n.Host," #").concat(t+1),value:e.HOST,name:"v_pgsql_host",id:"pgsql_host",disabled:!0}),c.a.createElement(Be,{title:n["Maximum Number Of Databases"],value:e.MAX_DB,name:"v_psql_max",id:"psql_max",disabled:!0}),c.a.createElement(Be,{title:n["Current Number Of Databases"],value:e.U_DB_BASES,name:"v_pgsql_max",id:"pgsql_current",disabled:!0}))}))))},ma=function(e){var t=e.data,a=e.visible,r=Object(o.d)((function(e){return e.session})).i18n,l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],u=s[1];return c.a.createElement("div",{className:"server-dns-option",style:{display:"".concat(a?"block":"none")}},c.a.createElement(Ve,{options:[r.no,r.yes],title:r["Local backup"],selected:t.backup,name:"v_backup",id:"backup"}),c.a.createElement(Ve,{options:["1","2","3","4","5","6","7","8","9"],title:r["Compression level"],selected:t.backup_gzip,name:"v_backup_gzip",id:"backup-gzip"}),c.a.createElement(Be,{title:r.Directory,value:t.backup_dir,name:"v_backup_dir",id:"v-backup-dir"}),t.backup_remote_adv&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",onClick:function(){return u(!i)}},r["Remote backup"],i?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Ve,{selected:t.backup_type,options:t.protocols,title:r.Protocol,name:"v_backup_type",id:"backup_type"}),c.a.createElement(Be,{title:r.Host,value:t.backup_host,name:"v_backup_host",id:"backup_host"}),c.a.createElement(Be,{title:r.Username,value:t.backup_username,name:"v_backup_username",id:"backup_username"}),c.a.createElement(Be,{title:r.Password,value:t.backup_password,name:"v_backup_password",id:"backup_password"}),c.a.createElement(Be,{title:r.Directory,value:t.backup_bpath,name:"v_backup_bpath",id:"backup_bpath"}))))},da=function(e){var t=e.data,a=e.visible,r=Object(o.d)((function(e){return e.session})).i18n,l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],u=s[1];Object(n.useEffect)((function(){t.mail_certificate&&u(!0)}),[]);return c.a.createElement("div",{className:"server-mail-option",style:{display:"".concat(a?"block":"none")}},c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(t.mail_system)},r.configure),title:r["MAIL Server"]+" / ",name:"v_mail_system",value:t.mail_system,id:"mail_system",disabled:!0}),t.antivirus_system&&c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(t.antivirus_system)},r.configure),title:r.Antivirus+" / ",name:"v_antivirus_system",value:t.antivirus_system,id:"antivirus_system",disabled:!0}),t.antispam_system&&c.a.createElement(Be,{optionalTitle:c.a.createElement(se.b,{to:"/edit/server/".concat(t.antispam_system)},r.configure),title:r["DNS Server"]+" / ",name:"v_antispam_system",value:t.antispam_system,id:"antispam_system",disabled:!0}),c.a.createElement(Be,{title:r["Webmail URL"],name:"v_mail_url",value:t.mail_url,id:"mail-url"}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(We,{onChange:function(e){return u(e)},title:r["Use Web Domain SSL Certificate"],name:"v_mail_ssl_domain_checkbox",id:"mail-ssl-domain-checkbox",checked:!!t.mail_certificate}),i&&c.a.createElement("div",{className:"mail-cert-info"},c.a.createElement(Ve,{options:[""].concat(Object(x.a)(t.ssl_domains)),selected:t.mail_certificate,name:"v_mail_ssl_domain",title:r.Domain,id:"mail-ssl-domain"}),c.a.createElement("div",{className:"additional-info"},t.sys_ssl_subject&&c.a.createElement("div",null,c.a.createElement("span",null,r.SUBJECT,":"),c.a.createElement("span",null,t.sys_ssl_subject)),t.sys_ssl_aliases&&c.a.createElement("div",null,c.a.createElement("span",null,r.ALIASES,":"),c.a.createElement("span",null,t.sys_ssl_aliases)),t.sys_ssl_not_before&&c.a.createElement("div",null,c.a.createElement("span",null,r.NOT_BEFORE,":"),c.a.createElement("span",null,t.sys_ssl_not_before)),t.sys_ssl_not_after&&c.a.createElement("div",null,c.a.createElement("span",null,r.NOT_AFTER,":"),c.a.createElement("span",null,t.sys_ssl_not_after)),t.sys_ssl_signature&&c.a.createElement("div",null,c.a.createElement("span",null,r.SIGNATURE,":"),c.a.createElement("span",null,t.sys_ssl_signature)),t.sys_ssl_pub_key&&c.a.createElement("div",null,c.a.createElement("span",null,r.PUB_KEY,":"),c.a.createElement("span",null,t.sys_ssl_pub_key)),t.sys_ssl_issuer&&c.a.createElement("div",null,c.a.createElement("span",null,r.ISSUER,":"),c.a.createElement("span",null,t.sys_ssl_issuer)))))},Ea=(a(233),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,webOption:!1,dnsOption:!1,mailOption:!1,backupOption:!1,sslOption:!1,pluginsOption:!1,dbOption:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){l(Te("/list/server/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.get(et+"/api/v1/edit/server/index.php",{params:{token:Ie()}}).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var E=function(e){d(Object(u.a)(Object(u.a)({},m),{},Object(w.a)({},e,!m[e])))};return c.a.createElement("div",{className:"edit-template edit-server"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Configuring Server"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var a,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(a=c.n()).done;){var r=Object(y.a)(a.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}n.save="save",n.token=t,0!==Object.keys(n).length&&n.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),at(n).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a||"",okMessage:n||"",loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-server"},c.a.createElement(Be,{value:m.data.hostname,title:a.Hostname,name:"v_hostname",id:"hostname"}),m.data.timezones&&c.a.createElement("div",{className:"form-group select-group"},c.a.createElement("label",{className:"label-wrapper",htmlFor:"timezone"},a["Time Zone"]),c.a.createElement("select",{className:"form-control",id:"timezone",name:"v_timezone"},Object.keys(m.data.timezones).map((function(e){var t=m.data.timezones[e];return c.a.createElement("option",{key:e,value:e,selected:m.data.timezone===e},t)})))),c.a.createElement(Ve,{options:m.data.languages,selected:m.data.language,title:a["Default Language"],name:"v_language",id:"language"}),c.a.createElement("div",{className:"modules"},c.a.createElement("button",{type:"button",onClick:function(){return E("webOption")}},a.WEB,m.webOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(la,{webBackendPool:m.data.web_backend_pool,proxySystem:m.data.proxy_system,webBackend:m.data.web_backend,webSystem:m.data.web_system,visible:m.webOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("dnsOption")}},a.DNS,m.dnsOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(oa,{selected:m.data.v_dns_cluster,dnsCluster:m.data.dns_cluster,dnsSystem:m.data.dns_system,visible:m.dnsOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("mailOption")}},a.MAIL,m.mailOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(da,{data:m.data,visible:m.mailOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("dbOption")}},a.DB,m.dbOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(ua,{data:m.data,visible:m.dbOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("backupOption")}},a.BACKUP,m.backupOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(ma,{data:m.data,visible:m.backupOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("sslOption")}},a["Vesta SSL"],m.sslOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(ia,{data:m.data,visible:m.sslOption}),c.a.createElement("button",{type:"button",onClick:function(){return E("pluginsOption")}},a["Vesta Control Panel Plugins"],m.pluginsOption?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement(sa,{data:m.data,visible:m.pluginsOption})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/server/")}},a.Back)))))}),pa=(a(234),function(){var e=localStorage.getItem("token"),t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){r(Te("/list/server/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),nt("dovecot").then((function(e){e.data.config||a.push("/list/server"),m(Object(u.a)(Object(u.a)({},i),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);return c.a.createElement("div",{className:"edit-template edit-dovecot"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Configuring Server"]," / ",i.data.service_name),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))))),c.a.createElement(qe,null,i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),at(a,"/dovecot").then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;m(a?Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},i),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},i),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-dovecot"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:e}),c.a.createElement($e,{defaultValue:i.data.config,title:i.data.config_path,name:"v_config",id:"v_config",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config1,title:i.data.config_path1,name:"v_config1",id:"v_config1",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config2,title:i.data.config_path2,name:"v_config2",id:"v_config2",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config3,title:i.data.config_path3,name:"v_config3",id:"v_config3",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config4,title:i.data.config_path4,name:"v_config4",id:"v_config4",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config5,title:i.data.config_path5,name:"v_config5",id:"v_config5",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config6,title:i.data.config_path6,name:"v_config6",id:"v_config6",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config7,title:i.data.config_path7,name:"v_config7",id:"v_config7",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config8,title:i.data.config_path8,name:"v_config8",id:"v_config8",rows:"10"}),c.a.createElement("br",null),c.a.createElement(We,{title:t.restart,defaultChecked:!0,name:"v_restart",id:"restart"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/server/")}},t.Back)))))}),va=window.location.origin,fa=function(){return me.a.get(va+"/api/v1/list/mail/index.php")},ba=function(e){return me.a.get(va+e,{params:{token:Ie()}})};a(235);function ga(e){var t=e.webMail,a=e.hostName,r=e.domain,l=e.password,s=Object(o.d)((function(e){return e.session})).i18n,i=Object(n.useState)(""),m=Object(y.a)(i,2),d=m[0],E=m[1],p=Object(o.d)((function(e){return e.session})).userName,v=Object(n.useState)({imapHostName:a,smtpHostName:a,imapEncryption:s.STARTTLS,smtpEncryption:s.STARTTLS,imapPort:"143",smtpPort:"587"}),f=Object(y.a)(v,2),b=f[0],g=f[1];Object(n.useEffect)((function(){"hostname"===d?g(Object(u.a)(Object(u.a)({},b),{},{imapHostName:a,smtpHostName:a})):"domain"===d?g(Object(u.a)(Object(u.a)({},b),{},{imapHostName:r,smtpHostName:r})):"starttls"===d?g(Object(u.a)(Object(u.a)({},b),{},{imapPort:"143",imapEncryption:"STARTTLS",smtpPort:"587",smtpEncryption:"STARTTLS"})):"ssl"===d?g(Object(u.a)(Object(u.a)({},b),{},{imapPort:"993",imapEncryption:"SSL / TLS",smtpPort:"465",smtpEncryption:"SSL / TLS"})):"no_encryption"===d&&g(Object(u.a)(Object(u.a)({},b),{},{imapHostName:r,smtpHostName:r,imapPort:"143",smtpPort:"25",imapEncryption:s["No encryption"],smtpEncryption:s["No encryption"]}))}),[d]);return c.a.createElement("div",{className:"mail-info-block"},c.a.createElement("div",{class:"form-group select-group"},c.a.createElement("select",{class:"form-control",onChange:function(e){return E(e.target.value)}},function(e){return[{value:e["Use server hostname"],type:"hostname"},{value:e["Use domain hostname"],type:"domain"},{value:e["Use STARTTLS"],type:"starttls"},{value:e["Use SSL / TLS"],type:"ssl"},{value:e["No encryption"],type:"no_encryption"}]}(s).map((function(e){return c.a.createElement("option",{key:e.type,value:e.type},e.value)}))),c.a.createElement("div",{className:"details"},c.a.createElement("div",null,c.a.createElement("span",null,s.Username,":"),c.a.createElement("span",null,"".concat(p,"@").concat(r))),c.a.createElement("div",null,c.a.createElement("span",null,s.Password,":"),c.a.createElement("span",null,l||"******")),c.a.createElement("div",null,c.a.createElement("span",null,s["IMAP hostname"],":"),c.a.createElement("span",null,b.imapHostName)),c.a.createElement("div",null,c.a.createElement("span",null,s["IMAP port"],":"),c.a.createElement("span",null,b.imapPort)),c.a.createElement("div",null,c.a.createElement("span",null,s["IMAP security"],":"),c.a.createElement("span",null,b.imapEncryption)),c.a.createElement("div",null,c.a.createElement("span",null,s["IMAP auth method"],":"),c.a.createElement("span",null,s["Normal password"])),c.a.createElement("div",null,c.a.createElement("span",null,s["SMTP hostname"],":"),c.a.createElement("span",null,b.smtpHostName)),c.a.createElement("div",null,c.a.createElement("span",null,s["SMTP port"],":"),c.a.createElement("span",null,b.smtpPort)),c.a.createElement("div",null,c.a.createElement("span",null,s["SMTP security"],":"),c.a.createElement("span",null,b.smtpEncryption)),c.a.createElement("div",null,c.a.createElement("span",null,s["SMTP auth method"],":"),c.a.createElement("span",null,s["Normal password"])),c.a.createElement("div",null,c.a.createElement("span",null,s["Webmail URL"],":"),c.a.createElement("span",null,c.a.createElement("a",{href:t},t))),c.a.createElement("input",{type:"hidden",name:s.Username,value:"@".concat(r)}),c.a.createElement("input",{type:"hidden",name:s["IMAP hostname"],value:b.imapHostName}),c.a.createElement("input",{type:"hidden",name:s["SMTP hostname"],value:b.smtpHostName}),c.a.createElement("input",{type:"hidden",name:s["IMAP port"],value:b.imapPort}),c.a.createElement("input",{type:"hidden",name:s["SMTP port"],value:b.smtpPort}),c.a.createElement("input",{type:"hidden",name:s["IMAP security"],value:b.imapEncryption}),c.a.createElement("input",{type:"hidden",name:s["SMTP security"],value:b.smtpEncryption}),c.a.createElement("input",{type:"hidden",name:s["IMAP auth method"],value:s["Normal password"]}),c.a.createElement("input",{type:"hidden",name:s["SMTP auth method"],value:s["Normal password"]}))))}function ha(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),r=a[0],l=a[1],s=localStorage.getItem("token"),i=Object(o.d)((function(e){return e.session})).i18n,m=Object(o.c)(),d=Object(I.g)(),E=Object(n.useState)({data:{},quotaValue:"",loading:!1,password:"",okMessage:"",errorMessage:""}),p=Object(y.a)(E,2),v=p[0],f=p[1];Object(n.useEffect)((function(){m(Te("/list/mail/")),m({type:"REMOVE_FOCUSED_ELEMENT",value:""}),f(Object(u.a)(Object(u.a)({},v),{},{loading:!0})),g()}),[]);var b=function(t){t.preventDefault();var a,n={},c=Object(Le.a)(new FormData(t.target).entries());try{for(c.s();!(a=c.n()).done;){var r=Object(y.a)(a.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}n.v_domain=e.domain,n.v_account=e.account,n.Password=n.v_password,0!==Object.keys(n).length&&n.constructor===Object&&(f(Object(u.a)(Object(u.a)({},v),{},{loading:!0})),function(e,t,a){var n=new FormData;for(var c in e)n.append(c,e[c]);return me.a.post("".concat(va).concat("/api/v1/edit/mail/index.php","?domain=").concat(t,"&account=").concat(a),n)}(n,e.domain,e.account).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?f(Object(u.a)(Object(u.a)({},v),{},{errorMessage:a,okMessage:n,loading:!1})):m(Ye()).then((function(){f(Object(u.a)(Object(u.a)({},v),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},g=function(){var t,a;f(Object(u.a)(Object(u.a)({},v),{},{loading:!0})),(t=e.domain,a=e.account,me.a.get("".concat(va).concat("/api/v1/edit/mail/index.php","?domain=").concat(t,"&account=").concat(a))).then((function(e){f(Object(u.a)(Object(u.a)({},v),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1})),l("yes"===e.data.autoreply)})).catch((function(e){return console.error(e)}))};return c.a.createElement("div",{className:"edit-template add-mail-account"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(i.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},i["Editing Mail Account"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},v.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",v.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},v.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(v.okMessage))))),c.a.createElement(qe,null,v.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return b(e)}},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:s}),c.a.createElement("div",{className:"r-1"},c.a.createElement("div",{className:"c-1"},c.a.createElement(Be,{title:i.Domain,value:e.domain,name:"v_domain",id:"domain",disabled:!0}),c.a.createElement(kt,{name:"v_password",onChange:function(e){return f(Object(u.a)(Object(u.a)({},v),{},{password:e}))}}),c.a.createElement(Zt,{title:i.Quota,optionalTitle:i["in megabytes"],id:"quota",name:"v_quota",value:v.data.quota},c.a.createElement("button",{type:"button",onClick:function(){var e="unlimited"===v.data.quota?"1000":"unlimited";f(Object(u.a)(Object(u.a)({},v),{},{data:Object(u.a)(Object(u.a)({},v.data),{},{quota:e})}))}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement($e,{optionalTitle:"".concat(i["use local-part"]),defaultValue:v.data.aliases,title:i.Aliases,name:"v_aliases",id:"aliases"}),c.a.createElement($e,{optionalTitle:"".concat(i["one or more email addresses"]),defaultValue:v.data.fwd,title:i["Forward to"],name:"v_fwd",id:"fwd"}),c.a.createElement(We,{title:i["Do not store forwarded mail"],defaultChecked:"yes"===v.data.fwd_only,name:"v_fwd_only",id:"fwd_only"}),c.a.createElement(We,{title:i.Autoreply,checked:r,onChange:function(e){return l(e)},name:"v_autoreply",id:"autoreply"}),r&&c.a.createElement("div",{style:{transform:"translateX(3rem)"}},c.a.createElement($e,{defaultValue:v.data.autoreply_message,title:i.Message,name:"v_autoreply_message",id:"autoreply_message"})),c.a.createElement(Be,{title:i["Send login credentials to email address"],value:v.data.send_email,name:"v_credentials",id:"credentials"})),c.a.createElement("div",{className:"c-2"},c.a.createElement(ga,{webMail:v.data.webmail,hostName:v.data.hostname,password:v.password,domain:e.domain}))),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},i.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){d.push("/list/mail/?domain=".concat(e.domain))}},i.Back)))))}a(236);var Oa=function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).domain;l(Te("/list/mail/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){return me.a.get(va+"/api/v1/edit/mail/index.php",{params:{domain:e,token:Ie()}})}(e).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var E=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}a.v_domain=m.data.domain,0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(va+"/api/v1/edit/mail/index.php",a,{params:{domain:t,token:Ie()}})}(a,m.data.domain).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-mail"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing Mail Domain"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)},id:"edit-mail"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{id:"domain",name:"v_domain",title:a.Domain,value:m.data.domain,disabled:!0}),c.a.createElement(We,{name:"v_antispam",id:"antispam",title:a["AntiSpam Support"],defaultChecked:"yes"===m.data.antispam}),c.a.createElement(We,{name:"v_antivirus",id:"antivirus",title:a["AntiVirus Support"],defaultChecked:"yes"===m.data.antivirus}),c.a.createElement(We,{name:"v_dkim",id:"dkim",title:a["DKIM Support"],defaultChecked:"yes"===m.data.dkim}),c.a.createElement(Be,{id:"catchall",name:"v_catchall",title:a["Catchall email"],value:m.data.catchall}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/mail/")}},a.Back)))))};function Na(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(I.g)(),a=Ee.a.parse(t.location.search,{ignoreQueryPrefix:!0}),r=Object(n.useState)(!1),l=Object(y.a)(r,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){a.domain&&a.account?i(!0):i(!1)}),[t.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e.MAIL))),s?c.a.createElement(ha,{domain:a.domain,account:a.account}):c.a.createElement(Oa,null))}a(237);var ja=function(e){var t=e.serviceName,a=void 0===t?"":t,r=localStorage.getItem("token"),l=Object(o.d)((function(e){return e.session})).i18n,s=Object(I.g)(),i=Object(o.c)(),m=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){i(Te("/list/server/")),i({type:"REMOVE_FOCUSED_ELEMENT",value:""}),a||s.push("/list/server"),p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),nt(a).then((function(e){var t=e.data.config;t&&!t.includes("file doesn't exist")||s.push("/list/server"),p(Object(u.a)(Object(u.a)({},E),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);return c.a.createElement("div",{className:"edit-template edit-service"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(l.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},l["Configuring Server"]," / ",E.data.service_name),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},E.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",E.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},E.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(E.okMessage))))),c.a.createElement(qe,null,E.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var r=Object(y.a)(t.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}0!==Object.keys(n).length&&n.constructor===Object&&(p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),at(n,a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;p(a?Object(u.a)(Object(u.a)({},E),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},E),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},E),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-service"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:r}),c.a.createElement($e,{defaultValue:E.data.config,title:E.data.config_path,name:"v_config",id:"v_config",rows:"18"}),c.a.createElement("br",null),c.a.createElement(We,{title:l.restart,defaultChecked:!0,name:"v_restart",id:"restart"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},l.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return s.push("/list/server/")}},l.Back)))))};a(238);function ka(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.c)(),r=localStorage.getItem("token"),l=Object(I.g)(),s=Object(n.useState)({data:{},advancedOptions:!1,autoreplyChecked:!1,quotaValue:"",loading:!1,password:"",okMessage:"",errorMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){a(Te("/list/mail/")),a({type:"REMOVE_FOCUSED_ELEMENT",value:""}),p()}),[]);var E=function(t){t.preventDefault();var n,c={},l=Object(Le.a)(new FormData(t.target).entries());try{for(l.s();!(n=l.n()).done;){var o=Object(y.a)(n.value,2),s=o[0],i=o[1];c[s]=i}}catch(E){l.e(E)}finally{l.f()}c.ok_acc="add",c.token=r,c.v_domain=e.domain,c.Password=c.v_password,0!==Object.keys(c).length&&c.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post("".concat(va).concat("/api/v1/add/mail/index.php","?domain=").concat(t),a)}(c,e.domain).then((function(e){if(200===e.status){var t=e.data,n=t.error_msg,c=t.ok_msg;n?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:n,okMessage:c,loading:!1})):a(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:c,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},p=function(){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),fa().then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))};return c.a.createElement("div",{className:"edit-template add-mail-account"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding Mail Account"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)}},c.a.createElement("div",{className:"r-1"},c.a.createElement("div",{className:"c-1"},c.a.createElement(Be,{title:t.Domain,value:e.domain,name:"v_domain",id:"domain",disabled:!0}),c.a.createElement(Be,{title:t.Account,name:"v_account",id:"account"}),c.a.createElement(kt,{name:"v_password",onChange:function(e){return d(Object(u.a)(Object(u.a)({},m),{},{password:e}))}})),c.a.createElement("div",{className:"c-2"},c.a.createElement(ga,{webMail:m.data.webmail,hostName:m.data.hostname,password:m.password,domain:e.domain}))),c.a.createElement("div",{className:"r-2"},c.a.createElement("button",{type:"button",onClick:function(){d(Object(u.a)(Object(u.a)({},m),{},{advancedOptions:!m.advancedOptions}))}},t["Advanced options"],m.advancedOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),m.advancedOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Zt,{title:t.Quota,optionalTitle:t["in megabytes"],id:"quota",name:"v_quota",value:m.quotaValue},c.a.createElement("button",{type:"button",onClick:function(){"unlimited"!==m.quotaValue?d(Object(u.a)(Object(u.a)({},m),{},{quotaValue:"unlimited"})):d(Object(u.a)(Object(u.a)({},m),{},{quotaValue:""}))}},c.a.createElement(P.a,{icon:"infinity"}))),c.a.createElement($e,{optionalTitle:"".concat(t["use local-part"]),defaultValue:m.data.v_aliases,title:t.Aliases,name:"v_aliases",id:"aliases"}),c.a.createElement($e,{optionalTitle:"".concat(t["one or more email addresses"]),defaultValue:m.data.forward,title:t["Forward to"],name:"v_fwd",id:"fwd"}),c.a.createElement(We,{title:t["Do not store forwarded mail"],name:"v_fwd_only",id:"fwd_only"})),c.a.createElement(Be,{title:t["Send login credentials to email address"],name:"v_credentials",id:"credentials"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/mail/?domain=".concat(e.domain))}},t.Back)))))}a(239);var ya=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.c)(),r=localStorage.getItem("token"),l=Object(I.g)(),s=Object(n.useState)({loading:!1,antiSpamChecked:!0,antiVirusChecked:!0,dkimChecked:!0,okMessage:"",errorMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){a(Te("/list/mail/")),a({type:"REMOVE_FOCUSED_ELEMENT",value:""})}),[]);var E=function(e){e.preventDefault();var t,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var r=Object(y.a)(t.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}0!==Object.keys(n).length&&n.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(va+"/api/v1/add/mail/index.php",t)}(n).then((function(e){if(200===e.status){var t=e.data,n=t.error_msg,c=t.ok_msg;n?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:n,okMessage:c,loading:!1})):a(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:c,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-web"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding Mail Domain"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:r}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"domain"},t.Domain),c.a.createElement("input",{type:"text",className:"form-control",id:"domain",name:"v_domain"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_antispam",id:"antispam-support",onChange:function(e){return d(Object(u.a)(Object(u.a)({},m),{},{antiSpamChecked:e.target.checked}))},checked:m.antiSpamChecked}),c.a.createElement("label",{htmlFor:"antispam-support"},t["AntiSpam Support"]))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_antivirus",id:"antivirus-support",onChange:function(e){return d(Object(u.a)(Object(u.a)({},m),{},{antiVirusChecked:e.target.checked}))},checked:m.antiVirusChecked}),c.a.createElement("label",{htmlFor:"antivirus-support"},t["AntiVirus Support"]))),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"checkbox-wrapper"},c.a.createElement("input",{type:"checkbox",name:"v_dkim",id:"dkim-support",onChange:function(e){return d(Object(u.a)(Object(u.a)({},m),{},{dkimChecked:e.target.checked}))},checked:m.dkimChecked}),c.a.createElement("label",{htmlFor:"dkim-support"},t["DKIM Support"]))),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/mail/")}},t.Back)))))};function _a(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(I.g)(),a=Object(n.useState)(!1),r=Object(y.a)(a,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){var e=Ee.a.parse(t.location.search,{ignoreQueryPrefix:!0});e.domain?s(e.domain):s("")}),[t.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e.MAIL))),l?c.a.createElement(ka,{domain:l}):c.a.createElement(ya,null))}var Sa=window.location.origin,wa=function(e){return me.a.get(Sa+e,{params:{token:Ie()}})},Ma=function(e,t,a){var n=new FormData;for(var c in e)n.append(c,e[c]);return me.a.post(Sa+"/api/v1/edit/dns/index.php",n,{params:{domain:t,record_id:a,token:Ie()}})},Aa=(a(240),window.location.origin),Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=new FormData;return a&&c.append("password",a),n&&c.append("password_confirm",n),e&&c.append("user",e),t&&c.append("code",t),me.a.post(Aa+"/api/v1/reset/index.php",c)},Da=function(e,t){return function(a){return new Promise((function(n,c){(function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t.append("token",Ie()),me.a.post("".concat(Ke,"/api/v1/login/index.php"),t)})({user:e,password:t}).then((function(e){var t=e.data,c=t.error,r=t.session,l=t.token,o=t.panel,s=t.data,i=t.user,u=t.i18n;l&&Ue(l),a({type:"LOGIN",value:{token:l||"",panel:o,session:r,i18n:u||{},userName:i,error:c}}),a({type:"REFRESH_COUNTERS",value:{user:s}}),n(l)}),(function(e){c(e)}))}))}},Fa=function(e){return function(t){return new Promise((function(a,n){(function(e){return me.a.get("".concat(Ke,"/api/v1/login/index.php"),{params:{loginas:e,token:Ie()}})})(e).then((function(e){var n=e.data,c=n.error,r=n.token,l=n.session,o=n.panel,s=n.data,i=n.user,u=n.i18n;r&&Ue(r),t({type:"LOGIN",value:{userName:i,i18n:u,session:l,panel:o,token:r,error:c}}),t({type:"REFRESH_COUNTERS",value:{user:s}}),a(r)}),(function(e){console.error(e),n()}))}))}},xa=function(){return function(e,t){return new Promise((function(t,a){me.a.get("".concat(Ke,"/api/v1/logout/index.php")).then((function(a){var n=a.data,c=n.logout_response,r=n.error,l=n.userName,o=n.user,s=n.i18n,i=n.session,u=n.panel;"logged_out"===c?(localStorage.removeItem("token"),e({type:"LOGOUT",value:{userName:"",token:"",panel:{},session:{},i18n:[],error:r}}),e({type:"REFRESH_COUNTERS",value:{user:{}}}),t()):"logged_out_as"===c?(e({type:"LOGGED_OUT_AS",value:{userName:l,session:i,panel:u,token:"",i18n:s,error:r}}),e({type:"REFRESH_COUNTERS",value:{user:o}}),t()):t("Error while signing out: ".concat(c))}),(function(e){console.error(e),a()}))}))}},Ta=function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).domain;l(Te("/list/dns/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){return me.a.get(Sa+"/api/v1/edit/dns/index.php",{params:{domain:e,token:Ie()}})}(e).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);return c.a.createElement("div",{className:"edit-template edit-dns"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing DNS Domain"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}a.v_domain=m.data.domain,0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),Ma(a,m.data.domain).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-dns"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{id:"domain",name:"v_domain",title:a.Domain,value:m.data.domain,disabled:!0}),c.a.createElement(Be,{id:"ip",name:"v_ip",title:a["IP Address"],value:m.data.ip}),c.a.createElement(Ve,{optionalTitle:m.data.dns_system,options:m.data.templates,selected:m.data.template,title:a.Template,name:"v_template",id:"templates"}),c.a.createElement(Be,{optionalTitle:m.data["YYYY-MM-DD"],title:a["Expiration Date"],value:m.data.exp,name:"v_exp",id:"exp"}),c.a.createElement(Be,{id:"soa",name:"v_soa",title:"SOA",value:m.data.soa}),c.a.createElement(Be,{id:"ttl",name:"v_ttl",title:"TTL",value:m.data.ttl}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/dns/")}},a.Back)))))};function La(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(o.c)(),l=Object(I.g)(),s=Object(n.useState)({data:{},selectOptions:["A","AAAA","NS","CNAME","MX","TXT","SRV","DNSKEY","KEY","IPSECKEY","PTR","SPF","TLSA","CAA"],loading:!1,errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var t=e.domain,a=e.record_id;r(Te("/list/dns/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),t&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){return me.a.get("".concat(Sa).concat("/api/v1/edit/dns/index.php","?domain=").concat(e,"&record_id=").concat(t))}(t,a).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);return c.a.createElement("div",{className:"edit-template edit-dns-rec"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing DNS Record"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var a,n={},c=Object(Le.a)(new FormData(t.target).entries());try{for(c.s();!(a=c.n()).done;){var l=Object(y.a)(a.value,2),o=l[0],s=l[1];n[o]=s}}catch(i){c.e(i)}finally{c.f()}n.v_domain=m.data.domain,n.v_record_id=e.record_id,n.v_type=m.data.type,0!==Object.keys(n).length&&n.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),Ma(n,e.domain,e.record_id).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):r(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))}(t)},id:"edit-dns-rec"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{title:a.Domain,value:e.domain,name:"v_domain",id:"domain",disabled:!0}),c.a.createElement(Be,{value:m.data.rec,title:a.Record,name:"v_record_id",id:"domain",disabled:!0}),c.a.createElement(Ve,{options:m.selectOptions,selected:m.data.type,title:a.Type,name:"v_type",id:"type",disabled:!0}),c.a.createElement(Be,{title:a["IP or Value"],value:m.data.val,name:"v_val",id:"val"}),c.a.createElement(Be,{optionalTitle:"(".concat(a.optional,")"),value:m.data.priority,title:a.Priority,name:"v_priority",id:"priority"}),c.a.createElement(Be,{optionalTitle:"(".concat(a.internal,")"),title:a["Record Number"],value:m.data.record_id,name:"v_priority",id:"priority"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/dns?domain=".concat(e.domain))}},a.Back)))))}function Ua(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(I.g)(),a=Ee.a.parse(t.location.search,{ignoreQueryPrefix:!0}),r=Object(n.useState)(!1),l=Object(y.a)(r,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){a.domain&&a.record_id?i(!0):i(!1)}),[t.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e.DNS))),s?c.a.createElement(La,{domain:a.domain,record_id:a.record_id}):c.a.createElement(Ta,null))}a(241);var Ia=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)(!1),r=Object(y.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(["public_html","public_shtml"]),u=Object(y.a)(i,2),m=u[0];u[1];Object(n.useEffect)((function(){s(e.letsEncrypt)}),[]);return c.a.createElement("div",{className:"ssl-support"},c.a.createElement(We,{onChange:function(e){s(e)},name:"v_letsencrypt",id:"lets-encrypt",title:t["Lets Encrypt Support"],defaultChecked:l}),c.a.createElement(Ve,{options:m,selected:"same"===e.sslHome?"public_html":"public_shtml",name:"v_ssl_home",id:"ssl_home",title:t["SSL Home Directory"]}),c.a.createElement($e,{id:"ssl-certificate",name:"v_ssl_crt",title:t["SSL Certificate"],defaultValue:e.sslCertificate,disabled:l,optionalTitle:l?"":c.a.createElement(c.a.Fragment,null,"/ ",c.a.createElement(se.b,{className:"generate-csr",target:"_blank",to:"/generate/ssl/?domain=".concat(e.domain)},t["Generate CSR"]))}),c.a.createElement($e,{id:"ssl-key",name:"v_ssl_key",disabled:l,defaultValue:e.sslKey,title:t["SSL Key"]}),c.a.createElement($e,{id:"ssl-key",name:"v_ssl_key",disabled:l,defaultValue:e.sslCertificateAuthority,title:t["SSL Certificate Authority / Intermediate"],optionalTitle:"( ".concat(t.optional," )")}),c.a.createElement("div",{className:"additional-info"},e.sslSubject.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.SUBJECT,":"),c.a.createElement("span",null,e.sslSubject)),e.sslAliases.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.ALIASES,":"),c.a.createElement("span",null,e.sslAliases)),e.sslNotBefore.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.NOT_BEFORE,":"),c.a.createElement("span",null,e.sslNotBefore)),e.sslNotAfter.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.NOT_AFTER,":"),c.a.createElement("span",null,e.sslNotAfter)),e.sslSignature.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.SIGNATURE,":"),c.a.createElement("span",null,e.sslSignature)),e.sslPubKey.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.PUB_KEY,":"),c.a.createElement("span",null,e.sslPubKey)),e.sslIssuer.length>0&&c.a.createElement("div",null,c.a.createElement("span",null,t.ISSUER,":"),c.a.createElement("span",null,e.sslIssuer))),c.a.createElement("br",null),c.a.createElement("br",null))},Pa=(a(242),function(e){var t,a=localStorage.getItem("token"),r=Object(o.d)((function(e){return e.session})).i18n,l=Object(I.g)(),s=Object(o.c)(),i=Object(n.useState)({data:{},domain:"",webStat:"",sslSupport:!1,letsEncrypt:!1,additionalFtp:!1,statAuth:!1,loading:!1,errorMessage:"",okMessage:""}),m=Object(y.a)(i,2),d=m[0],E=m[1];Object(n.useEffect)((function(){var e=Ee.a.parse(l.location.search,{ignoreQueryPrefix:!0}).domain;s(Te("/list/web/")),s({type:"REMOVE_FOCUSED_ELEMENT",value:""}),e&&(E(Object(u.a)(Object(u.a)({},d),{},{loading:!0})),function(e){return me.a.get(jt+"/api/v1/edit/web/index.php",{params:{domain:e,token:Ie()}})}(e).then((function(t){E(Object(u.a)(Object(u.a)({},d),{},{domain:e,webStat:t.data.v_stats?t.data.v_stats:"none",sslSupport:"yes"===t.data.ssl,letsEncrypt:"yes"===t.data.letsencrypt,data:t.data,additionalFtp:!!t.data.ftp_user,statAuth:t.data.stats_user,errorMessage:t.data.error_msg,okMessage:t.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var p=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}a.v_domain=d.domain,0!==Object.keys(a).length&&a.constructor===Object&&(E(Object(u.a)(Object(u.a)({},d),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(jt+"/api/v1/edit/web/index.php",a,{params:{domain:t,token:Ie()}})}(a,d.domain).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?E(Object(u.a)(Object(u.a)({},d),{},{errorMessage:a,okMessage:n,loading:!1})):s(Ye()).then((function(){E(Object(u.a)(Object(u.a)({},d),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))},v=function(e){E(Object(u.a)(Object(u.a)({},d),{},{additionalFtp:e}))};return c.a.createElement("div",{className:"edit-template edit-web"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(r.WEB))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},r["Editing Domain"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},d.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",d.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},d.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(d.okMessage))," "))),c.a.createElement(qe,{date:d.data.date,time:d.data.time,status:d.data.status},d.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return p(e)},id:"add-web"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:a}),c.a.createElement(Be,{id:"domain",name:"v_domain",title:r.Domain,value:d.domain,disabled:!0}),c.a.createElement(Ve,{options:function(e){var t=[];for(var a in e)t.push(a);return t}(d.data.ips),selected:d.data.ip,name:"v_ip",id:"ip",title:r["IP Address"]}),c.a.createElement($e,{id:"proxy-aliases",name:"v_aliases",title:r.Aliases,value:d.data.aliases}),c.a.createElement(Ve,{options:d.data.templates,selected:d.data.template,name:"v_template",id:"web-template",optionalTitle:d.data.web_system,title:r["Web Template"]}),d.data.web_backend&&c.a.createElement(Ve,{options:d.data.backend_templates,selected:d.data.backend_template||"default",name:"v_backend_template",id:"backend-template",optionalTitle:d.data.web_backend,title:r["Backend Template"]}),d.data.proxy_system&&c.a.createElement(Ve,{options:d.data.proxy_templates,selected:d.data.proxy_template||"default",optionalTitle:d.data.proxy_system,name:"v_proxy_template",id:"proxy_template",title:r["Proxy Template"]}),c.a.createElement($e,{id:"proxy-extensions",name:"v_proxy_ext",title:r["Proxy Extensions"],defaultValue:d.data.proxy_ext}),c.a.createElement(We,{onChange:function(e){E(Object(u.a)(Object(u.a)({},d),{},{sslSupport:e}))},name:"v_shared",id:"ssl-support",title:null!==(t=r["SSL Support"])&&void 0!==t?t:"SSL Support",defaultChecked:d.sslSupport}),d.sslSupport&&c.a.createElement(Ia,{sslSubject:d.data.ssl_subject,sslAliases:d.data.ssl_aliases,sslNotBefore:d.data.ssl_not_before,sslNotAfter:d.data.ssl_not_after,sslSignature:d.data.ssl_signature,sslPubKey:d.data.ssl_pub_key,sslIssuer:d.data.ssl_issuer,sslCertificate:d.data.ssl_crt,sslKey:d.data.key,sslCertificateAuthority:d.data.ca,domain:d.domain,sslHome:d.data.ssl_home,letsEncrypt:d.letsEncrypt}),c.a.createElement(Ve,{options:d.data.stats,selected:d.webStat,title:r["Web Statistics"],onChange:function(e){E(Object(u.a)(Object(u.a)({},d),{},{webStat:e}))},name:"v_stats",id:"stats"}),"none"!==d.webStat&&c.a.createElement("div",{className:"web-stat-additional"},c.a.createElement(We,{onChange:function(e){E(Object(u.a)(Object(u.a)({},d),{},{statAuth:e}))},name:"v_stats_auth",id:"stat-auth",defaultChecked:d.data.stats_user,title:r["Statistics Authorization"]}),d.statAuth&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{id:"domain",name:"v_stats_user",title:r.Username,value:d.data.stats_user}),c.a.createElement(kt,{name:"v_stats_password"}))),c.a.createElement(We,{onChange:v,name:"v_ftp",id:"add-ftp",checked:d.additionalFtp,title:r["Additional FTP Account"]}),c.a.createElement(_t,{checked:d.additionalFtp,prefixI18N:d.data.prefixI18N,ftps:d.data.ftp_users,ftpUserPrePath:d.data.ftp_user_prepath,unCheckAdditionalFtpBox:function(){return v(!1)}}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},r.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/web/")}},r.Back)))))}),Ra=(a(243),function(e){var t=e.serviceName,a=void 0===t?"":t,r=localStorage.getItem("token"),l=Object(o.d)((function(e){return e.session})).i18n,s=Object(I.g)(),i=Object(o.c)(),m=Object(n.useState)({data:{},loading:!1,basicOptions:!0,advancedOptions:!1,errorMessage:"",okMessage:""}),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){i(Te("/list/server/")),i({type:"REMOVE_FOCUSED_ELEMENT",value:""}),a||s.push("/list/server"),p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),nt(a).then((function(e){p(Object(u.a)(Object(u.a)({},E),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var v=function(){p(Object(u.a)(Object(u.a)({},E),{},{advancedOptions:!E.advancedOptions,basicOptions:!E.basicOptions}))};return c.a.createElement("div",{className:"edit-template edit-php"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(l.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},c.a.createElement(se.b,{to:"/edit/server/".concat(E.data.web_system)},l["Configuring Server"]," / ",E.data.web_system)),c.a.createElement("div",{className:"link"},c.a.createElement(se.b,{to:"/edit/server/php"},l.Configure," php.ini")),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},E.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",E.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},E.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(E.okMessage))))),c.a.createElement(qe,null,E.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var r=Object(y.a)(t.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}0!==Object.keys(n).length&&n.constructor===Object&&(p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),at(n,"/".concat(a)).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;p(a?Object(u.a)(Object(u.a)({},E),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},E),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},E),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-mail"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:r}),!E.basicOptions&&c.a.createElement("button",{type:"button",onClick:function(){return v()}},l["Basic options"],E.basicOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),E.basicOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{id:"max_execution_time",title:"max_execution_time",name:"v_max_execution_time",value:parseInt(E.data.max_execution_time)}),c.a.createElement(Be,{id:"worker_connections",title:"worker_connections",name:"v_worker_connections",value:parseInt(E.data.max_input_time)}),c.a.createElement(Be,{id:"memory_limit",title:"memory_limit",name:"v_memory_limit",value:parseInt(E.data.memory_limit)}),c.a.createElement(Be,{id:"error_reporting",title:"error_reporting",name:"v_error_reporting",value:E.data.error_reporting}),c.a.createElement(Be,{id:"display_errors",title:"display_errors",name:"v_display_errors",value:E.data.display_errors}),c.a.createElement(Be,{id:"post_max_size",title:"post_max_size",name:"v_post_max_size",value:E.data.post_max_size}),c.a.createElement(Be,{id:"upload_max_filesize",title:"upload_max_filesize",name:"v_upload_max_filesize",value:E.data.upload_max_filesize})),!E.advancedOptions&&c.a.createElement("button",{type:"button",onClick:function(){return v()}},l["Advanced options"],E.advancedOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement("br",null),c.a.createElement("br",null),E.advancedOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement($e,{defaultValue:E.data.config,title:E.data.config_path,name:"v_config",id:"v_config",rows:"25"}),c.a.createElement("br",null),c.a.createElement(We,{title:l.restart,defaultChecked:!0,name:"v_restart",id:"restart"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},l.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return s.push("/list/server/")}},l.Back)))))}),Va=function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;localStorage.getItem("token");return c.a.createElement(vt,{id:t.NAME,date:t.DATE,toggleFav:function(a){a?e.toggleFav(t.NAME,"add"):e.toggleFav(t.NAME,"delete")},checkItem:function(){e.checkItem(t.NAME)},starred:t.STARRED,focused:t.FOCUSED,checked:t.isChecked,suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.DATABASE),c.a.createElement("br",null),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"disk"},a.Disk,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK),a.mb))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,a.User,": ",c.a.createElement("span",{className:"stat"},t.DBUSER)),c.a.createElement("div",null,a.Charset,": ",c.a.createElement("span",{className:"stat"},t.CHARSET))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,a.Host,": ",c.a.createElement("span",{className:"stat"},t.HOST)),c.a.createElement("div",null,a.Type,": ",c.a.createElement("span",{className:"stat"},t.TYPE))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/db/?database=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var a="yes"===t.SUSPENDED?"unsuspend":"suspend";e.handleModal(t.suspend_conf,"/api/v1/".concat(a,"/db/index.php?database=").concat(t.NAME))}()}},a[t.suspend_action],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/db/index.php?database=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))},Ba=(a(244),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({databases:[],dbFav:[],toggledAll:!1,dbAdmin:"",dbAdminLink:"",sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/db/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.databases]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{databases:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.databases);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{databases:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.databases);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{databases:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return A();case 13:return w();case 83:return M()}},w=function(){e.history.push("/edit/database?domain=".concat(a))},M=function(){var e=h.databases.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";R(e.suspend_conf,"/api/v1/".concat(t,"/database/index.php?domain=").concat(a))},A=function(){var e=h.databases.filter((function(e){return e.NAME===a}))[0];R(e.delete_conf,"/api/v1/delete/database/index.php?domain=".concat(a))},C=function(){return d(!0),new Promise((function(e,t){me.a.get(Ct+"/api/v1/list/db/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{databases:D(t.data.data),dbAdmin:t.data.db_admin,dbAdminLink:t.data.db_admin_link,dbFav:t.data.dbFav,selection:[],toggledAll:!1,totalAmount:t.data.totalAmount})),e()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=h.selection,a=h.databases,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{databases:c,selection:n}))},L=function(e){var t=h.order,a=h.sorting,n=U(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},U=function(e){var a=t.Date,n=t.Database,c=t.Disk,r=t.User,l=t.Host,o=t.Starred;switch(e){case a:return"DATE";case n:return"DATABASE";case c:return"U_DISK";case r:return"DBUSER";case l:return"HOST";case o:return"STARRED"}},I=function(e,t){var a=h.dbFav;"add"===t?(a[e]=1,Et(e,"db").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{dbFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"db").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{dbFav:a}))})).catch((function(e){console.error(e)})))},P=function(e){var t=Object(x.a)(h.databases);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{databases:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{databases:c,selection:[],toggledAll:e}))}},R=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},V=function(){l(Ye()).then((function(){return d(!1)}))},B=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"databases"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DB))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:"Add Database",href:"/add/db",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("a",{href:h.dbAdminLink,className:"button-extra",type:"submit",target:"_blank",rel:"noopener noreferrer"},h.dbAdmin),c.a.createElement(gt,{toggleAll:P,toggled:h.toggledAll}),c.a.createElement(ht,{list:"dbList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("database[]",e)})),me.a.post(Ct+"/api/v1/bulk/db/",a)}(e,t).then((function(e){200===e.status&&(P(!1),C().then((function(){return V()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"dbList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"mails-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.databases,t=[],n=Object(u.a)({},h.dbFav);return e.forEach((function(e){e.FOCUSED=a===e.NAME,n[e.NAME]?e.STARRED=n[e.NAME]:e.STARRED=0,t.push(e)})),L(t).map((function(e,t){return c.a.createElement(Va,{data:e,key:t,toggleFav:I,checkItem:F,handleModal:R})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return B();var e;B(),d(!0),(e=v.actionUrl,me.a.get(Ct+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return d(!1),R(e.data.error,"");C().then((function(){return V()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:B,show:v.visible,text:v.text}))}),Wa=(a(245),function(e){var t=e.data,a=Object(k.a)(e,["data"]),n=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,date:t.DATE,starred:t.STARRED,focused:t.FOCUSED,checked:t.isChecked,toggleFav:function(e){e?a.toggleFav(t.NAME,"add"):a.toggleFav(t.NAME,"delete")},checkItem:function(){a.checkItem(t.NAME)},suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"cron-jobs-list r-col w-85"},c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,c.a.createElement("span",{className:"stat"},t.ACTION))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.PROTOCOL)," / ",t.COMMENT))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null)),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,c.a.createElement("span",{className:"stat"},t.PORT))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,c.a.createElement("span",{className:"stat"},t.IP))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/firewall/?rule=".concat(t.NAME)},n.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var e="yes"===t.SUSPENDED?"unsuspend":"suspend";a.handleModal(t.suspend_conf,"/api/v1/".concat(e,"/firewall/index.php?rule=").concat(t.NAME))}()}},n[t.suspend_action],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){a.handleModal(t.delete_conf,"/api/v1/delete/firewall/index.php?rule=".concat(t.NAME))}},n.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}),Ha=(a(246),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({firewalls:[],firewallFav:[],selection:[],firewallExtension:"",toggledAll:!1,sorting:t.Action,order:"descending",totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/firewall/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.firewalls]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{firewalls:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.firewalls);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{firewalls:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.firewalls);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{firewalls:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return A();case 13:return w();case 83:return M()}},w=function(){e.history.push("/edit/firewall?rule=".concat(a))},M=function(){var e=h.firewalls.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";R(e.suspend_conf,"/api/v1/".concat(t,"/firewall/index.php?rule=").concat(a))},A=function(){var e=h.firewalls.filter((function(e){return e.NAME===a}))[0];R(e.delete_conf,"/api/v1/delete/firewall/index.php?rule=".concat(a))},C=function(){return d(!0),new Promise((function(e,t){me.a.get(xt+"/api/v1/list/firewall/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{firewalls:D(t.data.data),firewallFav:t.data.firewallFav,selection:[],firewallExtension:t.data.firewallExtension,totalAmount:t.data.totalAmount,toggledAll:!1})),e()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=h.selection,a=h.firewalls,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{firewalls:c,selection:n}))},L=function(e){var t=h.order,a=h.sorting,n=U(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},U=function(e){var a=t.Action,n=t.Protocol,c=t.Port,r=t.Comment,l=t.Starred;switch(e){case a:return"ACTION";case n:return"PROTOCOL";case c:return"PORT";case t["IP address"]:return"IP";case r:return"COMMENT";case l:return"STARRED"}},I=function(e,t){var a=h.firewallFav;"add"===t?(a[e]=1,Et(e,"firewall").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{firewallFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"firewall").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{firewallFav:a}))})).catch((function(e){console.error(e)})))},P=function(e){if(e){var t=[],a=h.firewalls.map((function(e){return t.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{firewalls:a,selection:t,toggledAll:e}))}else{var n=h.firewalls.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{firewalls:n,selection:[],toggledAll:e}))}},R=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!v.visible,text:e,actionUrl:t}))},V=function(){l(Ye()).then((function(){return d(!1)}))},B=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!v.visible,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"firewalls"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.FIREWALL))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{href:"/add/firewall/",name:t["Add Rule"],showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(se.b,{to:"/list/firewall/banlist/",className:"button-extra",type:"submit"},t["list fail2ban"]),c.a.createElement(gt,{toggleAll:P,toggled:h.toggledAll}),c.a.createElement(ht,{list:"firewallList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),Lt(e,t).then((function(e){200===e.status&&(P(!1),C().then((function(){return V()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"firewallList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"firewalls-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=Object(u.a)({},h.firewallFav),t=Object(x.a)(h.firewalls);return t.forEach((function(t){t.FOCUSED=a===t.NAME,e[t.NAME]?t.STARRED=e[t.NAME]:t.STARRED=0})),L(t).map((function(e,t){return c.a.createElement(Wa,{data:e,key:t,toggleFav:I,checkItem:F,handleModal:R})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return B();B(),d(!0),Ut(v.actionUrl).then((function(e){if(e.data.error)return d(!1),R(e.data.error,"");C().then((function(){return V()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:B,show:v.visible,text:v.text}))}),qa=window.location.origin,Ja=(a(247),function(e){var t=localStorage.getItem("token"),a=Object(o.d)((function(e){return e.session})).i18n,r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({data:{},loading:!1,username:"",errorMessage:"",okMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){var e,t=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}).user;l(Te("/list/user/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),t&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),(e=t,me.a.get(qa+"/api/v1/edit/user/index.php",{params:{user:e,token:Ie()}})).then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{username:t,data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)})))}),[]);var E=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}a.v_username=m.username,0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e,t){var a=new FormData;for(var n in e)a.append(n,e[n]);return me.a.post(qa+"/api/v1/edit/user/index.php",a,{params:{user:t,token:Ie()}})}(a,m.username).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template edit-user"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(a.USER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},a["Editing User"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))," "))),c.a.createElement(qe,{date:m.data.date,time:m.data.time,status:m.data.status},m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)},id:"add-user"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:t}),c.a.createElement(Be,{id:"username",name:"v_user",title:a.Username,value:m.username,disabled:!0}),c.a.createElement(kt,{name:"v_password"}),c.a.createElement(Be,{id:"email",name:"v_email",title:a.Email,value:m.data.email}),c.a.createElement(Ve,{options:function(e){var t=[];for(var a in e)t.push(a);return t}(m.data.packages),selected:m.data.package,name:"v_package",id:"packages",title:a.Package}),c.a.createElement(Ve,{options:m.data.languages,selected:m.data.language,name:"v_language",id:"languages",title:a.Language}),c.a.createElement(Be,{id:"first-name",name:"v_fname",title:a["First Name"],value:m.data.fname}),c.a.createElement(Be,{id:"last-name",name:"v_lname",title:a["Last Name"],value:m.data.lname}),c.a.createElement(Ve,{options:m.data.shells,selected:m.data.shell,name:"v_shell",id:"shell",title:a["SSH Access"]}),c.a.createElement($t,{usersNS:m.data.nameservers}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},a.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/user/")}},a.Back)))))}),Ka=(a(248),function(){var e=localStorage.getItem("token"),t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({data:{},loading:!1,errorMessage:"",okMessage:""}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){r(Te("/list/server/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),nt("bind9").then((function(e){e.data.config.includes("Error")&&a.push("/list/server"),m(Object(u.a)(Object(u.a)({},i),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);return c.a.createElement("div",{className:"edit-template edit-bind9"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Configuring Server"]," / ",i.data.service_name),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))))),c.a.createElement(qe,null,i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),at(a,"/bind9").then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;m(a?Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},i),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},i),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-bind9"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:e}),c.a.createElement($e,{defaultValue:i.data.options,title:i.data.options_path,name:"v_options",id:"v_options",rows:"10"}),c.a.createElement("br",null),c.a.createElement($e,{defaultValue:i.data.config,title:i.data.config_path,name:"v_config",id:"v_config",rows:"10"}),c.a.createElement("br",null),c.a.createElement(We,{title:t.restart,defaultChecked:!0,name:"v_restart",id:"restart"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/server/")}},t.Back)))))}),za=(a(249),function(e){var t=e.serviceName,a=void 0===t?"":t,r=localStorage.getItem("token"),l=Object(o.d)((function(e){return e.session})).i18n,s=Object(I.g)(),i=Object(o.c)(),m=Object(n.useState)({data:{},loading:!1,basicOptions:!0,advancedOptions:!1,errorMessage:"",okMessage:""}),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){i(Te("/list/server/")),i({type:"REMOVE_FOCUSED_ELEMENT",value:""}),a||s.push("/list/server"),p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),nt("mysql").then((function(e){e.data.config.includes("Error")&&s.push("/list/server"),p(Object(u.a)(Object(u.a)({},E),{},{data:e.data,errorMessage:e.data.error_msg,okMessage:e.data.ok_msg,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var v=function(){p(Object(u.a)(Object(u.a)({},E),{},{advancedOptions:!E.advancedOptions,basicOptions:!E.basicOptions}))};return c.a.createElement("div",{className:"edit-template edit-mysql"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(l.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},l["Configuring Server"]," / ",E.data.service_name),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},E.data.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",E.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},E.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(E.okMessage))))),c.a.createElement(qe,null,E.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t,n={},c=Object(Le.a)(new FormData(e.target).entries());try{for(c.s();!(t=c.n()).done;){var r=Object(y.a)(t.value,2),l=r[0],o=r[1];n[l]=o}}catch(s){c.e(s)}finally{c.f()}0!==Object.keys(n).length&&n.constructor===Object&&(p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),at(n,"/".concat(a)).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;p(a?Object(u.a)(Object(u.a)({},E),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},E),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},E),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))}(e)},id:"edit-mysql"},c.a.createElement("input",{type:"hidden",name:"save",value:"save"}),c.a.createElement("input",{type:"hidden",name:"token",value:r}),!E.basicOptions&&c.a.createElement("button",{type:"button",onClick:function(){return v()}},l["Basic options"],E.basicOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),E.basicOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{id:"max_connections",title:"max_connections",name:"v_max_connections",value:E.data.max_connections}),c.a.createElement(Be,{id:"v_max_user_connections",title:"v_max_user_connections",name:"v_max_user_connections",value:E.data.max_user_connections}),c.a.createElement(Be,{id:"v_wait_timeout",title:"v_wait_timeout",name:"v_wait_timeout",value:E.data.wait_timeout}),c.a.createElement(Be,{id:"v_interactive_timeout",title:"v_interactive_timeout",name:"v_interactive_timeout",value:E.data.interactive_timeout}),c.a.createElement(Be,{id:"v_display_errors",title:"v_display_errors",name:"v_display_errors",value:E.data.max_allowed_packet})),!E.advancedOptions&&c.a.createElement("button",{type:"button",onClick:function(){return v()}},l["Advanced options"],E.advancedOptions?c.a.createElement(P.a,{icon:"caret-up"}):c.a.createElement(P.a,{icon:"caret-down"})),c.a.createElement("br",null),c.a.createElement("br",null),E.advancedOptions&&c.a.createElement(c.a.Fragment,null,c.a.createElement($e,{defaultValue:E.data.config,title:E.data.config_path,name:"v_config",id:"v_config",rows:"25"}),c.a.createElement("br",null),c.a.createElement(We,{title:l.restart,defaultChecked:!0,name:"v_restart",id:"restart"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},l.Save),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return s.push("/list/server/")}},l.Back)))))}),Ya=window.location.origin,Ga=(a(250),a(93)),Qa=a.n(Ga),Xa=(a(251),function(e){var t,a,r,l,s=Object(o.d)((function(e){return e.session})).i18n,i=Object(n.useState)({nameServersAmount:[],userNS:e.userNS}),m=Object(y.a)(i,2),d=m[0],E=m[1];Object(n.useEffect)((function(){if(e.userNS.length){var t=e.userNS.map((function(e,t){return t+1}));E(Object(u.a)(Object(u.a)({},d),{},{nameServersAmount:t}))}}),[]);var p=function(e){var t=Object(x.a)(d.nameServersAmount);t.splice(e-1,1),E(Object(u.a)(Object(u.a)({},d),{},{nameServersAmount:t}))};return c.a.createElement("div",null,c.a.createElement("div",{className:"form-group exp-date"},c.a.createElement("label",{htmlFor:"exp_date"},null!==(t=s["Expiration Date"])&&void 0!==t?t:"Expiration Date",c.a.createElement("span",{className:"optional"},"(",null!==(a=s["YYYY-MM-DD"])&&void 0!==a?a:"YYYY-MM-DD",")")),c.a.createElement("input",{type:"text",className:"form-control",id:"exp_date",required:!0,defaultValue:Qa()().add(1,"year").format("YYYY-MM-DD"),name:"v_exp"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"name_servers"},"TTL"),c.a.createElement("input",{type:"text",className:"form-control",id:"name_servers",required:!0,defaultValue:"14400",name:"v_ttl"})),c.a.createElement("div",{className:"form-group name-servers"},c.a.createElement("label",{htmlFor:"v_ns1"},null!==(r=s["Name servers"])&&void 0!==r?r:"Name servers"),d.nameServersAmount.map((function(e,t){var a;return c.a.createElement("div",{className:"name-server-input-wrapper",key:t},c.a.createElement("input",{type:"text",className:"form-control",id:"v_ns".concat(e),defaultValue:d.userNS[t]||"",name:"v_ns".concat(e)}),c.a.createElement("button",{type:"button",className:e<3?"hide":"show delete",onClick:function(){return p(e)}},null!==(a=s.delete)&&void 0!==a?a:"Delete"))}))),c.a.createElement("button",{type:"button",className:8===d.nameServersAmount.length?"hide":"show optional",onClick:function(){return function(){var e=d.nameServersAmount.length,t=Object(x.a)(d.nameServersAmount);t.push(e+1),E(Object(u.a)(Object(u.a)({},d),{},{nameServersAmount:t}))}()}},null!==(l=s["Add one more Name Server"])&&void 0!==l?l:"Add one more Name Server"))}),Za=function(e){var t,a,r,l,s,i,m=Object(o.d)((function(e){return e.session})).i18n,d=Object(o.c)(),E=localStorage.getItem("token"),p=Object(I.g)(),v=Object(n.useState)({loading:!1,showAdvancedOptions:!1,okMessage:"",domain:"",errorMessage:"",userNS:[]}),f=Object(y.a)(v,2),b=f[0],g=f[1];Object(n.useEffect)((function(){d(Te("/list/dns/")),d({type:"REMOVE_FOCUSED_ELEMENT",value:""}),g(Object(u.a)(Object(u.a)({},b),{},{loading:!0})),me.a.get(Ya+"/api/v1/list-user-ns.php").then((function(e){e.data.length&&g(Object(u.a)(Object(u.a)({},b),{},{userNS:e.data,loading:!1}))})).catch((function(e){return console.error(e)}))}),[]);var h=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(g(Object(u.a)(Object(u.a)({},b),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(Sa+"/api/v1/add/dns/index.php",t)}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;a?g(Object(u.a)(Object(u.a)({},b),{},{errorMessage:a,okMessage:n,loading:!1})):d(Ye()).then((function(){g(Object(u.a)(Object(u.a)({},b),{},{okMessage:n,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-dns"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(m.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},null!==(t=m["Adding DNS Domain"])&&void 0!==t?t:"Adding DNS Domain"),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},b.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",b.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},b.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(b.okMessage))))),c.a.createElement(qe,null,b.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return h(e)}},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("input",{type:"hidden",name:"token",value:E}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"domain"},null!==(a=m.Domain)&&void 0!==a?a:"Domain"),c.a.createElement("input",{type:"text",className:"form-control",id:"domain",required:!0,name:"v_domain"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"ip_address"},null!==(r=m["IP address"])&&void 0!==r?r:"IP address"),c.a.createElement("input",{type:"text",className:"form-control",id:"ip_address",required:!0,name:"v_ip"})),c.a.createElement("div",{className:"form-group advanced-options-button"},c.a.createElement("button",{type:"button",onClick:function(){g(Object(u.a)(Object(u.a)({},b),{},{showAdvancedOptions:!b.showAdvancedOptions}))}},null!==(l=m["Advanced options"])&&void 0!==l?l:"Advanced options",b.showAdvancedOptions?c.a.createElement(P.a,{icon:"caret-down"}):c.a.createElement(P.a,{icon:"caret-up"}))),function(){if(b.showAdvancedOptions)return c.a.createElement(Xa,{prefixI18N:b.prefixI18N,userNS:b.userNS,domain:b.domain,webStats:b.webStats})}(),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},null!==(s=m.Add)&&void 0!==s?s:"Add"),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return p.push("/list/dns/")}},null!==(i=m.Back)&&void 0!==i?i:"Back")))))};a(252);function $a(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.c)(),r=localStorage.getItem("token"),l=Object(I.g)(),s=Object(n.useState)({data:{},selectOptions:["A","AAAA","NS","CNAME","MX","TXT","SRV","DNSKEY","KEY","IPSECKEY","PTR","SPF","TLSA","CAA"],loading:!1,okMessage:"",errorMessage:""}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){a(Te("/list/dns/")),a({type:"REMOVE_FOCUSED_ELEMENT",value:""})}),[]);var E=function(t){t.preventDefault();var n,c={},l=Object(Le.a)(new FormData(t.target).entries());try{for(l.s();!(n=l.n()).done;){var o=Object(y.a)(n.value,2),s=o[0],i=o[1];c[s]=i}}catch(E){l.e(E)}finally{l.f()}c.ok_rec="add",c.token=r,c.v_domain=e.domain,0!==Object.keys(c).length&&c.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.post(Sa+"/api/v1/add/dns/index.php",t)}(c).then((function(e){if(200===e.status){var t=e.data,n=t.error_msg,c=t.ok_msg;n?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:n,okMessage:c,loading:!1})):a(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:c,errorMessage:"",loading:!1}))}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-dns-record"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding DNS Record"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):"",c.a.createElement("span",null,Qe()(m.okMessage))))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return E(e)}},c.a.createElement(Be,{title:t.Domain,value:e.domain,name:"v_domain",id:"domain",disabled:!0}),c.a.createElement(Be,{title:t.Record,name:"v_rec",id:"domain"}),c.a.createElement(Ve,{options:m.selectOptions,title:t.Type,name:"v_type",id:"type"}),c.a.createElement(Be,{title:t["IP or Value"],name:"v_val",id:"val"}),c.a.createElement(Be,{optionalTitle:"(".concat(t.optional,")"),title:t.Priority,name:"v_priority",id:"priority"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return l.push("/list/dns/?domain=".concat(e.domain))}},t.Back)))))}function en(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(I.g)(),a=Ee.a.parse(t.location.search,{ignoreQueryPrefix:!0}),r=Object(n.useState)(!1),l=Object(y.a)(r,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){a.domain?i(!0):i(!1)}),[t.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e.DNS))),s?c.a.createElement($a,{domain:a.domain}):c.a.createElement(Za,null))}a(253);function tn(e){var t=e.data,a=e.checkItemFunc,n=void 0===a?function(){}:a,r=e.restoreSetting,l=void 0===r?function(){}:r,s=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{date:!1,id:t.NAME,focused:t.FOCUSED,checked:t.isChecked,checkItem:function(){n(t.NAME)}},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{style:{textTransform:"uppercase"}},function(e){switch(e){case"WEB":return"WEB ".concat(s.domain);case"MAIL":return"MAIL ".concat(s.domain);case"DNS":return"DNS ".concat(s.domain);case"CRON":return s.cron;case"UDIR":return s["user dir"];default:return s.domain}}(t.type))),c.a.createElement(He,{className:"c-2"},c.a.createElement("b",null,t.name)),c.a.createElement(He,{className:"c-3"}),c.a.createElement(He,{className:"c-4"}),c.a.createElement(He,{className:"c-5"}))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement("button",{className:"link-restore",onClick:function(){return l(t.restoreLinkParams)}},s.restore,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"R"):c.a.createElement(P.a,{icon:"play"})))))}a(254);function an(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=(localStorage.getItem("token"),Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement),r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)([]),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({loading:!1,backupDetails:[],toggledAll:!1,selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),M(),function(){return l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,m]);var N=function(t){65!==t.keyCode?(38!==t.keyCode&&40!==t.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===t.keyCode?(t.preventDefault(),_()):40===t.keyCode&&(t.preventDefault(),k())):w("?backup=".concat(e.backup))},j=function(e){e[0].FOCUSED=e[0].NAME,d(e),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(m);if(""!==a){var t=e[a+1];t&&(e[a].FOCUSED="",t.FOCUSED=t.NAME,document.getElementById(t.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(e),l(it(t.NAME)))}else j(e)},_=function(){var e=Object(x.a)(m);if(""!==a){var t=e[a-1];t&&(e[a].FOCUSED="",t.FOCUSED=t.NAME,document.getElementById(t.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(e),l(it(t.NAME)))}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a>0||""!==a&&!t)switch(e.keyCode){case 82:return w()}},w=function(e){(function(e){return me.a.get(ot+"".concat("/api/v1/schedule/restore/index.php").concat(e))})(e||m[a].restoreLinkParams).then((function(e){return F(e.data.message)})).catch((function(e){return console.error(e)}))},M=function(){var t;O(Object(u.a)(Object(u.a)({},h),{},{loading:!0})),(t=e.backup,me.a.get(ot+"".concat("/api/v1/list/backup/index.php","?backup=").concat(t))).then((function(t){A(t.data.data[e.backup]),O(Object(u.a)(Object(u.a)({},h),{},{totalAmount:t.data.totalAmount,selection:[],toggledAll:!1,loading:!1}))})).catch((function(e){return console.error(e)}))},A=function(t){var a=["WEB","DNS","MAIL","DB","UDIR","CRON"].reduce((function(a,n){return t[n].split(",").map((function(t){a.push({type:n,name:t,restoreLinkParams:"?backup=".concat(e.backup,"&type=").concat(n.toLowerCase(),"&object=").concat(t)})})),a}),[]);d(a)},C=function(e){var t=h.selection,a=Object(x.a)(t),n=Object(x.a)(m),c=a.indexOf(e),r=n.findIndex((function(t){return t.NAME===e}));n[r].isChecked=!n[r].isChecked,-1!==c?a.splice(n[e].name,1):a.push(n[e].name),O(Object(u.a)(Object(u.a)({},h),{},{selection:a})),d(n)},D=function(e){var t=Object(x.a)(m);if(e){var a=[],n=t.map((function(e){return a.push(e.name),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{selection:a,toggledAll:e})),d(n)}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{selection:[],toggledAll:e})),d(c)}},F=function(e){O(Object(u.a)(Object(u.a)({},h),{},{loading:!1})),f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e}))};return c.a.createElement("div",{className:"mail-accounts backups-restore-settings"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.BACKUP))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Restore All"],list:"backup-details",onClick:function(){return w("?backup=".concat(e.backup))},showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:D,toggled:h.toggledAll}),c.a.createElement(ht,{list:"backupDetailList",bulkAction:function(t){var a=h.selection;a.length&&t&&(O(Object(u.a)(Object(u.a)({},h),{},{loading:!0})),function(e,t,a){var n=new FormData;return n.append("token",Ie()),n.append("action",e),n.append("backup",a),t.forEach((function(e){n.append("udir[]",e)})),me.a.post(ot+"".concat("/api/v1/bulk/restore/index.php"),n)}(t,a,e.backup).then((function(e){200===e.status&&(F(e.data.message),D(!1))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),h.loading?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mail-accounts-wrapper"},c.a.createElement("div",{className:"subtitle"},c.a.createElement("span",null,"".concat(t.Listing,"  ").concat(e.backup))),function(){var e=Object(x.a)(m),t=[];return e.forEach((function(e,n){e.NAME=n,e.FOCUSED=a===n,t.push(e)})),t.map((function(e,t){return c.a.createElement(tn,{data:e,key:t,checkItemFunc:function(e){return C(e)},restoreSetting:w})}))}()),c.a.createElement("div",{className:"footer-actions-wrapper"},c.a.createElement("div",{className:"total"},h.totalAmount),c.a.createElement("div",{className:"back"},c.a.createElement(se.b,{to:"/list/backup/"},t.Back)))),c.a.createElement(Ot,{onSave:function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:""}))},showCancelButton:!1,show:v.visible,text:v.text}))}a(255);var nn=function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n,n=localStorage.getItem("token");return c.a.createElement(vt,{id:t.NAME,date:t.DATE,toggleFav:function(t){t?e.toggleFav(e.data.NAME,"add"):e.toggleFav(e.data.NAME,"delete")},checkItem:function(){e.checkItem(e.data.NAME)},focused:t.FOCUSED,starred:t.STARRED,checked:t.isChecked},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.NAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",null,a["Backup Size"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.SIZE),a.mb))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,a.Type,": ",c.a.createElement("span",{className:"stat"},t.TYPE))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,a["Run Time"],": ",c.a.createElement("span",{className:"stat"},t.RUNTIME," minute"))))),c.a.createElement("div",{className:"actions"},"no"===t.UPDATED&&c.a.createElement("div",null,c.a.createElement("a",{href:"/update/vesta/?pkg=".concat(t.NAME)},a.update," ",c.a.createElement(P.a,{icon:"wrench"}))),c.a.createElement("div",null,c.a.createElement("a",{className:"link-download",href:"/api/v1/download/backup/?backup=".concat(t.NAME,"&token=").concat(n)},a.download,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"D"):c.a.createElement(P.a,{icon:Fe.r}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-download",to:"/list/backup?backup=".concat(t.NAME)},a["configure restore settings"],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"list"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/backup/?backup=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))},cn=(a(256),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({backups:[],backupFav:[],toggledAll:!1,selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/backup/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.backups]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{backups:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.backups);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{backups:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.backups);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{backups:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return A();case 13:return w();case 68:return M()}},w=function(){e.history.push("/list/backup?backup=".concat(a))},M=function(){window.open("/api/v1/download/backup?backup=".concat(a))},A=function(){var e=h.backups.filter((function(e){return e.NAME===a}))[0];I(e.delete_conf,"/api/v1/delete/cron/?job=".concat(a))},C=function(){return d(!0),new Promise((function(e,t){me.a.get(ot+"/api/v1/list/backup/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{backups:D(t.data.data),backupFav:t.data.backup_fav,totalAmount:t.data.totalAmount,selection:[],toggledAll:!1})),e()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].isChecked=!1,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=h.selection,a=h.backups,n=Object(x.a)(t),c=Object(x.a)(a),r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{backups:c,selection:n}))},L=function(e,t){var a=h.backupFav;"add"===t?(a[e]=1,Et(e,"backup").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{backupFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"backup").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{backupFav:a}))})).catch((function(e){console.error(e)})))},U=function(e){var t=Object(x.a)(h.backups);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{backups:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{backups:c,selection:[],toggledAll:e}))}},I=function(e,t){d(!1),f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},R=function(){l(Ye()).then((function(){return d(!1)}))},V=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"backups"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.BACKUP))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",{className:"l-menu"},c.a.createElement("button",{onClick:function(){d(!0),me.a.get(ot+"/api/v1/schedule/restore/").then((function(e){e.data.error?I(e.data.error,""):I(e.data.ok,"")})).catch((function(e){return console.error(e)}))}},c.a.createElement(P.a,{icon:"plus"}),c.a.createElement("span",{className:"add"},t["Create Backup"]))),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(se.b,{to:"/list/backup/exclusions",className:"button-extra",type:"submit"},t["backup exclusions"]),c.a.createElement(gt,{toggleAll:U,toggled:h.toggledAll}),c.a.createElement(ht,{list:"backupList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("backup[]",e)})),me.a.post(ot+"/api/v1/bulk/backup/",a)}(e,t).then((function(e){200===e.status&&(U(!1),C().then((function(){return R()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"backups-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.backups,t=[],n=Object(u.a)({},h.backupFav);return e.forEach((function(e){e.FOCUSED=a===e.NAME,n[e.NAME]?e.STARRED=n[e.NAME]:e.STARRED=0,t.push(e)})),t.map((function(e,t){return c.a.createElement(nn,{data:e,key:t,toggleFav:L,checkItem:F,handleModal:I})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return V();var e;V(),d(!0),(e=v.actionUrl,me.a.get(ot+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return d(!1),I(e.data.error,"");C().then((function(){return R()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:V,show:v.visible,text:v.text}))});function rn(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Ee.a.parse(a.location.search,{ignoreQueryPrefix:!0}),l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){r.backup?u(!0):u(!1)}),[a.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DNS))),i?c.a.createElement(an,{backup:r.backup}):c.a.createElement(cn,Object.assign({},e,{changeSearchTerm:e.changeSearchTerm})))}var ln=function(){var e=Object(o.d)((function(e){return e.session})).i18n,t=localStorage.getItem("language"),a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)({banIps:[],errorMessage:"",okMessage:"",loading:!1}),s=Object(y.a)(l,2),i=s[0],m=s[1];Object(n.useEffect)((function(){r(Te("/list/firewall/")),r({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return me.a.get(xt+Tt,{params:{token:Ie()}})}().then((function(e){m(Object(u.a)(Object(u.a)({},i),{},{ip:e.data.ip,chain:e.data.chain,loading:!1}))}))}),[]);var d=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],l=c[1];a[r]=l}}catch(o){n.e(o)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(m(Object(u.a)(Object(u.a)({},i),{},{loading:!0})),function(e){var t=new FormData;for(var a in t.append("token",Ie()),e)t.append(a,e[a]);return me.a.post(xt+Tt,t,{params:{token:Ie()}})}(a).then((function(e){if(200===e.status){var t=e.data,a=t.error_msg,n=t.ok_msg;m(a?Object(u.a)(Object(u.a)({},i),{},{errorMessage:a,okMessage:"",loading:!1}):n?Object(u.a)(Object(u.a)({},i),{},{errorMessage:"",okMessage:n,loading:!1}):Object(u.a)(Object(u.a)({},i),{},{loading:!1}))}})).catch((function(e){return console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-user"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e.FIREWALL))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},e["Adding IP Address to Banlist"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},i.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",i.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},i.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(i.okMessage))," "))),c.a.createElement(qe,null,i.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return d(e)},id:"add-user"},c.a.createElement("input",{type:"hidden",name:"ok",value:"add"}),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"chain"},e.Banlist),c.a.createElement("select",{class:"form-control",id:"chain",name:"v_chain"},["SSH","WEB","FTP","DNS","MAIL","DB","VESTA"].map((function(e,a){return c.a.createElement("option",{key:a,selected:t===e,value:e},e)})))),c.a.createElement("div",{className:"form-group exp-date"},c.a.createElement("label",{htmlFor:"ip"},e["IP address"],c.a.createElement("span",{className:"optional"},"(",e["CIDR format is supported"],")")),c.a.createElement("input",{type:"text",className:"form-control",id:"ip",required:!0,name:"v_ip"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},e.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/firewall/banlist")}},e.Back)))))},on=(a(257),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;localStorage.getItem("token");return c.a.createElement(vt,{id:t.NAME,date:t.DATE,checkItem:function(){e.checkItem(e.data.NAME)},toggleFav:function(t){t?e.toggleFav(e.data.NAME,"add"):e.toggleFav(e.data.NAME,"delete")},focused:t.FOCUSED,starred:t.STARRED,checked:t.isChecked,suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"cron-jobs-list r-col w-85"},c.a.createElement("div",{className:"name"},t.CMD),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,a.Min," ",c.a.createElement("span",null,t.MIN))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,a.Hour," ",c.a.createElement("span",null,t.HOUR))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,a.Day," ",c.a.createElement("span",null,t.DAY))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,a.Month," ",c.a.createElement("span",null,t.MONTH))),c.a.createElement(He,{className:"cron-col"},c.a.createElement("div",null,a["Day of week"]," ",c.a.createElement("span",null,t.WDAY))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/cron/?job=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var a="yes"===t.SUSPENDED?"unsuspend":"suspend";e.handleModal(t.suspend_conf,"/api/v1/".concat(a,"/cron/index.php?job=").concat(t.NAME))}()}},a[t.suspend_action],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/cron/index.php?job=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}),sn=(a(258),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({cronJobs:[],cronFav:[],toggledAll:!1,cronReports:"",sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/cron/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.cronJobs]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.cronJobs);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.cronJobs);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return A();case 13:return w();case 83:return M()}},w=function(){e.history.push("/edit/cron?job=".concat(a))},M=function(){var e=h.cronJobs.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";R(e.suspend_conf,"/api/v1/".concat(t,"/cron/index.php?job=").concat(a))},A=function(){var e=h.cronJobs.filter((function(e){return e.NAME===a}))[0];R(e.delete_conf,"/api/v1/delete/cron/index.php?job=".concat(a))},C=function(){return d(!0),new Promise((function(e,t){me.a.get(Bt+"/api/v1/list/cron/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:D(t.data.data),cronReports:t.data.cron_reports,cronFav:t.data.cron_fav,selection:[],toggledAll:!1,totalAmount:t.data.totalAmount})),e()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].isChecked=!1,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=h.selection,a=h.cronJobs,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:c,selection:n}))},L=function(e){var t=h.order,a=h.sorting,n=U(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},U=function(e){var a=t.Date,n=t.Command,c=t.Starred;switch(e){case a:return"DATE";case n:return"CMD";case c:return"STARRED"}},I=function(e,t){var a=h.cronFav;"add"===t?(a[e]=1,Et(e,"cron").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{cronFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"cron").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{cronFav:a}))})).catch((function(e){console.error(e)})))},P=function(e){var t=Object(x.a)(h.cronJobs);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{cronJobs:c,selection:[],toggledAll:e}))}},R=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!h.modalVisible,text:e,actionUrl:t}))},V=function(){l(Ye()).then((function(){return d(!1)}))},B=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))},W=function(){var e=localStorage.getItem("token"),t="/api/v1/".concat("yes"===h.cronReports?"delete":"add","/cron/reports/?token=").concat(e);Wt(t).then((function(e){R(e.data.message,""),C()})).catch((function(e){return console.error(e)}))};return c.a.createElement("div",{className:"cronJobs"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.CRON))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add Cron Job"],href:"/add/cron",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("button",{onClick:W,className:"button-extra",type:"submit"},"yes"===h.cronReports?t["turn off notifications"]:t["turn on notifications"]),c.a.createElement(gt,{toggleAll:P,toggled:h.toggledAll}),c.a.createElement(ht,{list:"cronList",bulkAction:function(e){var t=h.selection;if(e===("yes"===h.cronReports?"delete-cron-reports":"add-cron-reports"))return W();t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("job[]",e)})),me.a.post(Bt+"/api/v1/bulk/cron/",a)}(e,t).then((function(e){200===e.status&&(P(!1),C().then((function(){return V()})))})).catch((function(e){return console.error(e)})))},cronReports:"yes"===h.cronReports}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"cronList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"cron-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.cronJobs,t=[],n=Object(u.a)({},h.cronFav);return e.forEach((function(e){e.FOCUSED=a===e.NAME,n[e.NAME]?e.STARRED=n[e.NAME]:e.STARRED=0,t.push(e)})),L(t).map((function(e,t){return c.a.createElement(on,{data:e,key:t,toggleFav:I,checkItem:F,handleModal:R})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{showCancelButton:v.actionUrl,onCancel:B,onSave:function(){if(!v.actionUrl)return B();B(),d(!0),Wt(v.actionUrl).then((function(e){if(e.data.error)return d(!1),R(e.data.error,"");C().then((function(){return V()}))})).catch((function(e){d(!1),console.error(e)}))},show:v.visible,text:v.text}))}),un=(a(259),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,date:t.DATE,toggleFav:function(a){a?e.toggleFav(t.NAME,"add"):e.toggleFav(t.NAME,"delete")},checkItem:function(){e.checkItem(t.NAME)},starred:t.STARRED,focused:t.FOCUSED,checked:t.isChecked},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.NAME),c.a.createElement("div",null,t.FNAME," ",t.LNAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1 w-30"},c.a.createElement("div",null,a["Web Template"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.WEB_TEMPLATE))),c.a.createElement("div",null,a["Proxy Template"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.PROXY_TEMPLATE))),c.a.createElement("div",null,a["DNS Template"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.DNS_TEMPLATE))),c.a.createElement("div",null,a["SSH Access"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.SHELL))),c.a.createElement("div",null,a["Web Domains"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.WEB_DOMAINS))),c.a.createElement("div",null,a["Web Aliases"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.WEB_ALIASES)))),c.a.createElement(He,{className:"c-2 w-35"},c.a.createElement("div",null,a["DNS domains"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.DNS_DOMAINS))),c.a.createElement("div",null,a["DNS records"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.DNS_RECORDS))),c.a.createElement("div",null,a["Mail Domains"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.MAIL_DOMAINS))),c.a.createElement("div",null,a["Mail Accounts"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.MAIL_ACCOUNTS))),c.a.createElement("div",null,a.Databases,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.DATABASES))),c.a.createElement("div",null,a["Cron Jobs"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.CRON_JOBS)))),c.a.createElement(He,{className:"c-3 w-35"},c.a.createElement("div",null,c.a.createElement("span",null,a.Backups,":")," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.BACKUPS))),c.a.createElement("div",null,c.a.createElement("span",null,a.Bandwidth,":")," ",c.a.createElement("span",null,c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.BANDWIDTH)," ",a.mb))),c.a.createElement("div",null,c.a.createElement("span",null,a.Disk,":")," ",c.a.createElement("span",null,c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.DISK_QUOTA)," ",a.mb))),c.a.createElement("div",{className:"ns"},c.a.createElement("span",null,a["Name Servers"],":")," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.NS.split(",").map((function(e,t){return c.a.createElement("div",{key:t},e)})))))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/package/?package=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/package/index.php?package=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}),mn=(a(260),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({packages:[],packagesFav:[],toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/package/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),A().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.packages]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{packages:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.packages);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{packages:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.packages);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{packages:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return M();case 13:return w()}},w=function(){e.history.push("/edit/package/?package=".concat(a))},M=function(){var e=h.packages.filter((function(e){return e.NAME===a}))[0];P(e.delete_conf,"/api/v1/delete/package/index.php?package=".concat(a))},A=function(){return d(!0),new Promise((function(e,t){ta().then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{packages:C(t.data.data),packagesFav:t.data.packagesFav,totalAmount:t.data.totalAmount,selection:[],toggledAll:!1})),e()})).catch((function(e){return console.error(e)}))}))},C=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},D=function(e){var t=h.selection,a=h.packages,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{packages:c,selection:n}))},F=function(e){var t=h.order,a=h.sorting,n=L(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},L=function(e){var a=t.Date,n=t.Starred;switch(e){case a:return"DATE";case t["Package Name"]:return"NAME";case n:return"STARRED"}},U=function(e,t){var a=h.packagesFav;"add"===t?(a[e]=1,Et(e,"package").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{packagesFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"package").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{packagesFav:a}))})).catch((function(e){console.error(e)})))},I=function(e){var t=Object(x.a)(h.packages);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{packages:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{packages:c,selection:[],toggledAll:e}))}},P=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!v.visible,text:e,actionUrl:t}))},R=function(){l(Ye()).then((function(){return d(!1)}))},V=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"packages"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.PACKAGE))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add Package"],href:"/add/package/",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:I,toggled:h.toggledAll}),c.a.createElement(ht,{list:"packagesList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("package[]",e)})),me.a.post(ea+"/api/v1/bulk/package/",a)}(e,t).then((function(e){200===e.status&&(I(!1),A().then((function(){return R()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"packagesList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"packages-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.packages,t=Object(u.a)({},h.packagesFav),n=[];return e.forEach((function(e){e.FOCUSED=a===e.NAME,t[e.NAME]?e.STARRED=t[e.NAME]:e.STARRED=0,n.push(e)})),F(n).map((function(e,t){return c.a.createElement(un,{data:e,key:t,toggleFav:U,checkItem:D,handleModal:P})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return V();var e;V(),d(!0),(e=v.actionUrl,me.a.get(ea+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return d(!1),P(e.data.error,"");A().then((function(){return R()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:V,show:v.visible,text:v.text}))}),dn=window.location.origin,En=(a(261),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=localStorage.getItem("language"),r=Object(I.g)(),l=Object(o.c)(),s=Object(n.useState)({vEmail:"",vNotify:"",languages:[],packages:[],errorMessage:"",okMessage:"",loading:!1}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){l(Te("/list/user/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),Promise.all([E(),p()]).then((function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1],c=v(a.data.data);d(Object(u.a)(Object(u.a)({},m),{},{packages:c,languages:n.data,loading:!1}))}))}),[]);var E=function(){return ta().catch((function(e){return console.error(e)}))},p=function(){return me.a.get(dn+"/api/v1/languages.php").catch((function(e){return console.error(e)}))},v=function(e){var t=[];for(var a in e)t.push(a);return t},f=function(e){e.preventDefault();var t,a={},n=Object(Le.a)(new FormData(e.target).entries());try{for(n.s();!(t=n.n()).done;){var c=Object(y.a)(t.value,2),r=c[0],o=c[1];a[r]=o}}catch(s){n.e(s)}finally{n.f()}0!==Object.keys(a).length&&a.constructor===Object&&(d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t.append("token",Ie()),t.append("ok","Add"),me.a.post(qa+"/api/v1/add/user/index.php",t)}(a).then((function(e){var t=e.data,a=t.error_msg,n=t.ok_msg;a?d(Object(u.a)(Object(u.a)({},m),{},{errorMessage:a,okMessage:n,loading:!1})):l(Ye()).then((function(){d(Object(u.a)(Object(u.a)({},m),{},{okMessage:n,errorMessage:"",loading:!1}))}))})).catch((function(e){d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),console.error(e)})))};return c.a.createElement("div",{className:"edit-template add-user"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.USER))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",null),c.a.createElement("div",{className:"search-toolbar-name"},t["Adding User"]),c.a.createElement("div",{className:"error"},c.a.createElement("span",{className:"error-message"},m.errorMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",m.errorMessage)),c.a.createElement("div",{className:"success"},c.a.createElement("span",{className:"ok-message"},m.okMessage?c.a.createElement(P.a,{icon:"long-arrow-alt-right"}):""," ",c.a.createElement("span",null,Qe()(m.okMessage))," "))),c.a.createElement(qe,null,m.loading?c.a.createElement(T,null):c.a.createElement("form",{onSubmit:function(e){return f(e)},id:"add-user"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"username"},t.Username),c.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"v_username"})),c.a.createElement(kt,{name:"v_password"}),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"email"},t.Email," /",c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",id:"send-credentials",onChange:function(e){e.target.checked?m.vEmail&&d(Object(u.a)(Object(u.a)({},m),{},{vNotify:m.vEmail})):d(Object(u.a)(Object(u.a)({},m),{},{vNotify:""}))}}),c.a.createElement("label",{htmlFor:"send-credentials"},t["Send login credentials to email address"]))),c.a.createElement("input",{type:"email",name:"v_email",className:"form-control",id:"email",value:m.vEmail,onChange:function(e){return t=e.target.value,void d(Object(u.a)(Object(u.a)({},m),{},{vEmail:t}));var t},onBlur:function(){m.vNotify||d(Object(u.a)(Object(u.a)({},m),{},{vNotify:m.vEmail}))}})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"package"},t.Package),c.a.createElement("select",{class:"form-control",id:"package",name:"v_package"},m.packages.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})))),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"language"},t.Language),c.a.createElement("select",{class:"form-control",id:"language",name:"v_language"},m.languages.map((function(e,t){return c.a.createElement("option",{key:t,selected:a===e,value:e},e)})))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"firstName"},t["First Name"]),c.a.createElement("input",{type:"text",className:"form-control",id:"firstName",name:"v_fname"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"lastName"},t["Last Name"]),c.a.createElement("input",{type:"text",className:"form-control",id:"lastName",name:"v_lname"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"sendLoginCredentialsToEmailAddress"},t["Send login credentials to email address"]),c.a.createElement("input",{type:"email",className:"form-control",id:"sendLoginCredentialsToEmailAddress",value:m.vNotify,onChange:function(e){return t=e.target.value,void d(Object(u.a)(Object(u.a)({},m),{},{vNotify:t}));var t},name:"v_notify"})),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{type:"submit",className:"add"},t.Add),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return r.push("/list/user/")}},t.Back)))))}),pn=window.location.origin,vn=(a(262),function(e){var t,a=e.data,n=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{date:!1,id:a.NAME,checkItem:function(){e.checkItem(e.data.NAME)},focused:a.FOCUSED,checked:a.isChecked,outdated:(t=a.UPDATED,"no"===t),leftNameText:function(e){return"no"===e?"OUTDATED":"UPDATED"}(a.UPDATED)},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},a.NAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"descr"},c.a.createElement("span",{className:"stat"},a.DESCR))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,n.Version,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},a.VERSION)," ","(".concat(a.ARCH,")")))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,n.Release,": ",c.a.createElement("span",{className:"stat"},a.RELEASE))))))}),fn=(a(263),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)({updates:[],selection:[],autoUpdate:"",token:"",loading:!1,toggledAll:!1}),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1];Object(n.useEffect)((function(){return l(Te("/list/updates/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),N(),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}),[a,r,m.updates]);var b=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),O()):40===e.keyCode&&(e.preventDefault(),h())},g=function(e){e[0].FOCUSED=e[0].NAME,d(Object(u.a)(Object(u.a)({},m),{},{updates:e})),l(it(e[0].NAME))},h=function(){var e=Object(x.a)(m.updates);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{updates:e})),l(it(n.NAME))}}else g(e)},O=function(){var e=Object(x.a)(m.updates);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{updates:e})),l(it(n.NAME))}}else g(e)},N=function(){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.get(pn+"/api/v1/list/updates/index.php").then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{selection:[],updates:j(e.data.data),autoUpdate:e.data.autoUpdate,loading:!1}))})).catch((function(e){return console.error(e)}))},j=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},k=function(e){var t=Object(x.a)(m.selection),a=Object(x.a)(m.updates),n=t.indexOf(e),c=a.findIndex((function(t){return t.NAME===e}));a[c].isChecked=!a[c].isChecked,-1!==n?t.splice(n,1):t.push(e),d(Object(u.a)(Object(u.a)({},m),{},{updates:a,selection:t}))},_=function(e){var t=Object(x.a)(m.updates);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));d(Object(u.a)(Object(u.a)({},m),{},{updates:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));d(Object(u.a)(Object(u.a)({},m),{},{updates:c,selection:[],toggledAll:e}))}},S=function(e,t){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},w=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"statistics-list updates"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.UPDATES))),c.a.createElement(Je,{mobile:!1,className:"justify-right"},c.a.createElement(bt,{name:"Add Cron Job",showLeftMenu:!1}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("button",{onClick:function(){"Enabled"===m.autoUpdate?me.a.get("".concat(pn).concat("/api/v1/delete/cron/autoupdate/"),{params:{token:Ie()}}).then((function(e){if(e.data.error)return d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),S(e.data.error,"");S(e.data.message,""),N()})).catch((function(e){d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),console.error(e)})):me.a.get("".concat(pn).concat("/api/v1/add/cron/autoupdate/"),{params:{token:Ie()}}).then((function(e){if(e.data.error)return d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),S(e.data.error,"");S(e.data.message,""),N()})).catch((function(e){d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),console.error(e)}))},className:"button-extra"},"Enabled"===m.autoUpdate?t["disable autoupdate"]:t["enable autoupdate"]),c.a.createElement(gt,{toggleAll:_}),c.a.createElement(ht,{list:"updatesList",bulkAction:function(e){var t=m.selection;t.length&&"apply to selected"!==e&&function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("pkg[]",e)})),me.a.post(pn+"/api/v1/bulk/vesta/",a)}(e,t).then((function(e){if(_(!1),200===e.status){if(e.data.error)return d(Object(u.a)(Object(u.a)({},m),{},{loading:!1})),S(e.data.error,"");S(e.data.message,""),N()}})).catch((function(e){return console.error(e)}))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),m.loading?c.a.createElement(T,null):function(){var e=Object(x.a)(m.updates);return e.forEach((function(e){e.FOCUSED=a===e.NAME})),e.map((function(e,t){return c.a.createElement(vn,{data:e,key:t,checkItem:k})}))}(),c.a.createElement(Ot,{onSave:w,onCancel:w,show:v.visible,text:v.text}))}),bn=(a(264),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,focused:t.FOCUSED,sysInfo:t.HOSTNAME,checked:t.isChecked,checkItem:function(){e.checkItem(e.data.HOSTNAME)}},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.HOSTNAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"descr"},c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.OS," ",t.VERSION),"\xa0\xa0\xa0\xa0\xa0 ","(".concat(t.ARCH,")")))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,a["Load Average"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.LOADAVERAGE)))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,c.a.createElement("span",null,a.Uptime,": ",c.a.createElement("span",{className:"stat"},t.UPTIME)))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-list",to:"/edit/server/"},a.configure,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"cogs"}))),c.a.createElement("div",null,c.a.createElement("a",{className:"link-download restart",href:"/restart/service?srv=".concat(t.NAME)},a.restart,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"R"):c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-repeat",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{"fill-rule":"evenodd",d:"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"}),c.a.createElement("path",{"fill-rule":"evenodd",d:"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"}))))))}),gn=(a(265),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,focused:t.FOCUSED,checked:t.isChecked,checkItem:function(){e.checkItem(t.NAME)}},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"server-name"},t.NAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"descr"},c.a.createElement("span",{className:"stat"},a[t.SYSTEM]))),c.a.createElement(He,{className:"c-1"}),c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"descr"},c.a.createElement("span",null,a.CPU,": ",c.a.createElement("span",{className:"stat"},t.CPU)))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,c.a.createElement("span",null,a.Memory,": ",c.a.createElement("span",{className:"stat"},t.MEM," ",a.mb)))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,c.a.createElement("span",null,a.Uptime,": ",c.a.createElement("span",{className:"stat"},t.RTIME)))),c.a.createElement(He,{className:"c-1"}))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-list",to:"/edit/server/".concat(t.NAME)},a.configure,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"cogs"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){return e.handleAction("/api/v1"+t.action_url)}},"running"===t.STATE?a.stop:a.start,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"running"===t.STATE?"stop":"play"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-download restart",onClick:function(){return e.handleAction("/api/v1/restart/service/?srv=".concat(t.NAME))}},a.restart,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"R"):c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-arrow-repeat",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{"fill-rule":"evenodd",d:"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"}),c.a.createElement("path",{"fill-rule":"evenodd",d:"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"}))))))}),hn=(a(266),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({servers:[],selection:[],toggledAll:!1,sorting:t.Action,order:"descending"}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/server/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.servers]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{servers:e})),l(it(e[0]))},k=function(){var e=Object(x.a)(h.servers);if(""!==a.NAME&&""!==a){var t=e.findIndex((function(e){return e.NAME===a.NAME}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{servers:e})),l(it(n))}}else j(e)},_=function(){var e=Object(x.a)(h.servers);if(""!==a.NAME&&""!==a){var t=e.findIndex((function(e){return e.NAME===a.NAME}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{servers:e})),l(it(n))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a.NAME&&!t)switch(e.keyCode){case 13:return w();case 82:return A();case 83:return M()}},w=function(){a.NAME!==h.servers[0].NAME?e.history.push("/edit/server/".concat(a.NAME)):e.history.push("/edit/server/")},M=function(){F("/api/v1"+a.action_url)},A=function(){F("/api/v1/restart/service/?srv=".concat(a.NAME))},C=function(){return d(!0),new Promise((function(e,t){me.a.get(et+"/api/v1/list/server/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{selection:[],toggledAll:!1,servers:D(t.data.data,t.data.sys)})),e()})).catch((function(e){return console.error(e)}))}))},D=function(e,t){var n=[];for(var c in e)e[c].NAME=c,e[c].FOCUSED=a.NAME===c,n.push(e[c]);return n.splice(0,0,Object.values(t)[0]),n[0].NAME=n[0].HOSTNAME,n},F=function(e){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),e&&(d(!0),tt(e).then((function(e){e.data.error&&I(e.data.error),d(!1)})).catch((function(e){d(!1),console.error(e)})))},L=function(e){var t=Object(x.a)(h.servers);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{servers:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{servers:c,selection:[],toggledAll:e}))}},U=function(e){var t=h.selection,a=Object(x.a)(t),n=Object(x.a)(h.servers),c=a.indexOf(e),r=n.findIndex((function(t){return t.NAME===e}));n[r].isChecked=!n[r].isChecked,-1!==c?a.splice(c,1):a.push(e),O(Object(u.a)(Object(u.a)({},h),{},{servers:n,selection:a}))},I=function(e){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e}))},P=function(){l(Ye()).then((function(){return d(!1)}))},R=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:""}))};return c.a.createElement("div",{className:"servers-list"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.SERVER))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{href:"/edit/server/",list:"server",name:t.configure,showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(se.b,{to:"/list/server/cpu",className:"button-extra"},t["show: CPU / MEM / NET / DISK"]),c.a.createElement(gt,{toggleAll:L,toggled:h.toggledAll}),c.a.createElement(ht,{list:"serverList",bulkAction:function(e){var t=h.selection;t.length&&e&&(O(Object(u.a)(Object(u.a)({},h),{},{loading:!0})),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("service[]",e)})),me.a.post(et+"/api/v1/bulk/service/",a)}(e,t).then((function(e){e.data.error&&I(e.data.error),L(!1),C().then((function(){return P()}))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),m?c.a.createElement(T,null):c.a.createElement("div",{className:"servers-wrapper"},function(){var e=[];return h.servers.forEach((function(t){t.FOCUSED=a.NAME===t.NAME,e.push(t)})),e.map((function(e,t){return e.HOSTNAME?c.a.createElement(bn,{data:e,key:t,checkItem:U,handleAction:F}):c.a.createElement(gn,{data:e,key:t,checkItem:U,handleAction:F})}))}()),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return R();R(),d(!0),tt(v.actionUrl).then((function(e){if(e.data.error)return d(!1),I(e.data.error,"");C().then((function(){return P()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:R,showSaveButton:!1,show:v.visible,text:v.text}))}),On=(a(267),function(e){var t=e.menuHeight;if(!e.mobile)return document.documentElement.clientWidth>900?t:45}),Nn=function(e){var t=Object(o.d)((function(e){return e.mainNavigation})),a=t.activeElement,r=t.focusedElement,l=Object(o.d)((function(e){return e.session})),s=l.i18n,i=l.session.look,u=Object(o.d)((function(e){return e.menuCounters})).user,m=Object(o.c)();Object(n.useEffect)((function(){u.LANGUAGE&&localStorage.setItem("language",u.LANGUAGE)}),[u]);var d,E=function(e,t){if("".concat(window.location.pathname).concat(window.location.search)===e)return t.preventDefault();m(Te(e))},p=function(e){return"stat ".concat(e===a&&"l-active"," ").concat(e===r&&"focus")},v=function(e,t){if(!e)return null;if("0"===e)return c.a.createElement("span",{className:"value"},"0 ",c.a.createElement("span",{className:"unit"},"b"));var a=t<=0?0:t||2,n=Math.floor(Math.log(e)/Math.log(1024));return c.a.createElement("span",{className:"value"},parseFloat((e/Math.pow(1024,n)).toFixed(a))," ",c.a.createElement("span",{className:"unit"},["b","kb","Mb","GB"][n]))};return c.a.createElement("div",{className:"menu-wrapper"},c.a.createElement("div",{className:(d=e.menuHeight,35===d?"menu-stat shadow":"menu-stat"),style:{height:On(e)}},c.a.createElement("div",{className:p("/list/user/")},c.a.createElement(se.b,{to:"/list/user/",onClick:function(e){return E("/list/user/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.USER),c.a.createElement("div",{className:"stats"},i?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("span",null,s.Disk,":")," ",c.a.createElement("span",null,v(u.U_DISK))),c.a.createElement("div",null,c.a.createElement("span",null,s.Bandwidth,":")," ",c.a.createElement("span",null,v(u.U_BANDWIDTH)))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("span",null,s.users,":")," ",c.a.createElement("span",null,u.U_USERS)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_USERS)))))),c.a.createElement("div",{className:p("/list/web/")},c.a.createElement(se.b,{to:"/list/web/",onClick:function(e){return E("/list/web/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.WEB),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.domains,":")," ",c.a.createElement("span",null,u.U_WEB_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,s.aliases,":")," ",c.a.createElement("span",null,u.U_WEB_ALIASES)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_WEB))))),c.a.createElement("div",{className:p("/list/dns/")},c.a.createElement(se.b,{to:"/list/dns/",onClick:function(e){return E("/list/dns/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.DNS),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.domains,":")," ",c.a.createElement("span",null,u.U_DNS_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,s.records,":")," ",c.a.createElement("span",null,u.U_DNS_RECORDS)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_DNS))))),c.a.createElement("div",{className:p("/list/mail/")},c.a.createElement(se.b,{to:"/list/mail/",onClick:function(e){return E("/list/mail/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.MAIL),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.domains,":")," ",c.a.createElement("span",null,u.U_MAIL_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,s.accounts,":")," ",c.a.createElement("span",null,u.U_MAIL_ACCOUNTS)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_MAIL))))),c.a.createElement("div",{className:p("/list/db/")},c.a.createElement(se.b,{to:"/list/db/",onClick:function(e){return E("/list/db/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.DB),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.databases,":")," ",c.a.createElement("span",null,u.U_DATABASES)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_DB))))),c.a.createElement("div",{className:p("/list/cron/")},c.a.createElement(se.b,{to:"/list/cron/",onClick:function(e){return E("/list/cron/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.CRON),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.jobs,":")," ",c.a.createElement("span",null,u.U_CRON_JOBS)),c.a.createElement("div",null,c.a.createElement("span",null,s.spnd,":")," ",c.a.createElement("span",null,u.SUSPENDED_CRON))))),c.a.createElement("div",{className:p("/list/backup/")+" last"},c.a.createElement(se.b,{to:"/list/backup/",onClick:function(e){return E("/list/backup/",e)},onKeyPress:function(e){return e.preventDefault()}},c.a.createElement("h3",null,s.BACKUP),c.a.createElement("div",{className:"stats"},c.a.createElement("div",null,c.a.createElement("span",null,s.backups,":")," ",c.a.createElement("span",null,u.U_BACKUPS)))))))},jn=(a(268),function(e){Object(D.a)(a,e);var t=Object(F.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:this.props.class},c.a.createElement("div",{className:"mobile-menu"},c.a.createElement("div",null,c.a.createElement("div",null,"Packages"),c.a.createElement("div",null,"IP"),c.a.createElement("div",null,"Graphs"),c.a.createElement("div",null,"Statistics"),c.a.createElement("div",null,"Log")),c.a.createElement("div",null,c.a.createElement("div",null,"Updates"),c.a.createElement("div",null,"Firewall"),c.a.createElement("div",{className:"fm"},"File Manager"),c.a.createElement("div",null,"Apps"),c.a.createElement("div",null,"Server"))),c.a.createElement("div",{className:"mobile-stat-menu"},c.a.createElement(Nn,{mobile:!0})),c.a.createElement("div",{className:"mobile-toolbar"},c.a.createElement(Je,{mobile:!0})))}}]),a}(n.Component)),kn=window.location.origin;function yn(e){return c.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",id:"_24x24_On_Light_Notification","data-name":"24x24/On Light/Notification",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("rect",{id:"view-box",width:"24",height:"24",fill:"none"}),c.a.createElement("path",{id:"Shape",d:"M6,17v-.5H2.25A2.253,2.253,0,0,1,0,14.25v-.382a2.542,2.542,0,0,1,1.415-2.289A1.248,1.248,0,0,0,2.1,10.572l.446-4.91a6.225,6.225,0,0,1,12.4,0l.446,4.91a1.26,1.26,0,0,0,.686,1.005,2.547,2.547,0,0,1,1.418,2.29v.382a2.252,2.252,0,0,1-2.25,2.25H11.5V17A2.75,2.75,0,0,1,6,17Zm1.5,0A1.25,1.25,0,0,0,10,17v-.5H7.5ZM4.045,5.8,3.6,10.708A2.738,2.738,0,0,1,2.089,12.92a1.055,1.055,0,0,0-.589.949v.382A.751.751,0,0,0,2.25,15h13A.751.751,0,0,0,16,14.25v-.382a1.054,1.054,0,0,0-.586-.948A2.739,2.739,0,0,1,13.9,10.708L13.456,5.8a4.725,4.725,0,0,0-9.411,0Z",transform:"translate(3.25 2.25)",fill:"#f8b014"}))}function _n(e){return c.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",id:"_24x24_On_Light_Notification-Alert","data-name":"24x24/On Light/Notification-Alert",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("rect",{id:"view-box",width:"24",height:"24",fill:"none"}),c.a.createElement("path",{id:"Shape",d:"M6,17v-.5H2.25A2.253,2.253,0,0,1,0,14.25v-.382a2.542,2.542,0,0,1,1.415-2.289A1.247,1.247,0,0,0,2.1,10.572l.446-4.91A6.227,6.227,0,0,1,10.618.286a5.477,5.477,0,0,0-.635,1.374A4.794,4.794,0,0,0,8.75,1.5,4.7,4.7,0,0,0,4.045,5.8L3.6,10.708A2.739,2.739,0,0,1,2.089,12.92a1.055,1.055,0,0,0-.589.949v.382A.751.751,0,0,0,2.25,15h13A.751.751,0,0,0,16,14.25v-.382a1.053,1.053,0,0,0-.586-.948A2.739,2.739,0,0,1,13.9,10.708l-.2-2.18a5.473,5.473,0,0,0,1.526.221l.166,1.822a1.26,1.26,0,0,0,.686,1.005,2.547,2.547,0,0,1,1.418,2.29v.382a2.252,2.252,0,0,1-2.25,2.25H11.5V17A2.75,2.75,0,0,1,6,17Zm1.5,0A1.25,1.25,0,0,0,10,17v-.5H7.5ZM15.047,6.744A3.486,3.486,0,0,1,13.5,6.28L13.456,5.8a4.7,4.7,0,0,0-1.648-3.185,3.5,3.5,0,0,1,.61-1.417A6.221,6.221,0,0,1,14.95,5.662l.1,1.081v0Z",transform:"translate(3.25 2.25)",fill:"#f8b014"}),c.a.createElement("path",{id:"Shape-2","data-name":"Shape",d:"M3.5,7A3.5,3.5,0,1,1,7,3.5,3.5,3.5,0,0,1,3.5,7Z",transform:"translate(15 2)",fill:"#f8b014"}))}a(269);var Sn=function(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(o.d)((function(e){return e.notifications})).notifications,a=Object(o.c)(),r=Object(n.useState)(!1),l=Object(y.a)(r,2),s=l[0],i=l[1];Object(n.useEffect)((function(){t||u()}),[t]);var u=function(){i(!0),me.a.get(kn+"/api/v1/list/notifications/index.php",{params:{ajax:1,token:Ie()}}).then((function(e){var t=[];for(var n in e.data.result)t.push(e.data.result[n]);a({type:"ADD_NOTIFICATIONS",value:t}),i(!1)})).catch((function(e){console.error(e),i(!1)}))},m=function(e){(function(e){return me.a.get(kn+"/api/v1/delete/notification/index.php",{params:{delete:1,notification_id:e,token:Ie()}})})(e).then((function(){u()})).catch((function(e){return console.error(e)}))};return c.a.createElement("div",{className:"btn-group"},c.a.createElement("button",{type:"button",className:"btn btn-danger dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},c.a.createElement("div",{className:"bell"},t&&t.length?c.a.createElement(_n,null):c.a.createElement(yn,null))),c.a.createElement("div",{className:"dropdown-menu"},s?"Loading":t&&t.length?t.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"dropdown-item"},c.a.createElement("span",{className:"title"},c.a.createElement("b",null,e.TOPIC)),c.a.createElement("span",{className:"delete-notification",onClick:function(){return m(e.ID)}})),c.a.createElement("div",null,Qe()(e.NOTICE)),c.a.createElement("div",{className:"dropdown-divider"}))})):c.a.createElement("div",{className:"dropdown-item",style:{cursor:"default",marginBottom:"10"}},c.a.createElement("span",{className:"title"},e["no notifications"]))))},wn=(a(270),function(e){var t,a=Object(o.d)((function(e){return e.session})),r=a.i18n,l=a.userName,s=a.session,i=s.look,m=s.user,d=Object(o.d)((function(e){return e.session})),E=Object(o.d)((function(e){return e.mainNavigation})),p=E.activeElement,v=E.focusedElement,f=Object(o.c)(),b=(Object(I.g)(),Object(n.useState)(!1)),g=Object(y.a)(b,2),h=g[0],O=g[1],N=Object(n.useState)({smallNavigationClass:"small-navigation hidden"}),j=Object(y.a)(N,2),k=j[0],_=j[1],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="top-link";return e===p&&(a+=" active"),e===v&&(a+=" focus"),a+" ".concat(t)},w=function(e,t){if("".concat(window.location.pathname).concat(window.location.search)===e)return t.preventDefault();f(Te(e))},M=function(){O(!0),f(xa()).then((function(){O(!1)}),(function(e){O(!1),console.error(e)}))};return c.a.createElement("div",{className:"panel-wrapper"},h&&c.a.createElement(T,null),c.a.createElement("div",{className:"top-panel ".concat(i?"long-profile":"")},c.a.createElement("div",{className:"container left-menu"},c.a.createElement("div",{className:"logo"},c.a.createElement(se.b,{to:"/list/user/",onClick:function(){return f(Te("/list/user/"))}},c.a.createElement("div",null,c.a.createElement("img",{src:"/images/white_logo.png",alt:"Logo"})))),"admin"===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:S("/list/package/")},c.a.createElement(se.b,{to:"/list/package/",onClick:function(e){return w("/list/package/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Packages)),c.a.createElement("div",{className:S("/list/ip/")},c.a.createElement(se.b,{to:"/list/ip/",onClick:function(e){return w("/list/ip/",e)},onKeyPress:function(e){return e.preventDefault()}},r.IP)),c.a.createElement("div",{className:S("/list/rrd/")},c.a.createElement(se.b,{to:"/list/rrd/",onClick:function(e){return w("/list/rrd/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Graphs))),c.a.createElement("div",{className:S("/list/stats/")},c.a.createElement(se.b,{to:"/list/stats/",onClick:function(e){return w("/list/stats/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Statistics)),c.a.createElement("div",{className:S("/list/log/")},c.a.createElement(se.b,{to:"/list/log/",onClick:function(e){return w("/list/log/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Log)),"admin"===l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:S("/list/updates/")},c.a.createElement(se.b,{to:"/list/updates/",onClick:function(e){return w("/list/updates/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Updates)),d.session.FIREWALL_SYSTEM&&c.a.createElement("div",{className:S("/list/firewall/")},c.a.createElement(se.b,{to:"/list/firewall/",onClick:function(e){return w("/list/firewall/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Firewall))),d.session.FILEMANAGER_KEY&&c.a.createElement("div",{className:S("/list/directory/")},c.a.createElement(se.b,{to:"/list/directory/"},r["File Manager"])),"yes"===d.session.SOFTACULOUS&&c.a.createElement("div",{className:S("/softaculous/")},c.a.createElement("a",{href:"/softaculous/"},null!==(t=r.Apps)&&void 0!==t?t:"Apps")),"admin"===l&&c.a.createElement("div",{className:S("/list/server/")},c.a.createElement(se.b,{to:"/list/server/",onClick:function(e){return w("/list/server/",e)},onKeyPress:function(e){return e.preventDefault()}},r.Server))),c.a.createElement("div",{className:"container profile-menu"},c.a.createElement(Sn,null),c.a.createElement("div",null,c.a.createElement(se.b,{to:"/edit/user?user=".concat(d.userName)},i?c.a.createElement("div",{className:"long-username"},c.a.createElement("span",null,m),c.a.createElement(P.a,{icon:"long-arrow-alt-right"}),c.a.createElement("span",null,i)):d.userName)),c.a.createElement("div",null,c.a.createElement("button",{onClick:M},r["Log out"])))),c.a.createElement("div",{className:"top-panel small-device"},c.a.createElement("div",{className:"container left-menu"},c.a.createElement("div",{className:"logo"},"LOGO")),c.a.createElement("div",{className:"container hamburger",onClick:function(t){e.showTopNav(),"small-navigation hidden"===k.smallNavigationClass?_(Object(u.a)(Object(u.a)({},k),{},{smallNavigationClass:"small-navigation show"})):_(Object(u.a)(Object(u.a)({},k),{},{smallNavigationClass:"small-navigation hidden"}))}},c.a.createElement("span",{className:"bar"}),c.a.createElement("span",{className:"bar"}),c.a.createElement("span",{className:"bar"})),c.a.createElement("div",{className:"container profile-menu"},c.a.createElement("div",{className:"bell"},c.a.createElement(P.a,{icon:"bell"})),c.a.createElement("div",null,c.a.createElement(se.b,{to:"/edit/user?user=".concat(d.userName)},d.userName)),c.a.createElement("div",null,c.a.createElement("button",{onClick:M},r["Log out"])))))}),Mn=(a(271),function(){var e=Object(I.g)(),t=Object(n.useState)(!0),a=Object(y.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)({menuHeight:135,tabs:[],showTopNav:!1}),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(o.d)((function(e){return e.session})),p=E.userName,v=E.session.look,f=Object(o.d)((function(e){return e.menuCounters})).user,b=Object(o.d)((function(e){return e.mainNavigation})),g=b.activeElement,h=b.focusedElement,O=b.adminMenuTabs,N=b.userMenuTabs,j=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,k=Object(o.c)();Object(n.useEffect)((function(){if(!p||!Object.entries(f).length)return e.push("/login");var t=v?N:O;d(Object(u.a)(Object(u.a)({},m),{},{tabs:t})),l(!1)}),[p,f,e]);var _=Object(n.useCallback)((function(t){var a;if(!(document.querySelector("input:focus")||document.querySelector("textarea:focus")||document.querySelector("textarea:focus"))&&(37!==t.keyCode&&39!==t.keyCode||(j&&k({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),h?a=m.tabs.indexOf(h):(k(xe(g)),a=m.tabs.indexOf(g))),-1!==a))if(37===t.keyCode){var n=S(m.tabs,a);k(xe(n))}else if(39===t.keyCode){var c=w(m.tabs,a);k(xe(c))}else 13===t.keyCode&&!j&&h&&h!==g&&(e.push({pathname:h}),k(Te(h)),k({type:"REMOVE_FOCUSED_ELEMENT",value:""}))}),[g,h,j]);Object(n.useEffect)((function(){return window.addEventListener("resize",M),window.addEventListener("keyup",_),window.addEventListener("scroll",A),function(){window.removeEventListener("resize",M),window.removeEventListener("keyup",_),window.removeEventListener("scroll",A)}}),[_]),Object(n.useEffect)((function(){k({type:"REMOVE_FOCUSED_ELEMENT",value:""})}),[g]),Object(n.useEffect)((function(){k(Te(e.location.pathname))}),[]);var S=function(e,t){return 0===t?e[e.length-1]:e[t-1]},w=function(e,t){return t===e.length-1?e[0]:e[t+1]},M=function(){document.documentElement.clientWidth<900?d(Object(u.a)(Object(u.a)({},m),{},{menuHeight:45})):d(Object(u.a)(Object(u.a)({},m),{},{menuHeight:135}))},A=function(){if(document.documentElement.clientWidth>900){var e=window.scrollY,t=Math.max(45,135-e);d(Object(u.a)(Object(u.a)({},m),{},{menuHeight:t}))}};return c.a.createElement("div",{className:"main-nav"},r?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(wn,{showTopNav:function(){var e=!m.showTopNav;d(Object(u.a)(Object(u.a)({},m),{},{showTopNav:e}))},visibleNav:m.showTopNav}),document.documentElement.clientWidth>900?c.a.createElement("div",{className:m.showTopNav?"nav-wrapper show-nav":"nav-wrapper hide-nav"},c.a.createElement(Nn,{menuHeight:m.menuHeight,mobile:!1})):c.a.createElement(jn,{class:m.showTopNav?"mobile-top-nav-wrapper show":"mobile-top-nav-wrapper hide"})))}),An=(a(272),function(e){var t=e.data,a=e.focused,n=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:a?"statistic-item focused":"statistic-item",id:t.NAME},c.a.createElement(He,{className:"l-col w-15"}),c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"stats"},c.a.createElement("div",{className:"name"},t.NAME),c.a.createElement("div",{className:"exclusion-items"},function(){if(Array.isArray(t.ITEMS))return n["no exclusions"];for(var e in t.ITEMS)return c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,e)," \xa0 ",t.ITEMS[e],c.a.createElement("br",null))}()))))}),Cn=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)({exclusions:[],loading:!1,total:0}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){return l(Te("/list/backup/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),b(),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",E),function(){window.removeEventListener("keydown",E)}}),[a,r,m.exclusions]);var E=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),f()):40===e.keyCode&&(e.preventDefault(),v())},p=function(e){e[0].FOCUSED=e[0].NAME,d(Object(u.a)(Object(u.a)({},m),{},{exclusions:e})),l(it(e[0].NAME))},v=function(){var e=Object(x.a)(m.exclusions);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{exclusions:e})),l(it(n.NAME))}}else p(e)},f=function(){var e=Object(x.a)(m.exclusions);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{exclusions:e})),l(it(n.NAME))}}else p(e)},b=function(){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.get(ot+"".concat("/api/v1/list/backup/exclusions/index.php")).then((function(e){d({exclusions:g(e.data.data),loading:!1})})).catch((function(e){return console.error(e)}))},g=function(e){var t=[];for(var a in e)t.push({NAME:a,ITEMS:e[a]});return t};return c.a.createElement("div",{className:"exclusions-list"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.BACKUP))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{href:"/edit/backup/exclusions",list:"server",name:t.configure,showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"exclusions-wrapper"},m.loading?c.a.createElement(T,null):m.exclusions.map((function(e,t){return c.a.createElement(An,{data:e,key:t,focused:a===e.NAME})}))))};function Dn(e){var t,a,n=e.data,r=e.domain,l=Object(o.d)((function(e){return e.session})).i18n;localStorage.getItem("token");return c.a.createElement(vt,{id:n.NAME,focused:n.FOCUSED,checked:n.isChecked,date:n.DATE,starred:n.STARRED,toggleFav:function(t){t?e.toggleFav(e.data.NAME,"add"):e.toggleFav(e.data.NAME,"delete")},checkItem:function(){e.checkItem(e.data.NAME)},suspended:"yes"===n.SUSPENDED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},"".concat(n.NAME,"@").concat(r)),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"bandwidth"},l.Disk," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},n.U_DISK),"\xa0",l.mb))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,l.Quota,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},n.QUOTA),"\xa0 ",l.mb)),c.a.createElement("div",null,l["Forward to"],": ",c.a.createElement("span",{className:"stat email"},n.FWD))),c.a.createElement(He,{className:"c-3"},(t=l.Autoreply,"no"===(a=n.AUTOREPLY)?c.a.createElement("div",{className:"crossed"},t):c.a.createElement("div",null,t,": ",c.a.createElement("span",{className:"stat"},a)))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/mail/?domain=".concat(r,"&account=").concat(n.NAME)},l.edit,n.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var t="yes"===n.SUSPENDED?"unsuspend":"suspend";e.handleModal(n.suspend_conf,"/api/v1/".concat(t,"/mail/index.php?domain=").concat(r,"&account=").concat(n.NAME))}()}},l[n.suspend_action],n.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===n.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(n.delete_conf,"/api/v1/delete/mail/index.php?domain=".concat(r,"&account=").concat(n.NAME))}},l.Delete,n.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}a(273);function Fn(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({mailAccounts:[],mailAccountsFav:[],domain:e.domain,toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.mailAccounts]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.mailAccounts);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.mailAccounts);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return A();case 13:return w();case 83:return M()}},w=function(){e.history.push("/edit/mail?domain=".concat(e.domain,"&account=").concat(a))},M=function(){var t=h.mailAccounts.filter((function(e){return e.NAME===a}))[0],n="yes"===t.SUSPENDED?"unsuspend":"suspend";R(t.suspend_conf,"/api/v1/".concat(n,"/mail/index.php?domain=").concat(e.domain,"&account=").concat(a))},A=function(){var t=h.mailAccounts.filter((function(e){return e.NAME===a}))[0];R(t.delete_conf,"/api/v1/delete/mail/index.php?domain=".concat(e.domain,"&account=").concat(a))},C=function(){return d(!0),new Promise((function(t,a){var n;(n=e.domain,me.a.get("".concat(va).concat("/api/v1/list/mail/index.php","?domain=").concat(n))).then((function(e){O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:D(e.data.data),webMail:e.data.webmail,selection:[],toggledAll:!1,mailAccountsFav:e.data.mailAccountsFav,totalAmount:e.data.totalAmount})),t()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=h.selection,a=h.mailAccounts,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:c,selection:n}))},L=function(e){var t=h.order,a=h.sorting,n=U(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},U=function(e){var a=t.Date,n=t.Accounts,c=t.Disk,r=t.Starred;switch(e){case a:return"DATE";case n:return"ACCOUNTS";case c:return"U_DISK";case r:return"STARRED"}},I=function(e,t){var a=h.mailAccountsFav;"add"===t?(a[e]=1,Et(e,"mail_acc").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{mailAccountsFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"mail_acc").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{mailAccountsFav:a}))})).catch((function(e){console.error(e)})))},P=function(e){var t=Object(x.a)(h.mailAccounts);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{mailAccounts:c,selection:[],toggledAll:e}))}},R=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},V=function(){l(Ye()).then((function(){return d(!1)}))},B=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"mail-accounts"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add Mail Account"],href:"/add/mail/?domain=".concat(e.domain),showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("a",{href:h.webMail,className:"button-extra",type:"submit"},t["open webmail"]),c.a.createElement(gt,{toggleAll:P,toggled:h.toggledAll}),c.a.createElement(ht,{list:"mailList",bulkAction:function(t){var a=h.selection;a.length&&t&&(d(!0),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=new FormData;return n.append("action",e),n.append("token",Ie()),n.append("domain",t),a.forEach((function(e){n.append("account[]",e)})),me.a.post(va+"/api/v1/bulk/mail/",n)}(t,e.domain,a).then((function(e){200===e.status&&(P(!1),C().then((function(){return V()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"mailAccountList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mail-accounts-wrapper"},c.a.createElement("div",{className:"subtitle"},c.a.createElement("span",null,"".concat(t.Listing,"  ").concat(h.domain))),function(){var e=h.mailAccounts,t=Object(u.a)({},h.mailAccountsFav),n=[];return e.forEach((function(e){e.FOCUSED=a===e.NAME,t[e.NAME]?e.STARRED=t[e.NAME]:e.STARRED=0,n.push(e)})),L(n).map((function(e,t){return c.a.createElement(Dn,{data:e,key:t,domain:h.domain,toggleFav:I,checkItem:F,handleModal:R})}))}()),c.a.createElement("div",{className:"footer-actions-wrapper"},c.a.createElement("div",{className:"total"},h.totalAmount),c.a.createElement("div",{className:"back"},c.a.createElement(se.b,{to:"/list/mail/"},t.Back)))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return B();B(),d(!0),ba(v.actionUrl).then((function(e){if(e.data.error)return d(!1),R(e.data.error,"");C().then((function(){return V()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:B,show:v.visible,text:v.text}))}a(274);var xn=function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n,n=(localStorage.getItem("token"),function(e,t){return"no"===t?c.a.createElement("div",{className:"crossed"},e):c.a.createElement("div",null,e,": ",c.a.createElement("span",{className:"stat"},t))});return c.a.createElement(vt,{id:t.NAME,focused:t.FOCUSED,checked:t.isChecked,date:t.DATE,starred:t.STARRED,toggleFav:function(t){t?e.toggleFav(e.data.NAME,"add"):e.toggleFav(e.data.NAME,"delete")},checkItem:function(){e.checkItem(e.data.NAME)},suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.NAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"bandwidth"},a.Disk," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK),a.mb))),c.a.createElement(He,{className:"c-2"},n(a["AntiVirus Support"],t.ANTIVIRUS),n(a["DKIM Support"],t.DKIM)),c.a.createElement(He,{className:"c-3"},n(a["AntiSpam Support"],t.ANTISPAM),c.a.createElement("div",null,a["Catchall email"],": ",c.a.createElement("span",{className:"stat catchall-mail"},t.CATCHALL))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-gray",to:"/list/mail/?domain=".concat(t.NAME)},t.list_accounts_button,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"list"}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/add/mail/?domain=".concat(t.NAME)},a["add account"],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"N"):c.a.createElement(P.a,{icon:"plus"}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/mail/?domain=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var a="yes"===t.SUSPENDED?"unsuspend":"suspend";e.handleModal(t.suspend_conf,"/api/v1/".concat(a,"/mail/index.php?domain=").concat(t.NAME))}()}},a[t.suspend_action],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/mail/index.php?domain=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))},Tn=(a(275),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({mails:[],mailFav:[],toggledAll:!1,webMail:"",sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/mail/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),F().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.mails]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{mails:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.mails);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{mails:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.mails);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{mails:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return D();case 13:return A();case 76:return M();case 78:return w();case 83:return C()}},w=function(){e.history.push("/add/mail/?domain=".concat(a))},M=function(){e.history.push("/list/mail?domain=".concat(a,"&type=access"))},A=function(){e.history.push("/edit/mail?domain=".concat(a))},C=function(){var e=h.mails.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";B(e.suspend_conf,"/api/v1/".concat(t,"/mail/index.php?domain=").concat(a))},D=function(){var e=h.mails.filter((function(e){return e.NAME===a}))[0];B(e.delete_conf,"/api/v1/delete/mail/index.php?domain=".concat(a))},F=function(){return d(!0),new Promise((function(e,t){fa().then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{mails:L(t.data.data),webMail:t.data.webMail,mailFav:t.data.mailFav,selection:[],toggledAll:!1,totalAmount:t.data.totalAmount})),e()})).catch((function(e){return console.error(e)}))}))},L=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},U=function(e){var t=h.selection,a=h.mails,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{mails:c,selection:n}))},I=function(e){var t=h.order,a=h.sorting,n=P(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},P=function(e){var a=t.Date,n=t.Domains,c=t.Accounts,r=t.Disk,l=t.Starred;switch(e){case a:return"DATE";case n:return"domain_account";case c:return"ACCOUNTS";case r:return"U_DISK";case l:return"STARRED"}},R=function(e,t){var a=h.mailFav;"add"===t?(a[e]=1,Et(e,"mail").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{mailFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"mail").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{mailFav:a}))})).catch((function(e){console.error(e)})))},V=function(e){var t=Object(x.a)(h.mails);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{mails:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{mails:c,selection:[],toggledAll:e}))}},B=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},W=function(){l(Ye()).then((function(){return d(!1)}))},H=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"mails"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.MAIL))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:"Add Mail Domain",href:"/add/mail",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement("a",{href:h.webMail,className:"button-extra",type:"submit"},t["open webMail"]),c.a.createElement(gt,{toggleAll:V,toggled:h.toggledAll}),c.a.createElement(ht,{list:"mailList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("domain[]",e)})),me.a.post(va+"/api/v1/bulk/mail/",a)}(e,t).then((function(e){200===e.status&&(V(!1),F().then((function(){return W()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"mailList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"mails-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=h.mails,t=Object(u.a)({},h.mailFav),n=[];return e.forEach((function(e){e.FOCUSED=a===e.NAME,t[e.NAME]?e.STARRED=t[e.NAME]:e.STARRED=0,n.push(e)})),I(n).map((function(e,t){return c.a.createElement(xn,{data:e,key:t,toggleFav:R,checkItem:U,handleModal:B})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return H();H(),d(!0),ba(v.actionUrl).then((function(e){if(e.data.error)return d(!1),B(e.data.error,"");F().then((function(){return W()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:H,show:v.visible,text:v.text}))});function Ln(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(n.useState)(""),r=Object(y.a)(a,2),l=r[0],s=r[1],i=Object(I.g)();return Object(n.useEffect)((function(){var e=Ee.a.parse(i.location.search,{ignoreQueryPrefix:!0});e.domain?s(e.domain):s("")}),[i.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.MAIL))),l?c.a.createElement(Fn,Object.assign({},e,{domain:l,changeSearchTerm:e.handleSearchTerm})):c.a.createElement(Tn,Object.assign({},e,{changeSearchTerm:e.handleSearchTerm})))}function Un(e){var t=e.data,a=e.domain,n=e.handleModal,r=Object(k.a)(e,["data","domain","handleModal"]),l=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,date:t.DATE,toggleFav:function(e){e?r.toggleFav(t.NAME,"add"):r.toggleFav(t.NAME,"delete")},checkItem:function(){r.checkItem(t.NAME)},starred:t.STARRED,focused:t.FOCUSED,checked:t.isChecked,suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.dnsRecord),c.a.createElement("br",null),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("span",{className:"stat"},"".concat(t.RECORD.substring(0,12)).concat(t.RECORD.length>12?"...":""))),c.a.createElement(He,{className:"c-2"},c.a.createElement("span",{className:"stat"},t.TYPE)),c.a.createElement(He,{className:"c-3"},c.a.createElement("span",{className:"stat"},t.PRIORITY)),c.a.createElement(He,{className:"c-4 long-value"},c.a.createElement("span",{className:"stat"},t.VALUE)))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/dns/?domain=".concat(a,"&record_id=").concat(t.ID)},l.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){n(t.suspend_conf,"/api/v1/".concat(t.suspend_action,"/dns/?domain=").concat(a,"&record_id=").concat(t.ID))}},t.suspend_action,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){n(t.delete_conf,"/api/v1/delete/dns/?domain=".concat(a,"&record_id=").concat(t.ID))}},l.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}a(276);function In(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(I.g)(),i=Object(n.useState)(!1),m=Object(y.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)({text:"",visible:!1,actionUrl:""}),v=Object(y.a)(p,2),f=v[0],b=v[1],g=Object(n.useState)({dnsRecords:[],dnsRecordFav:[],domain:"",toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),h=Object(y.a)(g,2),O=h[0],N=h[1];Object(n.useEffect)((function(){return l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),C().then((function(){return E(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",j),window.addEventListener("keydown",w),function(){window.removeEventListener("keydown",j),window.removeEventListener("keydown",w)}}),[a,r,O.dnsRecords]);var j=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),S()):40===e.keyCode&&(e.preventDefault(),_())},k=function(e){e[0].FOCUSED=e[0].NAME,N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:e})),l(it(e[0].NAME))},_=function(){var e=Object(x.a)(O.dnsRecords);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:e})),l(it(n.NAME))}}else k(e)},S=function(){var e=Object(x.a)(O.dnsRecords);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:e})),l(it(n.NAME))}}else k(e)},w=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t){if(13===e.keyCode)return M();if(8===e.keyCode)return A()}},M=function(){e.history.push("/edit/dns/?domain=".concat(a))},A=function(){var e=O.databases.filter((function(e){return e.NAME===a}))[0];P(e.delete_conf,"/api/v1/delete/database/?domain=".concat(a))},C=function(){var e=Ee.a.parse(s.location.search,{ignoreQueryPrefix:!0});return E(!0),new Promise((function(t,a){var n;(n=e.domain||"",me.a.get("".concat(Sa).concat("/api/v1/list/dns/index.php","?domain=").concat(n))).then((function(a){N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:D(a.data.data),dnsRecordFav:a.data.dnsRecordsFav,totalAmount:a.data.totalAmount,domain:e.domain,toggledAll:!1,selection:[]})),t()})).catch((function(e){return console.error(e)}))}))},D=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},F=function(e){var t=O.selection,a=O.dnsRecords,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:c,selection:n}))},L=function(e,t){var a=O.dnsRecordFav;"add"===t?(a[e]=1,Et(e,"dns_rec").then((function(){N(Object(u.a)(Object(u.a)({},O),{},{dnsRecordFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"dns_rec").then((function(){N(Object(u.a)(Object(u.a)({},O),{},{dnsRecordFav:a}))})).catch((function(e){console.error(e)})))},U=function(e){var t=Object(x.a)(O.dnsRecords);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));N(Object(u.a)(Object(u.a)({},O),{},{dnsRecords:c,selection:[],toggledAll:e}))}},P=function(e,t){b(Object(u.a)(Object(u.a)({},f),{},{visible:!0,text:e,actionUrl:t}))},R=function(){l(Ye()).then((function(){return E(!1)}))},V=function(){b(Object(u.a)(Object(u.a)({},f),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"dns-records"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add DNS Record"],href:"/add/dns/?domain=".concat(O.domain),showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:U,toggled:O.toggledAll}),c.a.createElement(ht,{list:"dnsList",bulkAction:function(e){var t=O.selection;t.length&&e&&(E(!0),function(e,t,a){var n=new FormData;return n.append("action",e),n.append("token",Ie()),n.append("domain",a),t.forEach((function(e){n.append("record[]",e)})),me.a.post(Sa+"/api/v1/bulk/dns/",n)}(e,t,O.domain).then((function(e){200===e.status&&(U(!1),C().then((function(){return R()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),d?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"dns-records-wrapper"},c.a.createElement("div",{className:"subtitle"},c.a.createElement("span",null,"".concat(t.Listing,"  ").concat(O.domain))),function(){var e=O.dnsRecords,t=[],n=Object(u.a)({},O.dnsRecordFav);return e.forEach((function(e){e.FOCUSED=a===e.NAME,n[e.NAME]?e.STARRED=n[e.NAME]:e.STARRED=0,t.push(e)})),t.map((function(e,t){return c.a.createElement(Un,{data:e,key:t,domain:O.domain,toggleFav:L,checkItem:F,handleModal:P})}))}()),c.a.createElement("div",{className:"footer-actions-wrapper"},c.a.createElement("div",{className:"total"},O.totalAmount),c.a.createElement("div",{className:"back"},c.a.createElement(se.b,{to:"/list/dns/"},t.Back)))),c.a.createElement(Ot,{onSave:function(){if(!f.actionUrl)return V();V(),E(!0),wa(f.actionUrl).then((function(e){if(e.data.error)return E(!1),P(e.data.error,"");C().then((function(){return R()}))})).catch((function(e){E(!1),console.error(e)}))},onCancel:V,show:f.visible,text:f.text}))}a(277);var Pn=function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;localStorage.getItem("token");return c.a.createElement(vt,{id:t.NAME,checked:t.isChecked,starred:t.STARRED,date:t.DATE,toggleFav:function(t){t?e.toggleFav(e.data.NAME,"add"):e.toggleFav(e.data.NAME,"delete")},checkItem:function(){e.checkItem(e.data.NAME)},suspended:"yes"===t.SUSPENDED,focused:t.FOCUSED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.NAME," ",c.a.createElement("span",{className:"dns-records"},"/ ",t.RECORDS)),c.a.createElement("br",null),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1 w-35"},c.a.createElement("div",{className:"ip"},t.IP),c.a.createElement("div",{className:"soa"},c.a.createElement("span",{className:"stat"},t.SOA))),c.a.createElement(He,{className:"c-2 w-30"},c.a.createElement("div",null,a.TTL,": ",c.a.createElement("span",{className:"stat"},t.TTL)),c.a.createElement("div",null,a.Serial,": ",c.a.createElement("span",{className:"stat"},t.SERIAL))),c.a.createElement(He,{className:"c-3 w-35"},c.a.createElement("div",null,a.Template,": ",c.a.createElement("span",{className:"stat"},t.TPL)),c.a.createElement("div",null,a.Expire,": ",c.a.createElement("span",{className:"stat"},t.EXP))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-gray",to:"/list/dns/?domain=".concat(t.NAME)},t.RECORDS_I18N,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"list"}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/add/dns/?domain=".concat(t.NAME)},a["add record"],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"N"):c.a.createElement(P.a,{icon:"plus"}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/dns/?domain=".concat(t.NAME)},a.edit,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){return function(){var a="yes"===t.SUSPENDED?"unsuspend":"suspend";e.handleModal(t.suspend_conf,"/api/v1/".concat(a,"/dns/index.php?domain=").concat(t.NAME))}()}},a[t.suspend_action],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"link-delete",onClick:function(){e.handleModal(t.delete_conf,"/api/v1/delete/dns/index.php?domain=".concat(t.NAME))}},a.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))},Rn=(a(278),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({domainNameSystems:[],dnsFav:[],toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/dns/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),F().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.domainNameSystems]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.domainNameSystems);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.domainNameSystems);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 8:return D();case 13:return A();case 76:return M();case 78:return w();case 83:return C()}},w=function(){e.history.push("/add/dns/?domain=".concat(a))},M=function(){e.history.push("/list/dns?domain=".concat(a,"&type=access"))},A=function(){e.history.push("/edit/dns?domain=".concat(a))},C=function(){var e=h.domainNameSystems.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";B(e.suspend_conf,"/api/v1/".concat(t,"/dns/index.php?domain=").concat(a))},D=function(){var e=h.domainNameSystems.filter((function(e){return e.NAME===a}))[0];B(e.delete_conf,"/api/v1/delete/dns/index.php?domain=".concat(a))},F=function(){return d(!0),new Promise((function(e,t){me.a.get(Sa+"/api/v1/list/dns/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:L(t.data.data),dnsFav:t.data.dnsFav,selection:[],toggledAll:!1,totalAmount:t.data.totalAmount})),e()})).catch((function(e){return console.error(e)}))}))},L=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].RECORDS=Number(e[n].RECORDS),e[n].FOCUSED=a===n,t.push(e[n]);return t},U=function(e){var t=h.selection,a=h.domainNameSystems,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:c,selection:n}))},I=function(e){var t=h.order,a=h.sorting,n=P(a);return"descending"===t?e.sort((function(e,t){var a=e[n],c=t[n];return a<c?1:c<a?-1:0})):e.sort((function(e,t){var a=e[n],c=t[n];return a>c?1:c>a?-1:0}))},P=function(e){var a=t.Date,n=t.Expire,c=t.Domain,r=t.IP,l=t.Records,o=t.Starred;switch(e){case a:return"DATE";case n:return"EXP";case c:return"NAME";case r:return"IP";case l:return"RECORDS";case o:return"STARRED"}},R=function(e,t){var a=h.dnsFav;"add"===t?(a[e]=1,Et(e,"dns").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{dnsFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"dns").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{dnsFav:a}))})).catch((function(e){console.error(e)})))},V=function(e){var t=Object(x.a)(h.domainNameSystems);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{domainNameSystems:c,selection:[],toggledAll:e}))}},B=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},W=function(){l(Ye()).then((function(){return d(!1)}))},H=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"dns"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DNS))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add DNS Domain"],href:"/add/dns",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:V,toggled:h.toggledAll}),c.a.createElement(ht,{list:"dnsList",bulkAction:function(e){var t=h.selection;t.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("domain[]",e)})),me.a.post(Sa+"/api/v1/bulk/dns/",a)}(e,t).then((function(e){200===e.status&&(V(!1),F().then((function(){return W()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"dnsList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"dns-wrapper"},m?c.a.createElement(T,null):function(){var e=h.domainNameSystems,t=Object(u.a)({},h.dnsFav),n=[];return e.forEach((function(e){e.FOCUSED=a===e.NAME,t[e.NAME]?e.STARRED=t[e.NAME]:e.STARRED=0,n.push(e)})),I(n).map((function(e,t){return c.a.createElement(Pn,{data:e,key:t,toggleFav:R,checkItem:U,handleModal:B})}))}()),c.a.createElement("div",{className:"total"},h.totalAmount),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return H();H(),d(!0),wa(v.actionUrl).then((function(e){if(e.data.error)return d(!1),B(e.data.error,"");F().then((function(){return W()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:H,show:v.visible,text:v.text}))});function Vn(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Ee.a.parse(a.location.search,{ignoreQueryPrefix:!0}),l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){r.domain?u(!0):u(!1)}),[a.location]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.DNS))),i?c.a.createElement(In,Object.assign({},e,{changeSearchTerm:e.changeSearchTerm})):c.a.createElement(Rn,Object.assign({},e,{changeSearchTerm:e.changeSearchTerm})))}var Bn=window.location.origin,Wn=(a(279),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:t.FOCUSED?"statistic-item focused":"statistic-item",id:t.NAME},c.a.createElement(He,{className:"l-col w-15"},function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return c.a.createElement("div",{className:"date"},a," \xa0 ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]," \xa0 ",r)}(t.DATE)),c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},function(e){var t=new Date(e),a=t.getMonth(),n=t.getFullYear();return c.a.createElement("div",{className:"date"},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]," \xa0 ",n)}(t.DATE)),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"bandwidth"},a.Bandwidth," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_BANDWIDTH),a.mb)),c.a.createElement("div",{className:"disk"},a.Disk,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK),a.mb)),c.a.createElement("div",{className:"sub-disk-stats"},c.a.createElement("div",null,c.a.createElement("div",null,a.Web,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK_WEB),a.mb)),c.a.createElement("div",null,a.Mail,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK_MAIL),a.mb))),c.a.createElement("div",null,c.a.createElement("div",null,a.Databases,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DATABASES),a.mb)),c.a.createElement("div",null,a["User Directories"],": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},t.U_DISK_DIRS),a.mb))))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,c.a.createElement("span",null,a["Web Domains"],":")," ",c.a.createElement("span",{className:"stat"},t.U_WEB_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,a["SSL Domains"],":")," ",c.a.createElement("span",{className:"stat"},t.U_WEB_SSL)),c.a.createElement("div",null,c.a.createElement("span",null,a["Web Aliases"],":")," ",c.a.createElement("span",{className:"stat"},t.U_WEB_ALIASES)),c.a.createElement("div",null,c.a.createElement("span",null,a["DNS Domains"],":")," ",c.a.createElement("span",{className:"stat"},t.U_DNS_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,a["DNS records"],":")," ",c.a.createElement("span",{className:"stat"},t.U_DNS_RECORDS))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,c.a.createElement("span",null,a["Mail Domains"],":")," ",c.a.createElement("span",{className:"stat"},t.U_MAIL_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,a["Mail Accounts"],":")," ",c.a.createElement("span",{className:"stat"},t.U_MAIL_ACCOUNTS)),c.a.createElement("div",null,c.a.createElement("span",null,a.Databases,":")," ",c.a.createElement("span",{className:"stat"},t.U_DATABASES)),c.a.createElement("div",null,c.a.createElement("span",null,a["Cron Jobs"],":")," ",c.a.createElement("span",{className:"stat"},t.U_CRON_JOBS)),c.a.createElement("div",null,c.a.createElement("span",null,a["IP Addresses"],":")," ",c.a.createElement("span",{className:"stat"},t.IP_OWNED))))))}),Hn=(a(280),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)({statistics:[],users:[],totalAmount:"",loading:!1}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){return l(Te("/list/stats/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),b(),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",E),function(){window.removeEventListener("keydown",E)}}),[a,r,m.statistics]);var E=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),f()):40===e.keyCode&&(e.preventDefault(),v())},p=function(e){e[0].FOCUSED=e[0].NAME,d(Object(u.a)(Object(u.a)({},m),{},{statistics:e})),l(it(e[0].NAME))},v=function(){var e=Object(x.a)(m.statistics);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{statistics:e})),l(it(n.NAME))}}else p(e)},f=function(){var e=Object(x.a)(m.statistics);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{statistics:e})),l(it(n.NAME))}}else p(e)},b=function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),d(Object(u.a)(Object(u.a)({},m),{},{loading:!0}));var e=window.location.search;(function(e){return me.a.get(Bn+"/api/v1/list/stats/index.php?user="+e)})(e?e.split("=")[1]:"").then((function(e){d(Object(u.a)(Object(u.a)({},m),{},{statistics:g(e.data.data),users:e.data.users||[],totalAmount:e.data.totalAmount,loading:!1}))})).catch((function(e){return console.error(e)}))},g=function(e){var t=[];for(var n in e)e[n].DATE=n,e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t};return c.a.createElement("div",{className:"statistics-list"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.STATS))),c.a.createElement(Je,{mobile:!1,className:"justify-right"},c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(se.b,{to:"/list/stats/",className:"button-extra",type:"submit"},t["Overall Statistics"]),c.a.createElement(ht,{list:"statisticsList",users:m.users,bulkAction:function(t){var a=""!==t?"?user=".concat(t):"";e.history.push({search:a}),b()}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"statistics-wrapper"},m.loading?c.a.createElement(T,null):function(){var e=Object(x.a)(m.statistics);return e.forEach((function(e){e.FOCUSED=a===e.NAME})),e.map((function(e,t){return c.a.createElement(Wn,{data:e,key:t})}))}()),c.a.createElement("div",{className:"total"},m.totalAmount))}),qn=(a(281),function(e){var t,a=e.data,n=e.toggleFav,r=e.handleModal,l=e.checkItem,s=Object(o.d)((function(e){return e.session})),i=s.i18n,u=(s.userName,Object(o.d)((function(e){return e.session}))),m=Object(o.c)(),d=function(){m(xa())};return c.a.createElement(vt,{id:a.NAME,date:a.DATE,checked:a.isChecked,starred:a.STARRED,toggleFav:function(e){n(a.NAME,e?"add":"delete")},checkItem:function(){l(a.NAME)},focused:a.FOCUSED,suspended:"yes"===a.SUSPENDED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},a.NAME),c.a.createElement("div",null,a.FNAME," ",a.LNAME),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"bandwidth"},i.Bandwidth," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},a.U_BANDWIDTH)," ",i.mb)),c.a.createElement("div",{className:"disk"},i.Disk,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},a.U_DISK)," ",i.mb)),c.a.createElement("div",{className:"sub-disk-stats"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("span",null,i.Web,":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DISK_WEB)," ",i.mb)),c.a.createElement("div",null,c.a.createElement("span",null,i.Mail,":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DISK_MAIL)," ",i.mb))),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("span",null,i.Databases,":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DATABASES)," ",i.mb)),c.a.createElement("div",null,c.a.createElement("span",null,i["User Directories"],":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DISK_DIRS)," ",i.mb))))),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",null,c.a.createElement("span",null,i["Web Domains"],":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_WEB_DOMAINS)," / ",a.WEB_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,i["DNS Domains"],":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DNS_DOMAINS)," / ",a.DNS_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,i["Mail Domains"],":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_MAIL_DOMAINS)," / ",a.MAIL_DOMAINS)),c.a.createElement("div",null,c.a.createElement("span",null,i.Databases,":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_DATABASES)," / ",a.DATABASES)),c.a.createElement("div",null,c.a.createElement("span",null,i["Cron Jobs"],":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_CRON_JOBS)," / ",a.CRON_JOBS)),c.a.createElement("div",null,c.a.createElement("span",null,i.Backups,":")," ",c.a.createElement("span",null,c.a.createElement("b",null,a.U_BACKUPS)," / ",a.BACKUPS))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",null,c.a.createElement("span",null,i.Email,":")," ",c.a.createElement("span",{className:"stat email"},a.CONTACT)),c.a.createElement("div",null,c.a.createElement("span",null,i.Package,":")," ",c.a.createElement("span",{className:"stat"},a.PACKAGE)),c.a.createElement("div",null,c.a.createElement("span",null,i["SSH Access"],":")," ",c.a.createElement("span",{className:"stat"},a.SHELL)),c.a.createElement("div",null,c.a.createElement("span",null,i["IP Addresses"],":")," ",c.a.createElement("span",{className:"stat"},a.IP_OWNED)),c.a.createElement("div",{className:"ns"},c.a.createElement("span",null,i["Name Servers"],":")," ",c.a.createElement("span",{className:"stat"},a.NS.split(",").map((function(e,t){return c.a.createElement("div",{key:t},e)}))))))),c.a.createElement("div",{className:"actions"},(t=a.NAME,u.userName===t?c.a.createElement("div",null,c.a.createElement("button",{onClick:d},i["Log out"],a.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"user-lock"}))):c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){m(Fa(t))}},i["login as"]," ",t,a.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"user-lock"})))),c.a.createElement("div",null,c.a.createElement(se.b,{to:"/edit/user?user=".concat(a.NAME)},i.edit,a.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){var e="yes"===a.SUSPENDED?"unsuspend":"suspend";r(a.spnd_conf,"/api/v1/".concat(e,"/user/index.php?user=").concat(a.NAME))}},a.spnd_action,a.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===a.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){r(a.delete_conf,"/api/v1/delete/user/index.php?user=".concat(a.NAME))}},i.Delete,a.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}),Jn=(a(282),function(e){var t=Object(o.d)((function(e){return e.session})),a=t.userName,r=t.i18n,l=t.session.look,s=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,i=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,m=Object(o.c)(),d=Object(n.useState)(!1),E=Object(y.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)({text:"",visible:!1,actionUrl:""}),b=Object(y.a)(f,2),g=b[0],h=b[1],O=Object(n.useState)({users:[],userFav:[],toggledAll:!1,sorting:r.Date,order:"descending",selection:[],totalAmount:""}),N=Object(y.a)(O,2),j=N[0],k=N[1];Object(n.useEffect)((function(){return m(Te("/list/user/")),m({type:"REMOVE_FOCUSED_ELEMENT",value:""}),m({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),_().then((function(){return v(!1)})),function(){m({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",D),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",D),window.removeEventListener("keydown",S)}}),[s,i,j.users]);var _=function(){return v(!0),new Promise((function(e,t){me.a.get(qa+"/api/v1/list/user/index.php",{params:{token:Ie()}}).then((function(t){k(Object(u.a)(Object(u.a)({},j),{},{users:I(t.data.data),userFav:t.data.userFav,totalAmount:t.data.totalAmount,toggledAll:!1,selection:[]})),e()})).catch((function(e){return console.error(e)}))}))},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(s&&!t)switch(e.keyCode){case 76:return w();case 83:return A();case 8:return C();case 13:return M()}},w=function(){a===s?e.history.push("/logout"):e.history.push("/login/?loginas=".concat(s))},M=function(){e.history.push("/edit/user?user=".concat(s))},A=function(){var e=j.users.filter((function(e){return e.NAME===s}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";H(e.spnd_conf,"/api/v1/".concat(t,"/user/index.php?user=").concat(s))},C=function(){var e=j.users.filter((function(e){return e.NAME===s}))[0];H(e.delete_conf,"/api/v1/delete/user/index.php?user=".concat(s))},D=function(e){38!==e.keyCode&&40!==e.keyCode||i&&m({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),U()):40===e.keyCode&&(e.preventDefault(),L())},F=function(e){e[0].FOCUSED=e[0].NAME,k(Object(u.a)(Object(u.a)({},j),{},{users:e})),m(it(e[0].NAME))},L=function(){var e=Object(x.a)(j.users);if(""!==s){var t=e.findIndex((function(e){return e.NAME===s}));if(t!==e.length-1){var a=e[t+1];e[t].FOCUSED="",a.FOCUSED=a.NAME,document.getElementById(a.NAME).scrollIntoView({behavior:"smooth",block:"center"}),k(Object(u.a)(Object(u.a)({},j),{},{users:e})),m(it(a.NAME))}}else F(e)},U=function(){var e=Object(x.a)(j.users);if(""!==s){var t=e.findIndex((function(e){return e.NAME===s}));if(0!==t){var a=e[t-1];e[t].FOCUSED="",a.FOCUSED=a.NAME,document.getElementById(a.NAME).scrollIntoView({behavior:"smooth",block:"center"}),k(Object(u.a)(Object(u.a)({},j),{},{users:e})),m(it(a.NAME))}}else F(e)},I=function(e){var t=[];for(var a in e)e[a].NAME=a,e[a].isChecked=!1,e[a].FOCUSED=s===a,t.push(e[a]);return t},P=function(e){var t=j.selection,a=j.users,n=Object(x.a)(t),c=Object(x.a)(a),r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),k(Object(u.a)(Object(u.a)({},j),{},{users:c,selection:n}))},R=function(e){var t=V(j.sorting);return"descending"===j.order?e.sort((function(e,a){return e[t]<a[t]?1:a[t]<e[t]?-1:0})):e.sort((function(e,a){return e[t]>a[t]?1:a[t]>e[t]?-1:0}))},V=function(e){var t=r.Date,a=r.Username,n=r.Disk,c=r.Bandwidth,l=r.Starred;switch(e){case t:return"DATE";case a:return"NAME";case n:return"U_DISK";case c:return"U_BANDWIDTH";case l:return"STARRED"}},B=function(e,t){var a=j.userFav;"add"===t?(a[e]=1,Et(e,"user").then((function(){k(Object(u.a)(Object(u.a)({},j),{},{userFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"user").then((function(){k(Object(u.a)(Object(u.a)({},j),{},{userFav:a}))})).catch((function(e){console.error(e)})))},W=function(e){var t=Object(x.a)(j.users);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));k(Object(u.a)(Object(u.a)({},j),{},{users:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));k(Object(u.a)(Object(u.a)({},j),{},{users:c,selection:[],toggledAll:e}))}},H=function(e,t){h(Object(u.a)(Object(u.a)({},g),{},{visible:!0,text:e,actionUrl:t}))},q=function(){m(Ye()).then((function(){return v(!1)}))},J=function(){h(Object(u.a)(Object(u.a)({},g),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",null,c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(r.USER))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:l?r["Add Web Domain"]:r["Add User"],href:l?"/add/web/":"/add/user/",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:W,toggled:j.toggledAll}),c.a.createElement(ht,{list:"usersList",bulkAction:function(e){j.selection.length&&e&&(v(!0),function(e,t){var a=new FormData;return a.append("token",Ie()),a.append("action",e),t.forEach((function(e){a.append("user[]",e)})),me.a.post(qa+"/api/v1/bulk/user/",a)}(e,j.selection).then((function(e){200===e.status&&(W(!1),_().then((function(){return q()})))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){k(Object(u.a)(Object(u.a)({},j),{},{sorting:e,order:t}))},sorting:j.sorting,order:j.order,list:"usersList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"users-wrapper"},p?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=Object(u.a)({},j.userFav),t=Object(x.a)(j.users);return t.forEach((function(t){t.FOCUSED=s===t.NAME,e[t.NAME]?t.STARRED=e[t.NAME]:t.STARRED=0})),R(t).map((function(e,t){return c.a.createElement(qn,{data:e,key:t,toggleFav:B,checkItem:P,handleModal:H})}))}(),c.a.createElement("div",{className:"total"},j.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!g.actionUrl)return J();var e;J(),v(!0),(e=g.actionUrl,me.a.get(qa+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return v(!1),H(e.data.error,"");_().then((function(){return q()}))})).catch((function(e){v(!1),console.error(e)}))},onCancel:J,show:g.visible,text:g.text}))}),Kn=window.location.origin;function zn(e,t,a){return"/api/v1/list/rrd/image.php?/rrd/".concat(t,"/").concat(e,"-").concat(a,".png")}a(283);var Yn=function(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){var t=null;return r?t=setInterval(e.countDown,1e3):r||0===e.time||clearInterval(t),function(){return clearInterval(t)}}),[r,e.time]);return c.a.createElement("div",{className:"timer-wrapper"},c.a.createElement("button",{onClick:function(){l(!r)}},r?c.a.createElement(P.a,{icon:"pause"}):c.a.createElement(P.a,{icon:"play"})),c.a.createElement("div",{className:"circle-wrapper"},c.a.createElement("span",{className:"seconds"},e.time)))},Gn=(a(284),function(e){var t=e.data,a=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement("div",{className:t.FOCUSED?"rrd-item focused":"rrd-item",id:t.NAME},c.a.createElement(He,{className:"l-col w-15"},function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return c.a.createElement("div",{className:"date"},a," \xa0 ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]," \xa0 ",r)}(t.DATE)),c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},a[t.NAME]),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"w-100"},c.a.createElement("div",null,c.a.createElement("img",{src:zn(e.period,t.TYPE,t.RRD),alt:"img"}))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement("a",{className:"link-download",href:zn(e.period,t.TYPE,t.RRD)},a.download,c.a.createElement(P.a,{icon:Fe.r})))))}),Qn=(a(285),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)([]),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({period:"daily",periodI18N:t.Daily,time:15,loading:!1,total:0}),p=Object(y.a)(E,2),v=p[0],f=p[1];Object(n.useEffect)((function(){return l(Te("/list/rrd/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),N(),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}),[a,r,m]);var b=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),O()):40===e.keyCode&&(e.preventDefault(),h())},g=function(e){e[0].FOCUSED=e[0].NAME,d(e),l(it(e[0].NAME))},h=function(){if(""!==a){var e=m.findIndex((function(e){return e.NAME===a}));if(e!==m.length-1){var t=m[e+1];m[e].FOCUSED="",t.FOCUSED=t.NAME,document.getElementById(t.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(m),l(it(t.NAME))}}else g(m)},O=function(){if(""!==a){var e=m.findIndex((function(e){return e.NAME===a}));if(0!==e){var t=m[e-1];m[e].FOCUSED="",t.FOCUSED=t.NAME,document.getElementById(t.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(m),l(it(t.NAME))}}else g(m)},N=function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),f(Object(u.a)(Object(u.a)({},v),{},{loading:!0})),me.a.get(Kn+"/api/v1/list/rrd/index.php").then((function(e){d(j(e.data.data)),f(Object(u.a)(Object(u.a)({},v),{},{time:15,loading:!1}))})).catch((function(e){return console.error(e)}))},j=function(e){var t=[];for(var n in e)e[n].NAME=e[n].TITLE,e[n].FOCUSED=a===n,t.push(e[n]);return t},k=function(e){return v.periodI18N===e?"period active":"period"},_=function(e){switch(e){case t.Daily:f(Object(u.a)(Object(u.a)({},v),{},{period:"daily",periodI18N:t.Daily,time:15}));break;case t.Weekly:f(Object(u.a)(Object(u.a)({},v),{},{period:"weekly",periodI18N:t.Weekly,time:15}));break;case t.Monthly:f(Object(u.a)(Object(u.a)({},v),{},{period:"monthly",periodI18N:t.Monthly,time:15}));break;case t.Yearly:f(Object(u.a)(Object(u.a)({},v),{},{period:"yearly",periodI18N:t.Yearly,time:15}))}};return c.a.createElement("div",{className:"rrd-list"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.RRD))),c.a.createElement(Je,{mobile:!1},c.a.createElement("div",{className:"periods-wrapper"},[t.Daily,t.Weekly,t.Monthly,t.Yearly].map((function(e){return c.a.createElement("div",{className:k(e),onClick:function(){return _(e)}},e)})),c.a.createElement(Yn,{time:v.time,countDown:function(){0===v.time?N():f(Object(u.a)(Object(u.a)({},v),{},{time:v.time-1}))},data:v.rrds})),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})),c.a.createElement("div",{className:"rrd-wrapper"},v.loading?c.a.createElement(T,null):function(){var e=Object(x.a)(m);return e.forEach((function(e){e.FOCUSED=a===e.NAME})),e.map((function(e,t){return c.a.createElement(Gn,{period:v.period,data:e,key:t})}))}()))}),Xn=function(e){var t=e.data,a=Object(k.a)(e,["data"]),n=Object(o.d)((function(e){return e.session})).i18n;return c.a.createElement(vt,{id:t.NAME,focused:t.FOCUSED,checked:t.isChecked,date:t.DATE,checkItem:function(){a.checkItem(t.NAME)}},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1 w-35"},c.a.createElement("div",null,c.a.createElement("b",null,t.DATE)," \xa0 ",t.TIME)),c.a.createElement(He,{className:"c-2 w-30"},c.a.createElement("div",null)),c.a.createElement(He,{className:"c-2 w-30"},c.a.createElement("div",null,c.a.createElement("b",null,t.CHAIN))),c.a.createElement(He,{className:"c-2 w-30"},c.a.createElement("div",null,c.a.createElement("b",null,t.NAME))))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){a.handleModal(t.delete_confirmation,"/api/v1/delete/firewall/banlist/?ip=".concat(t.NAME,"&chain=").concat(t.CHAIN))}},n.Delete,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))},Zn=(a(286),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,l=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,s=Object(o.c)(),i=Object(n.useState)(!1),m=Object(y.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)({text:"",visible:!1,actionUrl:""}),v=Object(y.a)(p,2),f=v[0],b=v[1],g=Object(n.useState)({banIps:[],selection:[],toggledAll:!1,sorting:t.Action,order:"descending",totalAmount:""}),h=Object(y.a)(g,2),O=h[0],N=h[1];Object(n.useEffect)((function(){return s(Te("/list/firewall/")),s({type:"REMOVE_FOCUSED_ELEMENT",value:""}),s({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),A().then((function(){return E(!1)})),function(){s({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",j),window.addEventListener("keydown",w),function(){window.removeEventListener("keydown",j),window.removeEventListener("keydown",w)}}),[r,l,O.banIps]);var j=function(e){38!==e.keyCode&&40!==e.keyCode||l&&s({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),S()):40===e.keyCode&&(e.preventDefault(),_())},k=function(e){e[0].FOCUSED=e[0].NAME,N(Object(u.a)(Object(u.a)({},O),{},{banIps:e})),s(it(e[0].NAME))},_=function(){var e=Object(x.a)(O.banIps);if(""!==r.NAME){var t=e.findIndex((function(e){return e.NAME===r.NAME}));if(t!==e.length-1){var a=e[t+1];e[t].FOCUSED="",a.FOCUSED=a.NAME,document.getElementById(a.NAME).scrollIntoView({behavior:"smooth",block:"center"}),N(Object(u.a)(Object(u.a)({},O),{},{banIps:e})),s(it(a.NAME))}}else k(e)},S=function(){var e=Object(x.a)(O.banIps);if(""!==r.NAME){var t=e.findIndex((function(e){return e.NAME===r.NAME}));if(0!==t){var a=e[t-1];e[t].FOCUSED="",a.FOCUSED=a.NAME,document.getElementById(a.NAME).scrollIntoView({behavior:"smooth",block:"center"}),N(Object(u.a)(Object(u.a)({},O),{},{banIps:e})),s(it(a.NAME))}}else k(e)},w=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(r&&!t)switch(e.keyCode){case 8:return M()}},M=function(){var e=O.banIps.filter((function(e){return e.NAME===r.NAME}))[0];L(e.delete_conf,r.delete_url)},A=function(){return E(!0),new Promise((function(e,t){me.a.get(xt+"/api/v1/list/firewall/banlist/index.php").then((function(t){N(Object(u.a)(Object(u.a)({},O),{},{banIps:C(t.data.data),totalAmount:t.data.total_amount,toggledAll:!1,selection:[]})),e()})).catch((function(e){return console.error(e)}))}))},C=function(e){var t=[];for(var a in e)e[a].NAME=a,e[a].FOCUSED=r.NAME===a,t.push(e[a]);return t},D=function(e){var t=O.selection,a=O.banIps,n=Object(x.a)(t),c=a,r=n.indexOf(e),l=c.findIndex((function(t){return t.NAME===e}));c[l].isChecked=!c[l].isChecked,-1!==r?n.splice(r,1):n.push(e),N(Object(u.a)(Object(u.a)({},O),{},{banIps:c,selection:n}))},F=function(e){if(e){var t=[],a=O.banIps.map((function(e){return t.push(e.NAME),e.isChecked=!0,e}));N(Object(u.a)(Object(u.a)({},O),{},{banIps:a,selection:t,toggledAll:e}))}else{var n=O.banIps.map((function(e){return e.isChecked=!1,e}));N(Object(u.a)(Object(u.a)({},O),{},{banIps:n,selection:[],toggledAll:e}))}},L=function(e,t){b(Object(u.a)(Object(u.a)({},f),{},{visible:!f.visible,text:e,actionUrl:t}))},U=function(){b(Object(u.a)(Object(u.a)({},f),{},{visible:!f.visible,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"firewalls"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.FIREWALL))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{href:"/add/firewall/banlist",name:t["Ban IP Address"],showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:F,toggled:O.toggledAll}),c.a.createElement(ht,{list:"banList",bulkAction:function(e){var t=O.selection;t.length&&e&&Lt(e,t,O.banIps).then((function(e){200===e.status&&(F(!1),A())})).catch((function(e){return console.error(e)}))}}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),d?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"banlist-wrapper"},function(){var e=Object(x.a)(O.banIps);return e.forEach((function(e){e.FOCUSED=r.NAME===e.NAME})),e.map((function(e,t){return c.a.createElement(Xn,{data:e,key:t,checkItem:D,handleModal:L})}))}(),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("div",{className:"total"},O.totalAmount),c.a.createElement("button",{type:"button",className:"back",onClick:function(){return a.push("/list/firewall/")}},t.Back)))),c.a.createElement(Ot,{onSave:function(){if(!f.actionUrl)return U();U(),E(!0),Ut(f.actionUrl).then((function(e){if(e.data.error)return E(!1),L(e.data.error,"");A()})).catch((function(e){E(!1),console.error(e)}))},onCancel:U,show:f.visible,text:f.text}))});a(287);function $n(e){var t,a,n,r,l=e.data,s=Object(o.d)((function(e){return e.session})).i18n,i=(localStorage.getItem("token"),function(e,t){return"no"===t||""===t?c.a.createElement("div",{className:"crossed"},e):c.a.createElement("div",null,e,": ",c.a.createElement("span",{className:"stat"},t))});return c.a.createElement(vt,{id:l.NAME,checked:l.isChecked,starred:l.STARRED,date:l.DATE,toggleFav:function(t){t?e.toggleFav(l.NAME,"add"):e.toggleFav(l.NAME,"delete")},checkItem:function(){e.checkItem(l.NAME)},suspended:"yes"===l.SUSPENDED,focused:l.FOCUSED},c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},c.a.createElement("div",null,l.NAME),c.a.createElement("div",null,c.a.createElement("span",{className:"dns-name-span"},l.ALIAS))),c.a.createElement("div",null,l.IP),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1 w-25"},c.a.createElement("div",{className:"bandwidth"},s.Bandwidth," ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},l.U_BANDWIDTH),s.mb)),c.a.createElement("div",{className:"disk"},s.Disk,": ",c.a.createElement("span",null,c.a.createElement("span",{className:"stat"},l.U_DISK),s.mb))),c.a.createElement(He,{className:"c-2 w-45"},c.a.createElement("div",null,s["Web Template"],": ",c.a.createElement("span",{className:"stat"},l.TPL)),"yes"===l.LETSENCRYPT?i(s["SSL Support"],s["Lets Encrypt"]):i(s["SSL Support"],l.SSL),i(s["Web Statistics"],l.WEB_STATS)),c.a.createElement(He,{className:"c-3 w-35"},"no"!==l.PROXY_SYSTEM?i(s["Proxy Support"],l.PROXY_SUPPORT):i(s["Proxy Support"],""),"no"!==l.PROXY_SYSTEM?i(s["Proxy Template"],l.PROXY):i(s["Proxy Template"],""),"no"!==l.BACKEND_SYSTEM?i(null!==(t=s["Backend Support"])&&void 0!==t?t:"Backend Support",l.BACKEND_SUPPORT):i(null!==(a=s["Backend Support"])&&void 0!==a?a:"Backend Support",""),"no"!==l.BACKEND_SYSTEM?i(null!==(n=s["Backend Template"])&&void 0!==n?n:"Backend Template",l.BACKEND):i(null!==(r=s["Backend Template"])&&void 0!==r?r:"Backend Template",""),i(s["Additional FTP Account"],l.FTP)))),c.a.createElement("div",{className:"actions"},c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:"/edit/web?domain=".concat(l.NAME)},s.edit,l.FOCUSED?c.a.createElement("span",{className:"shortcut-button html-unicode"},"\u21a9"):c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-gray",to:"/list/web-log?domain=".concat(l.NAME,"&type=access")},s["view logs"],l.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"list"}))),l.STATS&&c.a.createElement("div",null,c.a.createElement("a",{className:"link-gray",href:"http://".concat(l.NAME,"/vstats/"),target:"_blank",rel:"noopener noreferrer"},s["open webstats"],l.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"list"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){var t="yes"===l.SUSPENDED?"unsuspend":"suspend";e.handleModal(l.spnd_confirmation,"/api/v1/".concat(t,"/web/index.php?domain=").concat(l.NAME))}},s[l.spnd_action],l.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"S"):c.a.createElement(P.a,{icon:"yes"===l.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){e.handleModal(l.delete_confirmation,"/api/v1/delete/web/index.php?domain=".concat(l.NAME))}},s.Delete,l.FOCUSED?c.a.createElement("span",{className:"shortcut-button del"},"Del"):c.a.createElement(P.a,{icon:"times"})))))}a(288);var ec=function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)(!1),i=Object(y.a)(s,2),m=i[0],d=i[1],E=Object(n.useState)({text:"",visible:!1,actionUrl:""}),p=Object(y.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)({webDomains:[],webFav:[],toggledAll:!1,sorting:t.Date,order:"descending",selection:[],totalAmount:""}),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){return l(Te("/list/web/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),D().then((function(){return d(!1)})),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",N),window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",N),window.removeEventListener("keydown",S)}}),[a,r,h.webDomains]);var N=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),_()):40===e.keyCode&&(e.preventDefault(),k())},j=function(e){e[0].FOCUSED=e[0].NAME,O(Object(u.a)(Object(u.a)({},h),{},{webDomains:e})),l(it(e[0].NAME))},k=function(){var e=Object(x.a)(h.webDomains);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{webDomains:e})),l(it(n.NAME))}}else j(e)},_=function(){var e=Object(x.a)(h.webDomains);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),O(Object(u.a)(Object(u.a)({},h),{},{webDomains:e})),l(it(n.NAME))}}else j(e)},S=function(e){var t=document.querySelector("input:focus")||document.querySelector("textarea:focus");if(a&&!t)switch(e.keyCode){case 76:return w();case 83:return A();case 8:return C();case 13:return M()}},w=function(){e.history.push("/list/web-log?domain=".concat(a,"&type=access"))},M=function(){e.history.push("/edit/web?domain=".concat(a))},A=function(){var e=h.webDomains.filter((function(e){return e.NAME===a}))[0],t="yes"===e.SUSPENDED?"unsuspend":"suspend";V(e.spnd_confirmation,"/api/v1/".concat(t,"/web/index.php?domain=").concat(a))},C=function(){var e=h.webDomains.filter((function(e){return e.NAME===a}))[0];V(e.delete_confirmation,"/api/v1/web/index.php?domain=".concat(a))},D=function(){return d(!0),new Promise((function(e,t){me.a.get(jt+"/api/v1/list/web/index.php").then((function(t){O(Object(u.a)(Object(u.a)({},h),{},{webDomains:F(t.data.data),webFav:t.data.webFav,totalAmount:t.data.totalAmount,toggledAll:!1,selection:[]})),e()})).catch((function(e){return console.error(e)}))}))},F=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t},L=function(e){var t=Object(x.a)(h.selection),a=h.webDomains,n=t.indexOf(e),c=a.findIndex((function(t){return t.NAME===e}));a[c].isChecked=!a[c].isChecked,-1!==n?t.splice(n,1):t.push(e),O(Object(u.a)(Object(u.a)({},h),{},{webDomains:a,selection:t}))},U=function(e){var t=I(h.sorting);return"descending"===h.order?e.sort((function(e,a){return e[t]<a[t]?1:a[t]<e[t]?-1:0})):e.sort((function(e,a){return e[t]>a[t]?1:a[t]>e[t]?-1:0}))},I=function(e){var a=t.Date,n=t.Domain,c=t.Disk,r=t.Bandwidth,l=t.Starred;switch(e){case a:return"DATE";case n:return"ALIAS";case t["IP Addresses"]:return"IP";case c:return"U_DISK";case r:return"U_BANDWIDTH";case l:return"STARRED"}},P=function(e,t){var a=h.webFav;"add"===t?(a[e]=1,Et(e,"web").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{webFav:a}))})).catch((function(e){console.error(e)}))):(a[e]=void 0,pt(e,"web").then((function(){O(Object(u.a)(Object(u.a)({},h),{},{webFav:a}))})).catch((function(e){console.error(e)})))},R=function(e){var t=Object(x.a)(h.webDomains);if(e){var a=[],n=t.map((function(e){return a.push(e.NAME),e.isChecked=!0,e}));O(Object(u.a)(Object(u.a)({},h),{},{webDomains:n,selection:a,toggledAll:e}))}else{var c=t.map((function(e){return e.isChecked=!1,e}));O(Object(u.a)(Object(u.a)({},h),{},{webDomains:c,selection:[],toggledAll:e}))}},V=function(e,t){f(Object(u.a)(Object(u.a)({},v),{},{visible:!0,text:e,actionUrl:t}))},B=function(){l(Ye()).then((function(){return d(!1)}))},W=function(){f(Object(u.a)(Object(u.a)({},v),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"web"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.WEB))),c.a.createElement(Je,{mobile:!1},c.a.createElement(bt,{name:t["Add Web Domain"],href:"/add/web/",showLeftMenu:!0}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(gt,{toggleAll:R,toggled:h.toggledAll}),c.a.createElement(ht,{list:"webList",bulkAction:function(e){h.selection.length&&e&&(d(!0),function(e,t){var a=new FormData;return a.append("action",e),a.append("token",Ie()),t.forEach((function(e){a.append("domain[]",e)})),me.a.post(jt+"/api/v1/bulk/web/",a)}(e,h.selection).then((function(e){R(!1),D().then((function(){return B()}))})).catch((function(e){return console.error(e)})))}}),c.a.createElement(ut,{changeSorting:function(e,t){O(Object(u.a)(Object(u.a)({},h),{},{sorting:e,order:t}))},sorting:h.sorting,order:h.order,list:"webList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"web-domains-wrapper"},m?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=Object(u.a)({},h.webFav),t=Object(x.a)(h.webDomains);return t.forEach((function(t){t.FOCUSED=a===t.NAME,e[t.NAME]?t.STARRED=e[t.NAME]:t.STARRED=0})),U(t).map((function(e,t){return c.a.createElement($n,{data:e,key:t,toggleFav:P,checkItem:L,handleModal:V})}))}(),c.a.createElement("div",{className:"total"},h.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!v.actionUrl)return W();var e;W(),d(!0),(e=v.actionUrl,me.a.get(jt+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return d(!1),V(e.data.error,"");D().then((function(){return B()}))})).catch((function(e){d(!1),console.error(e)}))},onCancel:W,show:v.visible,text:v.text}))},tc=window.location.origin,ac=(a(289),function(e){var t=e.data,a=e.handleModal,n=Object(o.d)((function(e){return e.session})),r=n.i18n,l=n.userName,s=Object(o.c)(),i=Object(I.g)(),u=function(){s(xa()).then((function(){return i.push("/")}))};return c.a.createElement(vt,{date:t.DATE,suspended:"yes"===t.SUSPENDED},c.a.createElement(He,{className:"search-list r-col w-85"},c.a.createElement("div",{className:"name"},t.RESULT),c.a.createElement("div",{className:"stats"},c.a.createElement(He,{className:"c-1"},c.a.createElement("div",{className:"object"},"user"===t.TYPE?r.USER:r[t.object])),c.a.createElement(He,{className:"c-2"},c.a.createElement("div",{className:"owner"},r.Owner,": ",c.a.createElement("span",null,t.USER))),c.a.createElement(He,{className:"c-3"},c.a.createElement("div",{className:"status"},r.Status,": ",c.a.createElement("span",null,t.status))))),c.a.createElement("div",{className:"actions"},function(){if("user"===t.TYPE)return l===t.USER?c.a.createElement("div",null,c.a.createElement("button",{onClick:u},r["Log out"],t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"user-lock"}))):c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e=t.USER,void s(Fa(e)).then((function(){return i.push("/")}));var e}},r["login as"]," ",t.USER,t.FOCUSED?c.a.createElement("span",{className:"shortcut-button"},"L"):c.a.createElement(P.a,{icon:"user-lock"})))}(),c.a.createElement("div",null,c.a.createElement(se.b,{className:"link-edit",to:t.edit_link},r.edit," ",c.a.createElement(P.a,{icon:"pen"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-gray",onClick:function(){a(t.spnd_confirmation,"/api/v1/".concat("user"===t.TYPE?"".concat(t.spnd_action,"/user/index.php?user=").concat(t.USER):t.spnd_link))}},t.spnd_action,c.a.createElement(P.a,{icon:"yes"===t.SUSPENDED?"unlock":"lock"}))),c.a.createElement("div",null,c.a.createElement("button",{className:"link-delete",onClick:function(){a(t.delete_confirmation,"/api/v1/".concat("user"===t.TYPE?"/api/v1/delete/user/index.php?user=".concat(t.USER):t.delete_link))}},r.Delete,c.a.createElement(P.a,{icon:"times"})))))}),nc=(a(290),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(I.g)(),r=Object(o.c)(),l=Object(n.useState)(!1),s=Object(y.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)({searchResults:[],totalAmount:"",sorting:t.Date,order:"descending",total:0}),E=Object(y.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)({visible:!1,text:"",actionUrl:""}),b=Object(y.a)(f,2),g=b[0],h=b[1];Object(n.useEffect)((function(){var t=a.location.search;if(t){var n=t.split("=")[1];if(""===n)return a.push({pathname:"/list/user/",search:""});O(n).then((function(){return m(!1)}))}else{if(""===e.searchTerm)return a.push({pathname:"/list/user/",search:""});O(e.searchTerm).then((function(){return m(!1)}))}}),[]);var O=function(e){return m(!0),new Promise((function(t,a){var n;(n=e,me.a.get(tc+"/api/v1/search/?q="+n)).then((function(e){v(Object(u.a)(Object(u.a)({},p),{},{searchResults:e.data.data,totalAmount:e.data.total})),t()})).catch((function(e){return console.error(e)}))}))},N=function(e){var t=p.order,a=p.sorting,n=j(a);return"descending"===t?e.sort((function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0})):e.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}))},j=function(e){var a=t.Date,n=t.Name;t.Starred;switch(e){case a:return"DATE";case n:return"RESULT"}},k=function(e,t){h(Object(u.a)(Object(u.a)({},g),{},{visible:!g.visible,text:e,actionUrl:t}))},_=function(){r(Ye()).then((function(){return m(!1)}))},S=function(){h(Object(u.a)(Object(u.a)({},g),{},{visible:!1,text:"",actionUrl:""}))};return c.a.createElement("div",{className:"logs-list"},c.a.createElement(Je,{mobile:!1},c.a.createElement("div",{className:"search-toolbar-name"},t["Search Results"]),c.a.createElement("div",{className:"search-toolbar-right"},c.a.createElement(ut,{changeSorting:function(e,t){v(Object(u.a)(Object(u.a)({},p),{},{sorting:e,order:t}))},sorting:p.sorting,order:p.order,list:"searchList"}),c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}}))),c.a.createElement("div",{className:"statistics-wrapper"},i?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,function(){var e=p.searchResults,t=[];for(var a in e)t.push(e[a]);return N(t).map((function(e,t){return c.a.createElement(ac,{data:e,key:t,handleModal:k})}))}(),c.a.createElement("div",{className:"total"},p.totalAmount))),c.a.createElement(Ot,{onSave:function(){if(!g.actionUrl)return S();var e;S(),m(!0),(e=g.actionUrl,me.a.get(tc+e,{params:{token:Ie()}})).then((function(e){if(e.data.error)return m(!1),k(e.data.error,"");O().then((function(){return _()}))})).catch((function(e){m(!1),console.error(e)}))},onCancel:S,show:g.visible,text:g.text}))}),cc=window.location.origin,rc=(a(291),function(e){var t=e.data;return c.a.createElement("div",{className:t.FOCUSED?"statistic-item focused":"statistic-item",id:t.NAME},c.a.createElement(He,{className:"l-col w-15"},function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return c.a.createElement("div",{className:"date"},a," \xa0 ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]," \xa0 ",r)}(t.DATE),t.TIME),c.a.createElement(He,{className:"r-col w-85"},c.a.createElement("div",{className:"name"},t.CMD)))}),lc=(a(292),function(e){var t=Object(o.d)((function(e){return e.session})).i18n,a=Object(o.d)((function(e){return e.controlPanelContent})).controlPanelFocusedElement,r=Object(o.d)((function(e){return e.mainNavigation})).focusedElement,l=Object(o.c)(),s=Object(n.useState)({logs:[],totalAmount:"",loading:!1,total:0}),i=Object(y.a)(s,2),m=i[0],d=i[1];Object(n.useEffect)((function(){return l(Te("/list/log/")),l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""}),b(),function(){l({type:"REMOVE_CPANEL_FOCUSED_ELEMENT",value:""})}}),[]),Object(n.useEffect)((function(){return window.addEventListener("keydown",E),function(){window.removeEventListener("keydown",E)}}),[a,r,m.logs]);var E=function(e){38!==e.keyCode&&40!==e.keyCode||r&&l({type:"REMOVE_FOCUSED_ELEMENT",value:""}),38===e.keyCode?(e.preventDefault(),f()):40===e.keyCode&&(e.preventDefault(),v())},p=function(e){e[0].FOCUSED=e[0].NAME,d(Object(u.a)(Object(u.a)({},m),{},{logs:e})),l(it(e[0].NAME))},v=function(){var e=Object(x.a)(m.logs);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(t!==e.length-1){var n=e[t+1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{logs:e})),l(it(n.NAME))}}else p(e)},f=function(){var e=Object(x.a)(m.logs);if(""!==a){var t=e.findIndex((function(e){return e.NAME===a}));if(0!==t){var n=e[t-1];e[t].FOCUSED="",n.FOCUSED=n.NAME,document.getElementById(n.NAME).scrollIntoView({behavior:"smooth",block:"center"}),d(Object(u.a)(Object(u.a)({},m),{},{logs:e})),l(it(n.NAME))}}else p(e)},b=function(){d(Object(u.a)(Object(u.a)({},m),{},{loading:!0})),me.a.get(cc+"/api/v1/list/log/index.php").then((function(e){d({logs:g(e.data.data),totalAmount:e.data.totalAmount,loading:!1})})).catch((function(e){return console.error(e)}))},g=function(e){var t=[];for(var n in e)e[n].NAME=n,e[n].FOCUSED=a===n,t.push(e[n]);return t};return c.a.createElement("div",{className:"logs-list"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.LOG))),c.a.createElement(Je,{mobile:!1,className:"justify-right"},c.a.createElement(bt,{name:"Add Cron Job",showLeftMenu:!1}),c.a.createElement("div",{className:"r-menu"},c.a.createElement("div",{className:"input-group input-group-sm"},c.a.createElement(mt,{handleSearchTerm:function(t){return e.changeSearchTerm(t)}})))),c.a.createElement("div",{className:"logs-wrapper"},m.loading?c.a.createElement(T,null):function(){var e=Object(x.a)(m.logs);return e.forEach((function(e){e.FOCUSED=a===e.NAME})),e.map((function(e,t){return c.a.createElement(rc,{data:e,key:t})}))}()),c.a.createElement("div",{className:"total"},m.totalAmount))}),oc=(a(293),function(e){var t=Object(o.d)((function(e){return e.session})),a=t.userName,r=t.session.look,l=Object(I.g)(),s=Object(n.useState)(""),i=Object(y.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(null),E=Object(y.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)(!0),b=Object(y.a)(f,2),g=b[0],h=b[1],O=Object(o.c)();Object(n.useEffect)((function(){if(!a)return l.push("/login");if(h(!1),r){var e=l.location.pathname.split("/")[2];if("/add/user/"===l.location.pathname)return l.push("/");if(["package","ip","rrd","updates","firewall","server"].includes(e))return l.push("/")}}),[a,r]),Object(n.useEffect)((function(){return O({type:"REMOVE_FOCUSED_ELEMENT",value:""}),window.addEventListener("keyup",N),window.addEventListener("keyup",j),function(){window.removeEventListener("keyup",N),window.removeEventListener("keyup",j)}}),[]);var N=function(e){if(!(document.querySelector("input:focus")||document.querySelector("textarea:focus")))switch(e.keyCode){case 49:return l.push("/list/user/");case 50:return l.push("/list/web/");case 51:return l.push("/list/dns/");case 52:return l.push("/list/mail/");case 53:return l.push("/list/db/");case 54:return l.push("/list/cron/");case 55:return l.push("/list/backup/")}},j=function(e){if(!(document.querySelector("input:focus")||document.querySelector("textarea:focus"))&&65===e.keyCode)switch(l.location.pathname){case"/list/user/":return r?l.push("/add/web/"):l.push("/add/user/");case"/list/web/":return l.push("/add/web/");case"/list/dns/":return l.push("/add/dns/");case"/list/mail/":return l.push("/add/mail/");case"/list/db/":return l.push("/add/db/");case"/list/cron/":return l.push("/add/cron/");case"/list/backup/exclusions":return l.push("/edit/backup/exclusions/");case"/list/package/":return l.push("/add/package/");case"/list/ip/":return l.push("/add/ip/");case"/list/firewall/":return l.push("/add/firewall/")}},k=function(e){m(e),l.push({pathname:"/search/",search:"?q=".concat(e)})};return c.a.createElement("div",null,c.a.createElement(Mn,null),c.a.createElement("div",{className:"content"},g?c.a.createElement(T,null):c.a.createElement(I.d,null,c.a.createElement(I.a,{from:"/",exact:!0,to:"/list/user/"}),c.a.createElement(I.b,{path:"/list/package",component:function(e){return c.a.createElement(mn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/package",component:function(){return c.a.createElement(ra,null)}}),c.a.createElement(I.b,{path:"/edit/package",component:function(){return c.a.createElement(aa,null)}}),c.a.createElement(I.b,{path:"/list/ip",component:function(e){return c.a.createElement(Nt,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/ip",component:function(){return c.a.createElement(Ze,null)}}),c.a.createElement(I.b,{path:"/edit/ip",component:function(){return c.a.createElement(Xe,null)}}),c.a.createElement(I.b,{path:"/list/rrd",component:function(e){return c.a.createElement(Qn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/list/stats",component:function(e){return c.a.createElement(Hn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/list/log",component:function(e){return c.a.createElement(lc,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/list/updates",component:function(e){return c.a.createElement(fn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/list/firewall",exact:!0,component:function(e){return c.a.createElement(Ha,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/list/firewall/banlist",exact:!0,component:function(e){return c.a.createElement(Zn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/firewall/banlist",component:ln}),c.a.createElement(I.b,{path:"/add/firewall",component:function(){return c.a.createElement(Vt,null)}}),c.a.createElement(I.b,{path:"/edit/firewall",component:function(){return c.a.createElement(It,null)}}),c.a.createElement(I.b,{path:"/list/server/",exact:!0,component:function(e){return c.a.createElement(hn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/edit/server/",exact:!0,component:function(){return c.a.createElement(Ea,null)}}),c.a.createElement(I.b,{path:"/edit/server/nginx",exact:!0,component:function(){return c.a.createElement(rt,null)}}),c.a.createElement(I.b,{path:"/edit/server/php",exact:!0,component:function(){return c.a.createElement(Ra,{serviceName:"php"})}}),c.a.createElement(I.b,{path:"/edit/server/php-fpm",exact:!0,component:function(){return c.a.createElement(Ra,{serviceName:"php-fpm"})}}),c.a.createElement(I.b,{path:"/edit/server/php5-fpm",exact:!0,component:function(){return c.a.createElement(Ra,{serviceName:"php5-fpm"})}}),c.a.createElement(I.b,{path:"/edit/server/httpd",exact:!0,component:function(){return c.a.createElement(na,null)}}),c.a.createElement(I.b,{path:"/edit/server/dovecot",exact:!0,component:function(){return c.a.createElement(pa,null)}}),c.a.createElement(I.b,{path:"/edit/server/bind9",exact:!0,component:function(){return c.a.createElement(Ka,null)}}),c.a.createElement(I.b,{path:"/edit/server/postgresql",exact:!0,component:function(){return c.a.createElement(lt,null)}}),c.a.createElement(I.b,{path:"/edit/server/mysql",exact:!0,component:function(){return c.a.createElement(za,{serviceName:"mysql"})}}),c.a.createElement(I.b,{path:"/edit/server/mariadb",exact:!0,component:function(){return c.a.createElement(za,{serviceName:"mariadb"})}}),c.a.createElement(I.b,{path:"/edit/server/mysqld",exact:!0,component:function(){return c.a.createElement(za,{serviceName:"mysqld"})}}),!!ct.length&&ct.map((function(e,t){return"iptables"===e?c.a.createElement(I.a,{key:t,from:"/edit/server/iptables",exact:!0,to:"/list/firewall"}):c.a.createElement(I.b,{key:t,path:"/edit/server/".concat(e),exact:!0,component:function(){return c.a.createElement(ja,{serviceName:e})}})})),c.a.createElement(I.b,{path:"/list/user",component:function(e){return c.a.createElement(Jn,Object.assign({changeSearchTerm:k},e))}}),c.a.createElement(I.b,{path:"/add/user",component:function(){return c.a.createElement(En,null)}}),c.a.createElement(I.b,{path:"/edit/user",component:function(){return c.a.createElement(Ja,null)}}),c.a.createElement(I.b,{path:"/list/web",component:function(e){return c.a.createElement(ec,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/web",component:function(){return c.a.createElement(Mt,null)}}),c.a.createElement(I.b,{path:"/edit/web",component:function(){return c.a.createElement(Pa,null)}}),c.a.createElement(I.b,{path:"/list/dns",component:function(e){return c.a.createElement(Vn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/dns",component:function(){return c.a.createElement(en,null)}}),c.a.createElement(I.b,{path:"/edit/dns",component:function(){return c.a.createElement(Ua,null)}}),c.a.createElement(I.b,{path:"/list/mail",component:function(e){return c.a.createElement(Ln,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/mail",component:function(){return c.a.createElement(_a,null)}}),c.a.createElement(I.b,{path:"/edit/mail",component:function(){return c.a.createElement(Na,null)}}),c.a.createElement(I.b,{path:"/list/db",component:function(e){return c.a.createElement(Ba,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/db",component:function(){return c.a.createElement(Rt,null)}}),c.a.createElement(I.b,{path:"/edit/db",component:function(){return c.a.createElement(Ft,null)}}),c.a.createElement(I.b,{path:"/list/cron",component:function(e){return c.a.createElement(sn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{path:"/add/cron",component:function(){return c.a.createElement(ca,null)}}),c.a.createElement(I.b,{path:"/edit/cron",component:function(){return c.a.createElement(Xt,null)}}),c.a.createElement(I.b,{exact:!0,path:"/list/backup",component:function(e){return c.a.createElement(rn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{exact:!0,path:"/list/backup/exclusions",component:function(e){return c.a.createElement(Cn,Object.assign({},e,{changeSearchTerm:k}))}}),c.a.createElement(I.b,{exact:!0,path:"/edit/backup/exclusions",component:st}),c.a.createElement(I.b,{path:"/search/",component:function(e){return c.a.createElement(nc,Object.assign({},e,{changeSearchTerm:k,searchTerm:u}))}}))),c.a.createElement("div",{className:"fixed-buttons"},c.a.createElement("div",{className:"hotkey-button"},c.a.createElement("button",{onClick:function(){return p.classList.toggle("hide")}},c.a.createElement(P.a,{icon:"ellipsis-h"}))),c.a.createElement("div",{className:"scroll-to-top"},c.a.createElement("button",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},c.a.createElement(P.a,{icon:"long-arrow-alt-up"})))),c.a.createElement(Pt,{reference:function(e){return v(e)},toggleHotkeys:function(){return p.classList.toggle("hide")}}))}),sc=(a(294),function(e){var t=e.menuItems,a=void 0===t?[]:t,r=e.extraMenuItems,l=void 0===r?[]:r,s=Object(o.d)((function(e){return e.mainNavigation})),i=Object(n.useState)(!1),u=Object(y.a)(i,2),m=u[0],d=u[1],E=Object(o.d)((function(e){return e.session})),p=E.i18n,v=E.userName,f=Object(o.c)(),b=Object(I.g)(),g=function(e){var t="nav-link";return s.activeElement===e?t+" active":t},h=function(e,t){e.preventDefault(),b.push(t),f(Te(t))};return c.a.createElement("div",{className:"panel-wrapper"},m&&c.a.createElement(T,null),c.a.createElement("div",{className:"top-panel"},c.a.createElement("div",{className:"container left-menu"},c.a.createElement("div",{className:"logo"},c.a.createElement(se.b,{to:"/list/user/"},c.a.createElement("div",{className:"logo-img"},c.a.createElement("img",{src:"/images/white_logo.png",alt:"Logo"})))),function(){if(a.length)return a.map((function(e){var t=e.route,a=e.name;return c.a.createElement("div",{className:g(t),key:a},c.a.createElement("button",{onClick:function(e){return h(e,t)}},a))}))}(),function(){if(l.length)return l.map((function(e,t){var a=e.link,n=e.text,r=e.type;return c.a.createElement("div",{className:"nav-link",key:t},"download"===r?c.a.createElement("a",{href:"/api/v1".concat(a),target:"_blank",rel:"noopener noreferrer"},n):c.a.createElement(se.b,{to:a,target:"_blank"},n))}))}()),c.a.createElement("div",{className:"container profile-menu"},c.a.createElement("div",null,c.a.createElement(se.b,{to:"/edit/user?user=".concat(v)},v)),c.a.createElement("div",null,c.a.createElement("button",{className:"log-out",onClick:function(){d(!0),f(xa()).then((function(){b.push("/login/"),d(!1)}),(function(e){d(!1),console.error(e)}))}},p["Log out"])))))}),ic=(a(295),window.location.origin);function uc(){var e=Object(o.d)((function(e){return e.session})),t=e.i18n,a=e.userName,r=Object(I.g)(),l=Object(o.c)(),s=Object(o.d)((function(e){return e.mainNavigation})),i=Object(n.useState)(),m=Object(y.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)({data:"",loading:!1}),v=Object(y.a)(p,2),f=v[0],b=v[1];Object(n.useEffect)((function(){a||r.push("/login/")}),[]),Object(n.useEffect)((function(){var e=Ee.a.parse(r.location.search,{ignoreQueryPrefix:!0}),t=e.domain,a=e.type;if(!e&&!t&&!a)return r.goBack();E(t);var n="/list/web-log/?domain=".concat(t,"&type=").concat(a);g(n),l(Te("/list/web-log/".concat(a)))}),[s.activeElement]);var g=function(e){b(Object(u.a)(Object(u.a)({},f),{},{loading:!0})),function(e){return me.a.get(ic+"/api/v1"+e)}(e).then((function(e){e.data&&b(Object(u.a)(Object(u.a)({},f),{},{data:e.data.data,loading:!1}))})).catch((function(e){console.error(e),b(Object(u.a)(Object(u.a)({},f),{},{loading:!1}))}))},h=[{route:"/list/web-log/?domain=".concat(d,"&type=access"),name:t.AccessLog},{route:"/list/web-log/?domain=".concat(d,"&type=error"),name:t.ErrorLog}],O=[{link:"/download/web-log/?domain=".concat(null!==d&&void 0!==d?d:"","&type=access"),type:"download",text:t["Download AccessLog"]},{link:"/download/web-log/?domain=".concat(null!==d&&void 0!==d?d:"","&type=error"),type:"download",text:t["Download ErrorLog"]}];return c.a.createElement("div",{className:"web-logs"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.WEB))),c.a.createElement(sc,{menuItems:h,extraMenuItems:O}),c.a.createElement("div",{className:"content"},f.loading?c.a.createElement(T,null):c.a.createElement("pre",null,f.data)))}a(296);var mc=function(e){var t=e.children;return c.a.createElement("div",{className:"login-layout"},t)};a(297);function dc(){var e,t,a,r,l,s=Object(o.d)((function(e){return e.session})).i18n,i=Object(o.c)(),m=Object(I.g)(),d=Object(n.useState)(!1),E=Object(y.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)({user:"",password:""}),b=Object(y.a)(f,2),g=b[0],h=b[1],O=Object(o.d)((function(e){return e.session})),N=Object(n.useState)(""),j=Object(y.a)(N,2),k=j[0],_=j[1];Object(n.useEffect)((function(){O.error?_(O.error):O.token&&O.userName&&m.push("/list/user/")}),[O]);var S=function(e){var t=e.target,a=t.value,n=t.name;h(Object(u.a)(Object(u.a)({},g),{},Object(w.a)({},n,a)))};return c.a.createElement("div",{className:"login-page"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(null!==(e=s.LOGIN)&&void 0!==e?e:"LOGIN"))),p&&c.a.createElement(T,null),c.a.createElement("div",{className:"login-form-wrapper"},c.a.createElement(mc,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=g.user,a=g.password;v(!0),i(Da(t,a)).then((function(e){v(!1)}))}},c.a.createElement("div",{className:"c1"},c.a.createElement(se.b,{to:"/"},c.a.createElement("img",{src:"/images/logo.png",alt:"Logo"}))),c.a.createElement("div",{className:"c2"},c.a.createElement(Be,{onChange:S,title:null!==(t=s.Username)&&void 0!==t?t:"Username",value:g.user,name:"user",id:"user"}),c.a.createElement(Be,{onChange:S,title:null!==(a=s.Password)&&void 0!==a?a:"Password",value:g.password,optionalTitle:c.a.createElement(se.b,{className:"forgot-password",tabIndex:"-1",to:"/reset"},null!==(r=s["forgot password"])&&void 0!==r?r:"forgot password"),name:"password",type:"password",id:"password"}),c.a.createElement("button",{type:"submit",disabled:p,className:p?"disabled":""},null!==(l=s["Log in"])&&void 0!==l?l:"Log in"),c.a.createElement("div",{className:"error-message"},k))),c.a.createElement("span",null,c.a.createElement("a",{href:"http://vestacp.com/"},"vestacp.com")))))}a(298);var Ec=function(){var e=Object(o.d)((function(e){return e.session})),t=e.i18n,a=e.userName,r=Object(o.c)(),l=Object(o.d)((function(e){return e.mainNavigation})).activeElement,s=Object(I.g)(),i=Object(I.i)().service,m=Object(n.useState)({data:"",loading:!1}),d=Object(y.a)(m,2),E=d[0],p=d[1];Object(n.useEffect)((function(){a||s.push("/login/")}),[a]),Object(n.useEffect)((function(){v(),r(Te("/list/server/".concat(i)))}),[l]);var v=function(){p(Object(u.a)(Object(u.a)({},E),{},{loading:!0})),function(e){return me.a.get("".concat(et).concat("/api/v1/list/server/index.php","?").concat(e))}(i).then((function(e){p(Object(u.a)(Object(u.a)({},E),{},{data:e.data.service_log,loading:!1}))})).catch((function(e){console.error(e),p(Object(u.a)(Object(u.a)({},E),{},{loading:!1}))}))},f=[{route:"/list/server/cpu",name:t.CPU},{route:"/list/server/mem",name:t.MEMORY},{route:"/list/server/disk",name:t.DISK},{route:"/list/server/net",name:t.NETWORK},{route:"/list/server/web",name:t.WEB},{route:"/list/server/dns",name:t.DNS},{route:"/list/server/mail",name:t.MAIL},{route:"/list/server/db",name:t.DB}];return c.a.createElement("div",{className:"service-info"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(t.SERVER))),c.a.createElement(sc,{menuItems:f}),c.a.createElement("div",{className:"content"},E.loading?c.a.createElement(T,null):c.a.createElement("pre",null,E.data.length&&E.data.map((function(e){return c.a.createElement(c.a.Fragment,null,Qe()(e),c.a.createElement("br",null))})))))};function pc(){var e=Object(o.d)((function(e){return e.session})).i18n,t=Object(o.c)(),a=Object(I.g)(),r=Object(n.useState)(!1),l=Object(y.a)(r,2),s=l[0],i=l[1],m=Object(n.useState)({action:"",user:"",code:""}),d=Object(y.a)(m,2),E=d[0],p=d[1],v=Object(o.d)((function(e){return e.session})),f=Object(I.h)(),b=Object(n.useState)(""),g=Object(y.a)(b,2),h=g[0],O=g[1];Object(n.useEffect)((function(){var e=Ee.a.parse(f.search,{ignoreQueryPrefix:!0});p(Object(u.a)(Object(u.a)({},E),{},{action:e.action||"",user:e.user||"",code:e.code||""}))}),[]),Object(n.useEffect)((function(){v.error?O(v.error):v.token&&v.userName&&a.push("/list/user/")}),[v]);var N=function(e){var t=e.target,a=t.value,n=t.name;p(Object(u.a)(Object(u.a)({},E),{},Object(w.a)({},n,a)))},j=function(){E.user&&(i(!0),Ca(E.user).then((function(e){O(e.data.error||""),p(Object(u.a)(Object(u.a)({},E),{},{action:"code"})),i(!1)})).catch((function(e){console.error(e),i(!1)})))},k=function(){p(Object(u.a)(Object(u.a)({},E),{},{action:"confirm"}))};return c.a.createElement("div",{className:"login-page"},c.a.createElement(Ne.a,null,c.a.createElement("title",null,"Vesta - ".concat(e["RESET PASSWORD"]))),s&&c.a.createElement(T,null),c.a.createElement("div",{className:"login-form-wrapper"},c.a.createElement(mc,null,c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),E.code||E.user)if(E.action||!E.user)if("code"===E.action&&E.user&&E.code)k();else{i(!0);var n,c={user:E.user,code:E.code},r=Object(Le.a)(new FormData(e.target).entries());try{for(r.s();!(n=r.n()).done;){var l=Object(y.a)(n.value,2),o=l[0],s=l[1];c[o]=s}}catch(u){r.e(u)}finally{r.f()}t(function(e){var t=e.user,a=void 0===t?"":t,n=e.code,c=void 0===n?"":n,r=e.password,l=void 0===r?"":r,o=e.password_confirm,s=void 0===o?"":o;return function(e){return new Promise((function(t,n){Ca(a,c,l,s).then((function(a){var n=a.data,c=n.error,r=n.session,l=n.token,o=n.panel,s=n.user;e({type:"RESET_PASSWORD",value:{token:l,panel:o,session:r,userName:s,error:c}}),e({type:"REFRESH_COUNTERS",value:{user:{}}}),t(l)}),(function(e){n(e)}))}))}}(c)).then((function(e){e.error?O(e.error):(a.push("/login"),O("")),i(!1)}))}else j()}},c.a.createElement("div",{className:"c1"},c.a.createElement(se.b,{to:"/"},c.a.createElement("img",{src:"/images/logo.png",alt:"Logo"}))),c.a.createElement("div",{className:"c2"},!E.action&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Be,{onChange:N,title:e.Username,value:E.user,name:"user",id:"user"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{className:"add",type:"button",onClick:j},e.Submit),c.a.createElement("button",{className:"back",type:"button",onClick:function(){return a.push("/login")}},e.Back))),"code"===E.action&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,Qe()(e.RESET_CODE_SENT)),c.a.createElement("br",null),c.a.createElement(Be,{onChange:N,title:e["Reset Code"],value:E.code,name:"code",id:"code"}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{className:"add",type:"button",onClick:k},e.Confirm),c.a.createElement("button",{className:"back",type:"button",onClick:function(){return p(Object(u.a)(Object(u.a)({},E),{},{action:"",code:"",user:""}))}},e.Back))),"confirm"===E.action&&c.a.createElement(c.a.Fragment,null,c.a.createElement(kt,{name:"password",title:e["New Password"],showGenerationButton:!1,tabIndex:1}),c.a.createElement(kt,{name:"password_confirm",title:e["Confirm Password"],showGenerationButton:!1,tabIndex:2}),c.a.createElement("div",{className:"buttons-wrapper"},c.a.createElement("button",{className:"add",type:"submit",style:{height:"31px"}},e.Reset),c.a.createElement("button",{className:"back",type:"button",onClick:function(){return p(Object(u.a)(Object(u.a)({},E),{},{action:"code",code:"",user:E.user}))}},e.Back))),c.a.createElement("div",{className:"error-message"},h))),c.a.createElement("span",null,c.a.createElement("a",{href:"http://vestacp.com/"},"vestacp.com")))))}De.b.add(Fe.e,Fe.l,Fe.p,Fe.q,Fe.t,Fe.u,Fe.m,Fe.s,Fe.w,Fe.M,Fe.k,Fe.B,Fe.K,Fe.f,Fe.b,Fe.c,Fe.d,Fe.F,Fe.a,Fe.H,Fe.N,Fe.D,Fe.y,Fe.J,Fe.G,Fe.i,Fe.x,Fe.O,Fe.r,Fe.C,Fe.E,Fe.j,Fe.I,Fe.L,Fe.A,Fe.n,Fe.o,Fe.z,Fe.g,Fe.h,Fe.v,Fe.E);var vc=function(){var e=Object(I.g)(),t=Object(o.c)(),a=Object(o.d)((function(e){return e.session})),r=Object(n.useState)(!0),l=Object(y.a)(r,2),s=l[0],i=l[1];Object(n.useEffect)((function(){Object.entries(a.i18n).length||t((function(e,t){return new Promise((function(t,a){ze().then((function(a){var n=a.data,c=n.user,r=n.data,l=n.session,o=n.panel,s=n.error,i=n.i18n,u=n.token;u&&Ue(u),e({type:"CHECK_AUTH",value:{userName:c,i18n:i,session:l,panel:o,token:u,error:s}}),e({type:"REFRESH_COUNTERS",value:{user:r}}),t(u)})).catch((function(e){a(),console.error(e)}))}))})).then((function(e){i(!1)}),(function(t){return console.error(t),e.push("/login")}))}),[t,e,a]);var u=function(e){var t=e.authenticated,a=Object(k.a)(e,["authenticated"]);return c.a.createElement(I.b,Object.assign({},a,{render:function(e){return t?c.a.createElement(a.component,e):c.a.createElement(I.a,{to:"/login"})}}))};return c.a.createElement("div",{className:"App"},s?c.a.createElement(T,null):c.a.createElement(I.d,null,c.a.createElement(I.b,{path:"/login",exact:!0,component:dc}),c.a.createElement(I.b,{path:"/reset",exact:!0,component:pc}),c.a.createElement(I.b,{path:"/list/directory/",exact:!0,component:ye}),c.a.createElement(I.b,{path:"/list/directory/preview/",exact:!0,component:Ce}),c.a.createElement(u,{path:"/list/server/:service",authenticated:a.userName,component:Ec}),c.a.createElement(u,{path:"/list/web-log/",exact:!0,authenticated:a.userName,component:uc}),c.a.createElement(u,{path:"/",authenticated:a.userName,loading:s,component:oc})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.a,{store:Object(i.createStore)(N,Object(s.composeWithDevTools)(Object(i.applyMiddleware)(j.a)))},c.a.createElement(se.a,null,c.a.createElement(vc,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[94,1,2]]]);
//# sourceMappingURL=main.96e25cf6.chunk.js.map